const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardPage-BBeqXBvH.js","assets/PremiumLoader-PHRqGvbV.js","assets/dollar-sign-BjH1xjIr.js","assets/trending-up-EYVkXU4D.js","assets/chart-column-htPS9c1g.js","assets/DashboardPage-D-eoH1KQ.css","assets/CreateLinkPage-KCWtVDXj.js","assets/copy-BsP5xzZc.js","assets/sparkles-MqQIvnEv.js","assets/chevron-down-DMj3gB_n.js","assets/eye-off-S5zz9gx8.js","assets/LinksPage-PS9FbQkr.js","assets/shield-CAuNMRP7.js","assets/PremiumBackground-dW7LMJh9.css","assets/LinksHub-DvThVo-1.js","assets/AnalyticsPage-BGcf1rPy.js","assets/AnalyticsPage-C932fU0v.css","assets/PayoutsPage-hC2FOqTQ.js","assets/SettingsPage-BjGp4dqZ.js","assets/plus-4gwbB8wD.js","assets/SettingsPage-DFI0hMev.css","assets/BioEditorPage-CdzbfEjh.js","assets/BioEditorPage-C3cUvdPV.css","assets/ReferralsPage-B5gO7AJj.js","assets/AdminPage-B1hQlA63.js"])))=>i.map(i=>d[i]);
function Wy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ik(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Hy={exports:{}},uc={},qy={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=Symbol.for("react.element"),ok=Symbol.for("react.portal"),ak=Symbol.for("react.fragment"),lk=Symbol.for("react.strict_mode"),ck=Symbol.for("react.profiler"),uk=Symbol.for("react.provider"),dk=Symbol.for("react.context"),hk=Symbol.for("react.forward_ref"),fk=Symbol.for("react.suspense"),pk=Symbol.for("react.memo"),mk=Symbol.for("react.lazy"),qp=Symbol.iterator;function gk(e){return e===null||typeof e!="object"?null:(e=qp&&e[qp]||e["@@iterator"],typeof e=="function"?e:null)}var Ky={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gy=Object.assign,Yy={};function ys(e,t,n){this.props=e,this.context=t,this.refs=Yy,this.updater=n||Ky}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xy(){}Xy.prototype=ys.prototype;function Mh(e,t,n){this.props=e,this.context=t,this.refs=Yy,this.updater=n||Ky}var Nh=Mh.prototype=new Xy;Nh.constructor=Mh;Gy(Nh,ys.prototype);Nh.isPureReactComponent=!0;var Kp=Array.isArray,Jy=Object.prototype.hasOwnProperty,$h={current:null},Qy={key:!0,ref:!0,__self:!0,__source:!0};function Zy(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Jy.call(t,r)&&!Qy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qo,type:e,key:s,ref:o,props:i,_owner:$h.current}}function yk(e,t){return{$$typeof:Qo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qo}function vk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gp=/\/+/g;function Kc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vk(""+e.key):t.toString(36)}function sl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qo:case ok:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Kc(o,0):r,Kp(i)?(n="",e!=null&&(n=e.replace(Gp,"$&/")+"/"),sl(i,t,n,"",function(c){return c})):i!=null&&(Fh(i)&&(i=yk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gp,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Kp(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Kc(s,a);o+=sl(s,t,n,l,i)}else if(l=gk(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Kc(s,a++),o+=sl(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xa(e,t,n){if(e==null)return e;var r=[],i=0;return sl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function wk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wt={current:null},ol={transition:null},xk={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:ol,ReactCurrentOwner:$h};function ev(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:xa,forEach:function(e,t,n){xa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xa(e,function(){t++}),t},toArray:function(e){return xa(e,function(t){return t})||[]},only:function(e){if(!Fh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=ys;ae.Fragment=ak;ae.Profiler=ck;ae.PureComponent=Mh;ae.StrictMode=lk;ae.Suspense=fk;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk;ae.act=ev;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gy({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=$h.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Jy.call(t,l)&&!Qy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qo,type:e.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:dk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uk,_context:e},e.Consumer=e};ae.createElement=Zy;ae.createFactory=function(e){var t=Zy.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:hk,render:e}};ae.isValidElement=Fh;ae.lazy=function(e){return{$$typeof:mk,_payload:{_status:-1,_result:e},_init:wk}};ae.memo=function(e,t){return{$$typeof:pk,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=ol.transition;ol.transition={};try{e()}finally{ol.transition=t}};ae.unstable_act=ev;ae.useCallback=function(e,t){return wt.current.useCallback(e,t)};ae.useContext=function(e){return wt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return wt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return wt.current.useEffect(e,t)};ae.useId=function(){return wt.current.useId()};ae.useImperativeHandle=function(e,t,n){return wt.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return wt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return wt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return wt.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return wt.current.useReducer(e,t,n)};ae.useRef=function(e){return wt.current.useRef(e)};ae.useState=function(e){return wt.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return wt.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return wt.current.useTransition()};ae.version="18.3.1";qy.exports=ae;var b=qy.exports;const tv=ik(b),iL=Wy({__proto__:null,default:tv},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk=b,_k=Symbol.for("react.element"),kk=Symbol.for("react.fragment"),Sk=Object.prototype.hasOwnProperty,Ek=bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ck={key:!0,ref:!0,__self:!0,__source:!0};function nv(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Sk.call(t,r)&&!Ck.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:_k,type:e,key:s,ref:o,props:i,_owner:Ek.current}}uc.Fragment=kk;uc.jsx=nv;uc.jsxs=nv;Hy.exports=uc;var p=Hy.exports,ed={},rv={exports:{}},$t={},iv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,$){var F=O.length;O.push($);e:for(;0<F;){var ie=F-1>>>1,ue=O[ie];if(0<i(ue,$))O[ie]=$,O[F]=ue,F=ie;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],F=O.pop();if(F!==$){O[0]=F;e:for(var ie=0,ue=O.length,Be=ue>>>1;ie<Be;){var xe=2*(ie+1)-1,At=O[xe],bt=xe+1,_t=O[bt];if(0>i(At,F))bt<ue&&0>i(_t,At)?(O[ie]=_t,O[bt]=F,ie=bt):(O[ie]=At,O[xe]=F,ie=xe);else if(bt<ue&&0>i(_t,F))O[ie]=_t,O[bt]=F,ie=bt;else break e}}return $}function i(O,$){var F=O.sortIndex-$.sortIndex;return F!==0?F:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=O)r(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(c)}}function k(O){if(v=!1,w(O),!m)if(n(l)!==null)m=!0,W(S);else{var $=n(c);$!==null&&Z(k,$.startTime-O)}}function S(O,$){m=!1,v&&(v=!1,g(P),P=-1),f=!0;var F=h;try{for(w($),d=n(l);d!==null&&(!(d.expirationTime>$)||O&&!M());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var ue=ie(d.expirationTime<=$);$=e.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(l)&&r(l),w($)}else r(l);d=n(l)}if(d!==null)var Be=!0;else{var xe=n(c);xe!==null&&Z(k,xe.startTime-$),Be=!1}return Be}finally{d=null,h=F,f=!1}}var C=!1,_=null,P=-1,D=5,j=-1;function M(){return!(e.unstable_now()-j<D)}function B(){if(_!==null){var O=e.unstable_now();j=O;var $=!0;try{$=_(!0,O)}finally{$?Y():(C=!1,_=null)}}else C=!1}var Y;if(typeof y=="function")Y=function(){y(B)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,re=ce.port2;ce.port1.onmessage=B,Y=function(){re.postMessage(null)}}else Y=function(){x(B,0)};function W(O){_=O,C||(C=!0,Y())}function Z(O,$){P=x(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,W(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var F=h;h=$;try{return O()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=h;h=O;try{return $()}finally{h=F}},e.unstable_scheduleCallback=function(O,$,F){var ie=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ie+F:ie):F=ie,O){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=F+ue,O={id:u++,callback:$,priorityLevel:O,startTime:F,expirationTime:ue,sortIndex:-1},F>ie?(O.sortIndex=F,t(c,O),n(l)===null&&O===n(c)&&(v?(g(P),P=-1):v=!0,Z(k,F-ie))):(O.sortIndex=ue,t(l,O),m||f||(m=!0,W(S))),O},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(O){var $=h;return function(){var F=h;h=$;try{return O.apply(this,arguments)}finally{h=F}}}})(sv);iv.exports=sv;var Tk=iv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=b,Nt=Tk;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ov=new Set,bo={};function pi(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(bo[e]=t,e=0;e<t.length;e++)ov.add(t[e])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=Object.prototype.hasOwnProperty,Ak=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yp={},Xp={};function jk(e){return td.call(Xp,e)?!0:td.call(Yp,e)?!1:Ak.test(e)?Xp[e]=!0:(Yp[e]=!0,!1)}function Rk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dk(e,t,n,r){if(t===null||typeof t>"u"||Rk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zh=/[\-:]([a-z])/g;function Bh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zh,Bh);it[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zh,Bh);it[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zh,Bh);it[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uh(e,t,n,r){var i=it.hasOwnProperty(t)?it[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dk(t,n,i,r)&&(n=null),r||i===null?jk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xn=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),nd=Symbol.for("react.profiler"),av=Symbol.for("react.provider"),lv=Symbol.for("react.context"),Wh=Symbol.for("react.forward_ref"),rd=Symbol.for("react.suspense"),id=Symbol.for("react.suspense_list"),Hh=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),cv=Symbol.for("react.offscreen"),Jp=Symbol.iterator;function Ls(e){return e===null||typeof e!="object"?null:(e=Jp&&e[Jp]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Gc;function Ys(e){if(Gc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gc=t&&t[1]||""}return`
`+Gc+e}var Yc=!1;function Xc(e,t){if(!e||Yc)return"";Yc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ys(e):""}function Ok(e){switch(e.tag){case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return e=Xc(e.type,!1),e;case 11:return e=Xc(e.type.render,!1),e;case 1:return e=Xc(e.type,!0),e;default:return""}}function sd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ji:return"Fragment";case Ai:return"Portal";case nd:return"Profiler";case Vh:return"StrictMode";case rd:return"Suspense";case id:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lv:return(e.displayName||"Context")+".Consumer";case av:return(e._context.displayName||"Context")+".Provider";case Wh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hh:return t=e.displayName||null,t!==null?t:sd(e.type)||"Memo";case ar:t=e._payload,e=e._init;try{return sd(e(t))}catch{}}return null}function Ik(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sd(t);case 8:return t===Vh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lk(e){var t=uv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _a(e){e._valueTracker||(e._valueTracker=Lk(e))}function dv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function El(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function od(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hv(e,t){t=t.checked,t!=null&&Uh(e,"checked",t,!1)}function ad(e,t){hv(e,t);var n=Tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ld(e,t.type,n):t.hasOwnProperty("defaultValue")&&ld(e,t.type,Tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ld(e,t,n){(t!=="number"||El(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xs=Array.isArray;function Ki(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function cd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function em(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Xs(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tr(n)}}function fv(e,t){var n=Tr(t.value),r=Tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ud(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ka,mv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ka.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _o(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mk=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(e){Mk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),so[t]=so[e]})});function gv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||so.hasOwnProperty(e)&&so[e]?(""+t).trim():t+"px"}function yv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Nk=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dd(e,t){if(t){if(Nk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function hd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fd=null;function qh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pd=null,Gi=null,Yi=null;function nm(e){if(e=ta(e)){if(typeof pd!="function")throw Error(L(280));var t=e.stateNode;t&&(t=mc(t),pd(e.stateNode,e.type,t))}}function vv(e){Gi?Yi?Yi.push(e):Yi=[e]:Gi=e}function wv(){if(Gi){var e=Gi,t=Yi;if(Yi=Gi=null,nm(e),t)for(e=0;e<t.length;e++)nm(t[e])}}function xv(e,t){return e(t)}function bv(){}var Jc=!1;function _v(e,t,n){if(Jc)return e(t,n);Jc=!0;try{return xv(e,t,n)}finally{Jc=!1,(Gi!==null||Yi!==null)&&(bv(),wv())}}function ko(e,t){var n=e.stateNode;if(n===null)return null;var r=mc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var md=!1;if(Wn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){md=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{md=!1}function $k(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var oo=!1,Cl=null,Tl=!1,gd=null,Fk={onError:function(e){oo=!0,Cl=e}};function zk(e,t,n,r,i,s,o,a,l){oo=!1,Cl=null,$k.apply(Fk,arguments)}function Bk(e,t,n,r,i,s,o,a,l){if(zk.apply(this,arguments),oo){if(oo){var c=Cl;oo=!1,Cl=null}else throw Error(L(198));Tl||(Tl=!0,gd=c)}}function mi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rm(e){if(mi(e)!==e)throw Error(L(188))}function Uk(e){var t=e.alternate;if(!t){if(t=mi(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rm(i),e;if(s===r)return rm(i),t;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Sv(e){return e=Uk(e),e!==null?Ev(e):null}function Ev(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ev(e);if(t!==null)return t;e=e.sibling}return null}var Cv=Nt.unstable_scheduleCallback,im=Nt.unstable_cancelCallback,Vk=Nt.unstable_shouldYield,Wk=Nt.unstable_requestPaint,Ne=Nt.unstable_now,Hk=Nt.unstable_getCurrentPriorityLevel,Kh=Nt.unstable_ImmediatePriority,Tv=Nt.unstable_UserBlockingPriority,Pl=Nt.unstable_NormalPriority,qk=Nt.unstable_LowPriority,Pv=Nt.unstable_IdlePriority,dc=null,Sn=null;function Kk(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(dc,e,void 0,(e.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Xk,Gk=Math.log,Yk=Math.LN2;function Xk(e){return e>>>=0,e===0?32:31-(Gk(e)/Yk|0)|0}var Sa=64,Ea=4194304;function Js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Al(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Js(a):(s&=o,s!==0&&(r=Js(s)))}else o=n&~i,o!==0?r=Js(o):s!==0&&(r=Js(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cn(t),i=1<<n,r|=e[n],t&=~i;return r}function Jk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Jk(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function yd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Av(){var e=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),e}function Qc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=n}function Zk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Gh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var me=0;function jv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rv,Yh,Dv,Ov,Iv,vd=!1,Ca=[],vr=null,wr=null,xr=null,So=new Map,Eo=new Map,cr=[],e2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sm(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":So.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(t.pointerId)}}function Ns(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ta(t),t!==null&&Yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function t2(e,t,n,r,i){switch(t){case"focusin":return vr=Ns(vr,e,t,n,r,i),!0;case"dragenter":return wr=Ns(wr,e,t,n,r,i),!0;case"mouseover":return xr=Ns(xr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return So.set(s,Ns(So.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Eo.set(s,Ns(Eo.get(s)||null,e,t,n,r,i)),!0}return!1}function Lv(e){var t=Qr(e.target);if(t!==null){var n=mi(t);if(n!==null){if(t=n.tag,t===13){if(t=kv(n),t!==null){e.blockedOn=t,Iv(e.priority,function(){Dv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function al(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fd=r,n.target.dispatchEvent(r),fd=null}else return t=ta(n),t!==null&&Yh(t),e.blockedOn=n,!1;t.shift()}return!0}function om(e,t,n){al(e)&&n.delete(t)}function n2(){vd=!1,vr!==null&&al(vr)&&(vr=null),wr!==null&&al(wr)&&(wr=null),xr!==null&&al(xr)&&(xr=null),So.forEach(om),Eo.forEach(om)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,vd||(vd=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,n2)))}function Co(e){function t(i){return $s(i,e)}if(0<Ca.length){$s(Ca[0],e);for(var n=1;n<Ca.length;n++){var r=Ca[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vr!==null&&$s(vr,e),wr!==null&&$s(wr,e),xr!==null&&$s(xr,e),So.forEach(t),Eo.forEach(t),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)Lv(n),n.blockedOn===null&&cr.shift()}var Xi=Xn.ReactCurrentBatchConfig,jl=!0;function r2(e,t,n,r){var i=me,s=Xi.transition;Xi.transition=null;try{me=1,Xh(e,t,n,r)}finally{me=i,Xi.transition=s}}function i2(e,t,n,r){var i=me,s=Xi.transition;Xi.transition=null;try{me=4,Xh(e,t,n,r)}finally{me=i,Xi.transition=s}}function Xh(e,t,n,r){if(jl){var i=wd(e,t,n,r);if(i===null)lu(e,t,r,Rl,n),sm(e,r);else if(t2(i,e,t,n,r))r.stopPropagation();else if(sm(e,r),t&4&&-1<e2.indexOf(e)){for(;i!==null;){var s=ta(i);if(s!==null&&Rv(s),s=wd(e,t,n,r),s===null&&lu(e,t,r,Rl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lu(e,t,r,null,n)}}var Rl=null;function wd(e,t,n,r){if(Rl=null,e=qh(r),e=Qr(e),e!==null)if(t=mi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rl=e,null}function Mv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hk()){case Kh:return 1;case Tv:return 4;case Pl:case qk:return 16;case Pv:return 536870912;default:return 16}default:return 16}}var mr=null,Jh=null,ll=null;function Nv(){if(ll)return ll;var e,t=Jh,n=t.length,r,i="value"in mr?mr.value:mr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ll=i.slice(e,1<r?1-r:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function am(){return!1}function Ft(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ta:am,this.isPropagationStopped=am,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qh=Ft(vs),ea=Oe({},vs,{view:0,detail:0}),s2=Ft(ea),Zc,eu,Fs,hc=Oe({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(Zc=e.screenX-Fs.screenX,eu=e.screenY-Fs.screenY):eu=Zc=0,Fs=e),Zc)},movementY:function(e){return"movementY"in e?e.movementY:eu}}),lm=Ft(hc),o2=Oe({},hc,{dataTransfer:0}),a2=Ft(o2),l2=Oe({},ea,{relatedTarget:0}),tu=Ft(l2),c2=Oe({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),u2=Ft(c2),d2=Oe({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h2=Ft(d2),f2=Oe({},vs,{data:0}),cm=Ft(f2),p2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g2[e])?!!t[e]:!1}function Zh(){return y2}var v2=Oe({},ea,{key:function(e){if(e.key){var t=p2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w2=Ft(v2),x2=Oe({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=Ft(x2),b2=Oe({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),_2=Ft(b2),k2=Oe({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),S2=Ft(k2),E2=Oe({},hc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C2=Ft(E2),T2=[9,13,27,32],ef=Wn&&"CompositionEvent"in window,ao=null;Wn&&"documentMode"in document&&(ao=document.documentMode);var P2=Wn&&"TextEvent"in window&&!ao,$v=Wn&&(!ef||ao&&8<ao&&11>=ao),dm=" ",hm=!1;function Fv(e,t){switch(e){case"keyup":return T2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function A2(e,t){switch(e){case"compositionend":return zv(t);case"keypress":return t.which!==32?null:(hm=!0,dm);case"textInput":return e=t.data,e===dm&&hm?null:e;default:return null}}function j2(e,t){if(Ri)return e==="compositionend"||!ef&&Fv(e,t)?(e=Nv(),ll=Jh=mr=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $v&&t.locale!=="ko"?null:t.data;default:return null}}var R2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!R2[e.type]:t==="textarea"}function Bv(e,t,n,r){vv(r),t=Dl(t,"onChange"),0<t.length&&(n=new Qh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var lo=null,To=null;function D2(e){Qv(e,0)}function fc(e){var t=Ii(e);if(dv(t))return e}function O2(e,t){if(e==="change")return t}var Uv=!1;if(Wn){var nu;if(Wn){var ru="oninput"in document;if(!ru){var pm=document.createElement("div");pm.setAttribute("oninput","return;"),ru=typeof pm.oninput=="function"}nu=ru}else nu=!1;Uv=nu&&(!document.documentMode||9<document.documentMode)}function mm(){lo&&(lo.detachEvent("onpropertychange",Vv),To=lo=null)}function Vv(e){if(e.propertyName==="value"&&fc(To)){var t=[];Bv(t,To,e,qh(e)),_v(D2,t)}}function I2(e,t,n){e==="focusin"?(mm(),lo=t,To=n,lo.attachEvent("onpropertychange",Vv)):e==="focusout"&&mm()}function L2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fc(To)}function M2(e,t){if(e==="click")return fc(t)}function N2(e,t){if(e==="input"||e==="change")return fc(t)}function $2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:$2;function Po(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!td.call(t,i)||!dn(e[i],t[i]))return!1}return!0}function gm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ym(e,t){var n=gm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gm(n)}}function Wv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hv(){for(var e=window,t=El();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=El(e.document)}return t}function tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function F2(e){var t=Hv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wv(n.ownerDocument.documentElement,n)){if(r!==null&&tf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ym(n,s);var o=ym(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var z2=Wn&&"documentMode"in document&&11>=document.documentMode,Di=null,xd=null,co=null,bd=!1;function vm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bd||Di==null||Di!==El(r)||(r=Di,"selectionStart"in r&&tf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&Po(co,r)||(co=r,r=Dl(xd,"onSelect"),0<r.length&&(t=new Qh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Di)))}function Pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oi={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},iu={},qv={};Wn&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function pc(e){if(iu[e])return iu[e];if(!Oi[e])return e;var t=Oi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qv)return iu[e]=t[n];return e}var Kv=pc("animationend"),Gv=pc("animationiteration"),Yv=pc("animationstart"),Xv=pc("transitionend"),Jv=new Map,wm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Jv.set(e,t),pi(t,[e])}for(var su=0;su<wm.length;su++){var ou=wm[su],B2=ou.toLowerCase(),U2=ou[0].toUpperCase()+ou.slice(1);Rr(B2,"on"+U2)}Rr(Kv,"onAnimationEnd");Rr(Gv,"onAnimationIteration");Rr(Yv,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(Xv,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function xm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bk(r,t,void 0,e),e.currentTarget=null}function Qv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;xm(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;xm(i,a,c),s=l}}}if(Tl)throw e=gd,Tl=!1,gd=null,e}function ke(e,t){var n=t[Cd];n===void 0&&(n=t[Cd]=new Set);var r=e+"__bubble";n.has(r)||(Zv(t,e,2,!1),n.add(r))}function au(e,t,n){var r=0;t&&(r|=4),Zv(n,e,r,t)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function Ao(e){if(!e[Aa]){e[Aa]=!0,ov.forEach(function(n){n!=="selectionchange"&&(V2.has(n)||au(n,!1,e),au(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Aa]||(t[Aa]=!0,au("selectionchange",!1,t))}}function Zv(e,t,n,r){switch(Mv(t)){case 1:var i=r2;break;case 4:i=i2;break;default:i=Xh}n=i.bind(null,t,n,e),i=void 0,!md||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_v(function(){var c=s,u=qh(n),d=[];e:{var h=Jv.get(e);if(h!==void 0){var f=Qh,m=e;switch(e){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":f=w2;break;case"focusin":m="focus",f=tu;break;case"focusout":m="blur",f=tu;break;case"beforeblur":case"afterblur":f=tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=a2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=_2;break;case Kv:case Gv:case Yv:f=u2;break;case Xv:f=S2;break;case"scroll":f=s2;break;case"wheel":f=C2;break;case"copy":case"cut":case"paste":f=h2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=um}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,g!==null&&(k=ko(y,g),k!=null&&v.push(jo(y,k,w)))),x)break;y=y.return}0<v.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==fd&&(m=n.relatedTarget||n.fromElement)&&(Qr(m)||m[Hn]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?Qr(m):null,m!==null&&(x=mi(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(v=lm,k="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=um,k="onPointerLeave",g="onPointerEnter",y="pointer"),x=f==null?h:Ii(f),w=m==null?h:Ii(m),h=new v(k,y+"leave",f,n,u),h.target=x,h.relatedTarget=w,k=null,Qr(u)===c&&(v=new v(g,y+"enter",m,n,u),v.target=w,v.relatedTarget=x,k=v),x=k,f&&m)t:{for(v=f,g=m,y=0,w=v;w;w=vi(w))y++;for(w=0,k=g;k;k=vi(k))w++;for(;0<y-w;)v=vi(v),y--;for(;0<w-y;)g=vi(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=vi(v),g=vi(g)}v=null}else v=null;f!==null&&bm(d,h,f,v,!1),m!==null&&x!==null&&bm(d,x,m,v,!0)}}e:{if(h=c?Ii(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=O2;else if(fm(h))if(Uv)S=N2;else{S=L2;var C=I2}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=M2);if(S&&(S=S(e,c))){Bv(d,S,n,u);break e}C&&C(e,h,c),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&ld(h,"number",h.value)}switch(C=c?Ii(c):window,e){case"focusin":(fm(C)||C.contentEditable==="true")&&(Di=C,xd=c,co=null);break;case"focusout":co=xd=Di=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,vm(d,n,u);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":vm(d,n,u)}var _;if(ef)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ri?Fv(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&($v&&n.locale!=="ko"&&(Ri||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ri&&(_=Nv()):(mr=u,Jh="value"in mr?mr.value:mr.textContent,Ri=!0)),C=Dl(c,P),0<C.length&&(P=new cm(P,e,null,n,u),d.push({event:P,listeners:C}),_?P.data=_:(_=zv(n),_!==null&&(P.data=_)))),(_=P2?A2(e,n):j2(e,n))&&(c=Dl(c,"onBeforeInput"),0<c.length&&(u=new cm("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}Qv(d,t)})}function jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ko(e,n),s!=null&&r.unshift(jo(e,s,i)),s=ko(e,t),s!=null&&r.push(jo(e,s,i))),e=e.return}return r}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bm(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ko(n,s),l!=null&&o.unshift(jo(n,l,a))):i||(l=ko(n,s),l!=null&&o.push(jo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var W2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function _m(e){return(typeof e=="string"?e:""+e).replace(W2,`
`).replace(H2,"")}function ja(e,t,n){if(t=_m(t),_m(e)!==t&&n)throw Error(L(425))}function Ol(){}var _d=null,kd=null;function Sd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ed=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,K2=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(e){return km.resolve(null).then(e).catch(G2)}:Ed;function G2(e){setTimeout(function(){throw e})}function cu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Co(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Co(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ws=Math.random().toString(36).slice(2),xn="__reactFiber$"+ws,Ro="__reactProps$"+ws,Hn="__reactContainer$"+ws,Cd="__reactEvents$"+ws,Y2="__reactListeners$"+ws,X2="__reactHandles$"+ws;function Qr(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hn]||n[xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sm(e);e!==null;){if(n=e[xn])return n;e=Sm(e)}return t}e=n,n=e.parentNode}return null}function ta(e){return e=e[xn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function mc(e){return e[Ro]||null}var Td=[],Li=-1;function Dr(e){return{current:e}}function Se(e){0>Li||(e.current=Td[Li],Td[Li]=null,Li--)}function we(e,t){Li++,Td[Li]=e.current,e.current=t}var Pr={},ft=Dr(Pr),Ct=Dr(!1),ci=Pr;function is(e,t){var n=e.type.contextTypes;if(!n)return Pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Tt(e){return e=e.childContextTypes,e!=null}function Il(){Se(Ct),Se(ft)}function Em(e,t,n){if(ft.current!==Pr)throw Error(L(168));we(ft,t),we(Ct,n)}function ew(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(L(108,Ik(e)||"Unknown",i));return Oe({},n,r)}function Ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,ci=ft.current,we(ft,e),we(Ct,Ct.current),!0}function Cm(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=ew(e,t,ci),r.__reactInternalMemoizedMergedChildContext=e,Se(Ct),Se(ft),we(ft,e)):Se(Ct),we(Ct,n)}var zn=null,gc=!1,uu=!1;function tw(e){zn===null?zn=[e]:zn.push(e)}function J2(e){gc=!0,tw(e)}function Or(){if(!uu&&zn!==null){uu=!0;var e=0,t=me;try{var n=zn;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zn=null,gc=!1}catch(i){throw zn!==null&&(zn=zn.slice(e+1)),Cv(Kh,Or),i}finally{me=t,uu=!1}}return null}var Mi=[],Ni=0,Ml=null,Nl=0,Vt=[],Wt=0,ui=null,Bn=1,Un="";function Hr(e,t){Mi[Ni++]=Nl,Mi[Ni++]=Ml,Ml=e,Nl=t}function nw(e,t,n){Vt[Wt++]=Bn,Vt[Wt++]=Un,Vt[Wt++]=ui,ui=e;var r=Bn;e=Un;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bn=1<<32-cn(t)+i|n<<i|r,Un=s+e}else Bn=1<<s|n<<i|r,Un=e}function nf(e){e.return!==null&&(Hr(e,1),nw(e,1,0))}function rf(e){for(;e===Ml;)Ml=Mi[--Ni],Mi[Ni]=null,Nl=Mi[--Ni],Mi[Ni]=null;for(;e===ui;)ui=Vt[--Wt],Vt[Wt]=null,Un=Vt[--Wt],Vt[Wt]=null,Bn=Vt[--Wt],Vt[Wt]=null}var Mt=null,Lt=null,Ce=!1,ln=null;function rw(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ui!==null?{id:Bn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Lt=null,!0):!1;default:return!1}}function Pd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ad(e){if(Ce){var t=Lt;if(t){var n=t;if(!Tm(e,t)){if(Pd(e))throw Error(L(418));t=br(n.nextSibling);var r=Mt;t&&Tm(e,t)?rw(r,n):(e.flags=e.flags&-4097|2,Ce=!1,Mt=e)}}else{if(Pd(e))throw Error(L(418));e.flags=e.flags&-4097|2,Ce=!1,Mt=e}}}function Pm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Ra(e){if(e!==Mt)return!1;if(!Ce)return Pm(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sd(e.type,e.memoizedProps)),t&&(t=Lt)){if(Pd(e))throw iw(),Error(L(418));for(;t;)rw(e,t),t=br(t.nextSibling)}if(Pm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Mt?br(e.stateNode.nextSibling):null;return!0}function iw(){for(var e=Lt;e;)e=br(e.nextSibling)}function ss(){Lt=Mt=null,Ce=!1}function sf(e){ln===null?ln=[e]:ln.push(e)}var Q2=Xn.ReactCurrentBatchConfig;function zs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Da(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Am(e){var t=e._init;return t(e._payload)}function sw(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Er(g,y),g.index=0,g.sibling=null,g}function s(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,y,w,k){return y===null||y.tag!==6?(y=yu(w,g.mode,k),y.return=g,y):(y=i(y,w),y.return=g,y)}function l(g,y,w,k){var S=w.type;return S===ji?u(g,y,w.props.children,k,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ar&&Am(S)===y.type)?(k=i(y,w.props),k.ref=zs(g,y,w),k.return=g,k):(k=gl(w.type,w.key,w.props,null,g.mode,k),k.ref=zs(g,y,w),k.return=g,k)}function c(g,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=vu(w,g.mode,k),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function u(g,y,w,k,S){return y===null||y.tag!==7?(y=oi(w,g.mode,k,S),y.return=g,y):(y=i(y,w),y.return=g,y)}function d(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=yu(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ba:return w=gl(y.type,y.key,y.props,null,g.mode,w),w.ref=zs(g,null,y),w.return=g,w;case Ai:return y=vu(y,g.mode,w),y.return=g,y;case ar:var k=y._init;return d(g,k(y._payload),w)}if(Xs(y)||Ls(y))return y=oi(y,g.mode,w,null),y.return=g,y;Da(g,y)}return null}function h(g,y,w,k){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(g,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ba:return w.key===S?l(g,y,w,k):null;case Ai:return w.key===S?c(g,y,w,k):null;case ar:return S=w._init,h(g,y,S(w._payload),k)}if(Xs(w)||Ls(w))return S!==null?null:u(g,y,w,k,null);Da(g,w)}return null}function f(g,y,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(w)||null,a(y,g,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ba:return g=g.get(k.key===null?w:k.key)||null,l(y,g,k,S);case Ai:return g=g.get(k.key===null?w:k.key)||null,c(y,g,k,S);case ar:var C=k._init;return f(g,y,w,C(k._payload),S)}if(Xs(k)||Ls(k))return g=g.get(w)||null,u(y,g,k,S,null);Da(y,k)}return null}function m(g,y,w,k){for(var S=null,C=null,_=y,P=y=0,D=null;_!==null&&P<w.length;P++){_.index>P?(D=_,_=null):D=_.sibling;var j=h(g,_,w[P],k);if(j===null){_===null&&(_=D);break}e&&_&&j.alternate===null&&t(g,_),y=s(j,y,P),C===null?S=j:C.sibling=j,C=j,_=D}if(P===w.length)return n(g,_),Ce&&Hr(g,P),S;if(_===null){for(;P<w.length;P++)_=d(g,w[P],k),_!==null&&(y=s(_,y,P),C===null?S=_:C.sibling=_,C=_);return Ce&&Hr(g,P),S}for(_=r(g,_);P<w.length;P++)D=f(_,g,P,w[P],k),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?P:D.key),y=s(D,y,P),C===null?S=D:C.sibling=D,C=D);return e&&_.forEach(function(M){return t(g,M)}),Ce&&Hr(g,P),S}function v(g,y,w,k){var S=Ls(w);if(typeof S!="function")throw Error(L(150));if(w=S.call(w),w==null)throw Error(L(151));for(var C=S=null,_=y,P=y=0,D=null,j=w.next();_!==null&&!j.done;P++,j=w.next()){_.index>P?(D=_,_=null):D=_.sibling;var M=h(g,_,j.value,k);if(M===null){_===null&&(_=D);break}e&&_&&M.alternate===null&&t(g,_),y=s(M,y,P),C===null?S=M:C.sibling=M,C=M,_=D}if(j.done)return n(g,_),Ce&&Hr(g,P),S;if(_===null){for(;!j.done;P++,j=w.next())j=d(g,j.value,k),j!==null&&(y=s(j,y,P),C===null?S=j:C.sibling=j,C=j);return Ce&&Hr(g,P),S}for(_=r(g,_);!j.done;P++,j=w.next())j=f(_,g,P,j.value,k),j!==null&&(e&&j.alternate!==null&&_.delete(j.key===null?P:j.key),y=s(j,y,P),C===null?S=j:C.sibling=j,C=j);return e&&_.forEach(function(B){return t(g,B)}),Ce&&Hr(g,P),S}function x(g,y,w,k){if(typeof w=="object"&&w!==null&&w.type===ji&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ba:e:{for(var S=w.key,C=y;C!==null;){if(C.key===S){if(S=w.type,S===ji){if(C.tag===7){n(g,C.sibling),y=i(C,w.props.children),y.return=g,g=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ar&&Am(S)===C.type){n(g,C.sibling),y=i(C,w.props),y.ref=zs(g,C,w),y.return=g,g=y;break e}n(g,C);break}else t(g,C);C=C.sibling}w.type===ji?(y=oi(w.props.children,g.mode,k,w.key),y.return=g,g=y):(k=gl(w.type,w.key,w.props,null,g.mode,k),k.ref=zs(g,y,w),k.return=g,g=k)}return o(g);case Ai:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=i(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=vu(w,g.mode,k),y.return=g,g=y}return o(g);case ar:return C=w._init,x(g,y,C(w._payload),k)}if(Xs(w))return m(g,y,w,k);if(Ls(w))return v(g,y,w,k);Da(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,w),y.return=g,g=y):(n(g,y),y=yu(w,g.mode,k),y.return=g,g=y),o(g)):n(g,y)}return x}var os=sw(!0),ow=sw(!1),$l=Dr(null),Fl=null,$i=null,of=null;function af(){of=$i=Fl=null}function lf(e){var t=$l.current;Se($l),e._currentValue=t}function jd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Fl=e,of=$i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(of!==e)if(e={context:e,memoizedValue:t,next:null},$i===null){if(Fl===null)throw Error(L(308));$i=e,Fl.dependencies={lanes:0,firstContext:e}}else $i=$i.next=e;return t}var Zr=null;function cf(e){Zr===null?Zr=[e]:Zr.push(e)}function aw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,cf(t)):(n.next=i.next,i.next=n),t.interleaved=n,qn(e,r)}function qn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var lr=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qn(e,n)}return i=r.interleaved,i===null?(t.next=t,cf(r)):(t.next=i.next,i.next=t),r.interleaved=t,qn(e,n)}function ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gh(e,n)}}function jm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zl(e,t,n,r){var i=e.updateQueue;lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,v=a;switch(h=t,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Oe({},d,h);break e;case 2:lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);hi|=o,e.lanes=o,e.memoizedState=d}}function Rm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var na={},En=Dr(na),Do=Dr(na),Oo=Dr(na);function ei(e){if(e===na)throw Error(L(174));return e}function df(e,t){switch(we(Oo,t),we(Do,e),we(En,na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ud(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ud(t,e)}Se(En),we(En,t)}function as(){Se(En),Se(Do),Se(Oo)}function cw(e){ei(Oo.current);var t=ei(En.current),n=ud(t,e.type);t!==n&&(we(Do,e),we(En,n))}function hf(e){Do.current===e&&(Se(En),Se(Do))}var Ae=Dr(0);function Bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var du=[];function ff(){for(var e=0;e<du.length;e++)du[e]._workInProgressVersionPrimary=null;du.length=0}var dl=Xn.ReactCurrentDispatcher,hu=Xn.ReactCurrentBatchConfig,di=0,Re=null,He=null,Xe=null,Ul=!1,uo=!1,Io=0,Z2=0;function ot(){throw Error(L(321))}function pf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function mf(e,t,n,r,i,s){if(di=s,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=e===null||e.memoizedState===null?rS:iS,e=n(r,i),uo){s=0;do{if(uo=!1,Io=0,25<=s)throw Error(L(301));s+=1,Xe=He=null,t.updateQueue=null,dl.current=sS,e=n(r,i)}while(uo)}if(dl.current=Vl,t=He!==null&&He.next!==null,di=0,Xe=He=Re=null,Ul=!1,t)throw Error(L(300));return e}function gf(){var e=Io!==0;return Io=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Re.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Xt(){if(He===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Xe===null?Re.memoizedState:Xe.next;if(t!==null)Xe=t,He=e;else{if(e===null)throw Error(L(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Xe===null?Re.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Lo(e,t){return typeof t=="function"?t(e):t}function fu(e){var t=Xt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((di&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Re.lanes|=u,hi|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,dn(r,t.memoizedState)||(St=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Re.lanes|=s,hi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pu(e){var t=Xt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);dn(s,t.memoizedState)||(St=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function uw(){}function dw(e,t){var n=Re,r=Xt(),i=t(),s=!dn(r.memoizedState,i);if(s&&(r.memoizedState=i,St=!0),r=r.queue,yf(pw.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Mo(9,fw.bind(null,n,r,i,t),void 0,null),Je===null)throw Error(L(349));di&30||hw(n,t,i)}return i}function hw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fw(e,t,n,r){t.value=n,t.getSnapshot=r,mw(t)&&gw(e)}function pw(e,t,n){return n(function(){mw(t)&&gw(e)})}function mw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function gw(e){var t=qn(e,1);t!==null&&un(t,e,1,-1)}function Dm(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:e},t.queue=e,e=e.dispatch=nS.bind(null,Re,e),[t.memoizedState,e]}function Mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yw(){return Xt().memoizedState}function hl(e,t,n,r){var i=wn();Re.flags|=e,i.memoizedState=Mo(1|t,n,void 0,r===void 0?null:r)}function yc(e,t,n,r){var i=Xt();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&pf(r,o.deps)){i.memoizedState=Mo(t,n,s,r);return}}Re.flags|=e,i.memoizedState=Mo(1|t,n,s,r)}function Om(e,t){return hl(8390656,8,e,t)}function yf(e,t){return yc(2048,8,e,t)}function vw(e,t){return yc(4,2,e,t)}function ww(e,t){return yc(4,4,e,t)}function xw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bw(e,t,n){return n=n!=null?n.concat([e]):null,yc(4,4,xw.bind(null,t,e),n)}function vf(){}function _w(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kw(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sw(e,t,n){return di&21?(dn(n,t)||(n=Av(),Re.lanes|=n,hi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=n)}function eS(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=hu.transition;hu.transition={};try{e(!1),t()}finally{me=n,hu.transition=r}}function Ew(){return Xt().memoizedState}function tS(e,t,n){var r=Sr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cw(e))Tw(t,n);else if(n=aw(e,t,n,r),n!==null){var i=vt();un(n,e,r,i),Pw(n,t,r)}}function nS(e,t,n){var r=Sr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cw(e))Tw(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,dn(a,o)){var l=t.interleaved;l===null?(i.next=i,cf(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=aw(e,t,i,r),n!==null&&(i=vt(),un(n,e,r,i),Pw(n,t,r))}}function Cw(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function Tw(e,t){uo=Ul=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gh(e,n)}}var Vl={readContext:Yt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},rS={readContext:Yt,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:Om,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hl(4194308,4,xw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return hl(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tS.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:Dm,useDebugValue:vf,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=Dm(!1),t=e[0];return e=eS.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,i=wn();if(Ce){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Je===null)throw Error(L(349));di&30||hw(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Om(pw.bind(null,r,s,e),[e]),r.flags|=2048,Mo(9,fw.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=wn(),t=Je.identifierPrefix;if(Ce){var n=Un,r=Bn;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Io++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Z2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iS={readContext:Yt,useCallback:_w,useContext:Yt,useEffect:yf,useImperativeHandle:bw,useInsertionEffect:vw,useLayoutEffect:ww,useMemo:kw,useReducer:fu,useRef:yw,useState:function(){return fu(Lo)},useDebugValue:vf,useDeferredValue:function(e){var t=Xt();return Sw(t,He.memoizedState,e)},useTransition:function(){var e=fu(Lo)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:uw,useSyncExternalStore:dw,useId:Ew,unstable_isNewReconciler:!1},sS={readContext:Yt,useCallback:_w,useContext:Yt,useEffect:yf,useImperativeHandle:bw,useInsertionEffect:vw,useLayoutEffect:ww,useMemo:kw,useReducer:pu,useRef:yw,useState:function(){return pu(Lo)},useDebugValue:vf,useDeferredValue:function(e){var t=Xt();return He===null?t.memoizedState=e:Sw(t,He.memoizedState,e)},useTransition:function(){var e=pu(Lo)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:uw,useSyncExternalStore:dw,useId:Ew,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vc={isMounted:function(e){return(e=e._reactInternals)?mi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vt(),i=Sr(e),s=Vn(r,i);s.payload=t,n!=null&&(s.callback=n),t=_r(e,s,i),t!==null&&(un(t,e,i,r),ul(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vt(),i=Sr(e),s=Vn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=_r(e,s,i),t!==null&&(un(t,e,i,r),ul(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),r=Sr(e),i=Vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=_r(e,i,r),t!==null&&(un(t,e,r,n),ul(t,e,r))}};function Im(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Po(n,r)||!Po(i,s):!0}function Aw(e,t,n){var r=!1,i=Pr,s=t.contextType;return typeof s=="object"&&s!==null?s=Yt(s):(i=Tt(t)?ci:ft.current,r=t.contextTypes,s=(r=r!=null)?is(e,i):Pr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Lm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vc.enqueueReplaceState(t,t.state,null)}function Dd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},uf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Yt(s):(s=Tt(t)?ci:ft.current,i.context=is(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Rd(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vc.enqueueReplaceState(i,i.state,null),zl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do n+=Ok(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function mu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Od(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oS=typeof WeakMap=="function"?WeakMap:Map;function jw(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vd=r),Od(e,t)},n}function Rw(e,t,n){n=Vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Od(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Od(e,t),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Mm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xS.bind(null,e,t,n),t.then(e,e))}function Nm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $m(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var aS=Xn.ReactCurrentOwner,St=!1;function pt(e,t,n,r){t.child=e===null?ow(t,null,n,r):os(t,e.child,n,r)}function Fm(e,t,n,r,i){n=n.render;var s=t.ref;return Ji(t,i),r=mf(e,t,n,r,s,i),n=gf(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(Ce&&n&&nf(t),t.flags|=1,pt(e,t,r,i),t.child)}function zm(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Cf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Dw(e,t,s,r,i)):(e=gl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Po,n(o,r)&&e.ref===t.ref)return Kn(e,t,i)}return t.flags|=1,e=Er(s,r),e.ref=t.ref,e.return=t,t.child=e}function Dw(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Po(s,r)&&e.ref===t.ref)if(St=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,Kn(e,t,i)}return Id(e,t,n,r,i)}function Ow(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(zi,Rt),Rt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(zi,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(zi,Rt),Rt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,we(zi,Rt),Rt|=r;return pt(e,t,i,n),t.child}function Iw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Id(e,t,n,r,i){var s=Tt(n)?ci:ft.current;return s=is(t,s),Ji(t,i),n=mf(e,t,n,r,s,i),r=gf(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(Ce&&r&&nf(t),t.flags|=1,pt(e,t,n,i),t.child)}function Bm(e,t,n,r,i){if(Tt(n)){var s=!0;Ll(t)}else s=!1;if(Ji(t,i),t.stateNode===null)fl(e,t),Aw(t,n,r),Dd(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yt(c):(c=Tt(n)?ci:ft.current,c=is(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Lm(t,o,r,c),lr=!1;var h=t.memoizedState;o.state=h,zl(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ct.current||lr?(typeof u=="function"&&(Rd(t,n,u,r),l=t.memoizedState),(a=lr||Im(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,lw(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:rn(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yt(l):(l=Tt(n)?ci:ft.current,l=is(t,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Lm(t,o,r,l),lr=!1,h=t.memoizedState,o.state=h,zl(t,r,o,i);var m=t.memoizedState;a!==d||h!==m||Ct.current||lr?(typeof f=="function"&&(Rd(t,n,f,r),m=t.memoizedState),(c=lr||Im(t,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ld(e,t,n,r,s,i)}function Ld(e,t,n,r,i,s){Iw(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Cm(t,n,!1),Kn(e,t,s);r=t.stateNode,aS.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=os(t,e.child,null,s),t.child=os(t,null,a,s)):pt(e,t,a,s),t.memoizedState=r.state,i&&Cm(t,n,!0),t.child}function Lw(e){var t=e.stateNode;t.pendingContext?Em(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Em(e,t.context,!1),df(e,t.containerInfo)}function Um(e,t,n,r,i){return ss(),sf(i),t.flags|=256,pt(e,t,n,r),t.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function Nd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mw(e,t,n){var r=t.pendingProps,i=Ae.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),we(Ae,i&1),e===null)return Ad(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bc(o,r,0,null),e=oi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Nd(n),t.memoizedState=Md,e):wf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return lS(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Er(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Er(a,s):(s=oi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Nd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Md,r}return s=e.child,e=s.sibling,r=Er(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wf(e,t){return t=bc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oa(e,t,n,r){return r!==null&&sf(r),os(t,e.child,null,n),e=wf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=mu(Error(L(422))),Oa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=bc({mode:"visible",children:r.children},i,0,null),s=oi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&os(t,e.child,null,o),t.child.memoizedState=Nd(o),t.memoizedState=Md,s);if(!(t.mode&1))return Oa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=mu(s,r,void 0),Oa(e,t,o,r)}if(a=(o&e.childLanes)!==0,St||a){if(r=Je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(e,i),un(r,e,i,-1))}return Ef(),r=mu(Error(L(421))),Oa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Lt=br(i.nextSibling),Mt=t,Ce=!0,ln=null,e!==null&&(Vt[Wt++]=Bn,Vt[Wt++]=Un,Vt[Wt++]=ui,Bn=e.id,Un=e.overflow,ui=t),t=wf(t,r.children),t.flags|=4096,t)}function Vm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jd(e.return,t,n)}function gu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Nw(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(pt(e,t,r.children,n),r=Ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vm(e,n,t);else if(e.tag===19)Vm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(Ae,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),gu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}gu(t,!0,n,null,s);break;case"together":gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cS(e,t,n){switch(t.tag){case 3:Lw(t),ss();break;case 5:cw(t);break;case 1:Tt(t.type)&&Ll(t);break;case 4:df(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;we($l,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(Ae,Ae.current&1),t.flags|=128,null):n&t.child.childLanes?Mw(e,t,n):(we(Ae,Ae.current&1),e=Kn(e,t,n),e!==null?e.sibling:null);we(Ae,Ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Nw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Ae,Ae.current),r)break;return null;case 22:case 23:return t.lanes=0,Ow(e,t,n)}return Kn(e,t,n)}var $w,$d,Fw,zw;$w=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$d=function(){};Fw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ei(En.current);var s=null;switch(n){case"input":i=od(e,i),r=od(e,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=cd(e,i),r=cd(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ol)}dd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ke("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};zw=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uS(e,t,n){var r=t.pendingProps;switch(rf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return Tt(t.type)&&Il(),at(t),null;case 3:return r=t.stateNode,as(),Se(Ct),Se(ft),ff(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ln!==null&&(qd(ln),ln=null))),$d(e,t),at(t),null;case 5:hf(t);var i=ei(Oo.current);if(n=t.type,e!==null&&t.stateNode!=null)Fw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return at(t),null}if(e=ei(En.current),Ra(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[xn]=t,r[Ro]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Qs.length;i++)ke(Qs[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Qp(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":em(r,s),ke("invalid",r)}dd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ja(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ja(r.textContent,a,e),i=["children",""+a]):bo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":_a(r),Zp(r,s,!0);break;case"textarea":_a(r),tm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ol)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[xn]=t,e[Ro]=r,$w(e,t,!1,!1),t.stateNode=e;e:{switch(o=hd(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<Qs.length;i++)ke(Qs[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":Qp(e,r),i=od(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),ke("invalid",e);break;case"textarea":em(e,r),i=cd(e,r),ke("invalid",e);break;default:i=r}dd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?yv(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mv(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_o(e,l):typeof l=="number"&&_o(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",e):l!=null&&Uh(e,s,l,o))}switch(n){case"input":_a(e),Zp(e,r,!1);break;case"textarea":_a(e),tm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ki(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ki(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)zw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=ei(Oo.current),ei(En.current),Ra(t)){if(r=t.stateNode,n=t.memoizedProps,r[xn]=t,(s=r.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:ja(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ja(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=t,t.stateNode=r}return at(t),null;case 13:if(Se(Ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&Lt!==null&&t.mode&1&&!(t.flags&128))iw(),ss(),t.flags|=98560,s=!1;else if(s=Ra(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[xn]=t}else ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),s=!1}else ln!==null&&(qd(ln),ln=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?qe===0&&(qe=3):Ef())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return as(),$d(e,t),e===null&&Ao(t.stateNode.containerInfo),at(t),null;case 10:return lf(t.type._context),at(t),null;case 17:return Tt(t.type)&&Il(),at(t),null;case 19:if(Se(Ae),s=t.memoizedState,s===null)return at(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Bs(s,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bl(e),o!==null){for(t.flags|=128,Bs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(Ae,Ae.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ne()>cs&&(t.flags|=128,r=!0,Bs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Bl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return at(t),null}else 2*Ne()-s.renderingStartTime>cs&&n!==1073741824&&(t.flags|=128,r=!0,Bs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ne(),t.sibling=null,n=Ae.current,we(Ae,r?n&1|2:n&1),t):(at(t),null);case 22:case 23:return Sf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rt&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function dS(e,t){switch(rf(t),t.tag){case 1:return Tt(t.type)&&Il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return as(),Se(Ct),Se(ft),ff(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hf(t),null;case 13:if(Se(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ae),null;case 4:return as(),null;case 10:return lf(t.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var Ia=!1,dt=!1,hS=typeof WeakSet=="function"?WeakSet:Set,z=null;function Fi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function Fd(e,t,n){try{n()}catch(r){Me(e,t,r)}}var Wm=!1;function fS(e,t){if(_d=jl,e=Hv(),tf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kd={focusedElem:e,selectionRange:n},jl=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:rn(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(k){Me(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return m=Wm,Wm=!1,m}function ho(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Fd(t,n,s)}i=i.next}while(i!==r)}}function wc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bw(e){var t=e.alternate;t!==null&&(e.alternate=null,Bw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[Ro],delete t[Cd],delete t[Y2],delete t[X2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uw(e){return e.tag===5||e.tag===3||e.tag===4}function Hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ol));else if(r!==4&&(e=e.child,e!==null))for(Bd(e,t,n),e=e.sibling;e!==null;)Bd(e,t,n),e=e.sibling}function Ud(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ud(e,t,n),e=e.sibling;e!==null;)Ud(e,t,n),e=e.sibling}var et=null,on=!1;function Qn(e,t,n){for(n=n.child;n!==null;)Vw(e,t,n),n=n.sibling}function Vw(e,t,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(dc,n)}catch{}switch(n.tag){case 5:dt||Fi(n,t);case 6:var r=et,i=on;et=null,Qn(e,t,n),et=r,on=i,et!==null&&(on?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(on?(e=et,n=n.stateNode,e.nodeType===8?cu(e.parentNode,n):e.nodeType===1&&cu(e,n),Co(e)):cu(et,n.stateNode));break;case 4:r=et,i=on,et=n.stateNode.containerInfo,on=!0,Qn(e,t,n),et=r,on=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Fd(n,t,o),i=i.next}while(i!==r)}Qn(e,t,n);break;case 1:if(!dt&&(Fi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,t,a)}Qn(e,t,n);break;case 21:Qn(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,Qn(e,t,n),dt=r):Qn(e,t,n);break;default:Qn(e,t,n)}}function qm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hS),t.forEach(function(r){var i=_S.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:et=a.stateNode,on=!1;break e;case 3:et=a.stateNode.containerInfo,on=!0;break e;case 4:et=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(et===null)throw Error(L(160));Vw(s,o,i),et=null,on=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Me(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ww(t,e),t=t.sibling}function Ww(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),gn(e),r&4){try{ho(3,e,e.return),wc(3,e)}catch(v){Me(e,e.return,v)}try{ho(5,e,e.return)}catch(v){Me(e,e.return,v)}}break;case 1:Zt(t,e),gn(e),r&512&&n!==null&&Fi(n,n.return);break;case 5:if(Zt(t,e),gn(e),r&512&&n!==null&&Fi(n,n.return),e.flags&32){var i=e.stateNode;try{_o(i,"")}catch(v){Me(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hv(i,s),hd(a,o);var c=hd(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?yv(i,d):u==="dangerouslySetInnerHTML"?mv(i,d):u==="children"?_o(i,d):Uh(i,u,d,c)}switch(a){case"input":ad(i,s);break;case"textarea":fv(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ki(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ki(i,!!s.multiple,s.defaultValue,!0):Ki(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ro]=s}catch(v){Me(e,e.return,v)}}break;case 6:if(Zt(t,e),gn(e),r&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Me(e,e.return,v)}}break;case 3:if(Zt(t,e),gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Co(t.containerInfo)}catch(v){Me(e,e.return,v)}break;case 4:Zt(t,e),gn(e);break;case 13:Zt(t,e),gn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_f=Ne())),r&4&&qm(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(c=dt)||u,Zt(t,e),dt=c):Zt(t,e),gn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(z=e,u=e.child;u!==null;){for(d=z=u;z!==null;){switch(h=z,f=h.child,h.tag){case 0:case 11:case 14:case 15:ho(4,h,h.return);break;case 1:Fi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Me(r,n,v)}}break;case 5:Fi(h,h.return);break;case 22:if(h.memoizedState!==null){Gm(d);continue}}f!==null?(f.return=h,z=f):Gm(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gv("display",o))}catch(v){Me(e,e.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Me(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zt(t,e),gn(e),r&4&&qm(e);break;case 21:break;default:Zt(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Uw(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_o(i,""),r.flags&=-33);var s=Hm(e);Ud(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hm(e);Bd(e,a,o);break;default:throw Error(L(161))}}catch(l){Me(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pS(e,t,n){z=e,Hw(e)}function Hw(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ia;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dt;a=Ia;var c=dt;if(Ia=o,(dt=l)&&!c)for(z=i;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?Ym(i):l!==null?(l.return=o,z=l):Ym(i);for(;s!==null;)z=s,Hw(s),s=s.sibling;z=i,Ia=a,dt=c}Km(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):Km(e)}}function Km(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||wc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Rm(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rm(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Co(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}dt||t.flags&512&&zd(t)}catch(h){Me(t,t.return,h)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function Gm(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function Ym(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wc(4,t)}catch(l){Me(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Me(t,i,l)}}var s=t.return;try{zd(t)}catch(l){Me(t,s,l)}break;case 5:var o=t.return;try{zd(t)}catch(l){Me(t,o,l)}}}catch(l){Me(t,t.return,l)}if(t===e){z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,z=a;break}z=t.return}}var mS=Math.ceil,Wl=Xn.ReactCurrentDispatcher,xf=Xn.ReactCurrentOwner,Kt=Xn.ReactCurrentBatchConfig,fe=0,Je=null,ze=null,rt=0,Rt=0,zi=Dr(0),qe=0,No=null,hi=0,xc=0,bf=0,fo=null,kt=null,_f=0,cs=1/0,$n=null,Hl=!1,Vd=null,kr=null,La=!1,gr=null,ql=0,po=0,Wd=null,pl=-1,ml=0;function vt(){return fe&6?Ne():pl!==-1?pl:pl=Ne()}function Sr(e){return e.mode&1?fe&2&&rt!==0?rt&-rt:Q2.transition!==null?(ml===0&&(ml=Av()),ml):(e=me,e!==0||(e=window.event,e=e===void 0?16:Mv(e.type)),e):1}function un(e,t,n,r){if(50<po)throw po=0,Wd=null,Error(L(185));Zo(e,n,r),(!(fe&2)||e!==Je)&&(e===Je&&(!(fe&2)&&(xc|=n),qe===4&&ur(e,rt)),Pt(e,r),n===1&&fe===0&&!(t.mode&1)&&(cs=Ne()+500,gc&&Or()))}function Pt(e,t){var n=e.callbackNode;Qk(e,t);var r=Al(e,e===Je?rt:0);if(r===0)n!==null&&im(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&im(n),t===1)e.tag===0?J2(Xm.bind(null,e)):tw(Xm.bind(null,e)),K2(function(){!(fe&6)&&Or()}),n=null;else{switch(jv(r)){case 1:n=Kh;break;case 4:n=Tv;break;case 16:n=Pl;break;case 536870912:n=Pv;break;default:n=Pl}n=Zw(n,qw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qw(e,t){if(pl=-1,ml=0,fe&6)throw Error(L(327));var n=e.callbackNode;if(Qi()&&e.callbackNode!==n)return null;var r=Al(e,e===Je?rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kl(e,r);else{t=r;var i=fe;fe|=2;var s=Gw();(Je!==e||rt!==t)&&($n=null,cs=Ne()+500,si(e,t));do try{vS();break}catch(a){Kw(e,a)}while(!0);af(),Wl.current=s,fe=i,ze!==null?t=0:(Je=null,rt=0,t=qe)}if(t!==0){if(t===2&&(i=yd(e),i!==0&&(r=i,t=Hd(e,i))),t===1)throw n=No,si(e,0),ur(e,r),Pt(e,Ne()),n;if(t===6)ur(e,r);else{if(i=e.current.alternate,!(r&30)&&!gS(i)&&(t=Kl(e,r),t===2&&(s=yd(e),s!==0&&(r=s,t=Hd(e,s))),t===1))throw n=No,si(e,0),ur(e,r),Pt(e,Ne()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:qr(e,kt,$n);break;case 3:if(ur(e,r),(r&130023424)===r&&(t=_f+500-Ne(),10<t)){if(Al(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){vt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ed(qr.bind(null,e,kt,$n),t);break}qr(e,kt,$n);break;case 4:if(ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-cn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mS(r/1960))-r,10<r){e.timeoutHandle=Ed(qr.bind(null,e,kt,$n),r);break}qr(e,kt,$n);break;case 5:qr(e,kt,$n);break;default:throw Error(L(329))}}}return Pt(e,Ne()),e.callbackNode===n?qw.bind(null,e):null}function Hd(e,t){var n=fo;return e.current.memoizedState.isDehydrated&&(si(e,t).flags|=256),e=Kl(e,t),e!==2&&(t=kt,kt=n,t!==null&&qd(t)),e}function qd(e){kt===null?kt=e:kt.push.apply(kt,e)}function gS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~bf,t&=~xc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cn(t),r=1<<n;e[n]=-1,t&=~r}}function Xm(e){if(fe&6)throw Error(L(327));Qi();var t=Al(e,0);if(!(t&1))return Pt(e,Ne()),null;var n=Kl(e,t);if(e.tag!==0&&n===2){var r=yd(e);r!==0&&(t=r,n=Hd(e,r))}if(n===1)throw n=No,si(e,0),ur(e,t),Pt(e,Ne()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qr(e,kt,$n),Pt(e,Ne()),null}function kf(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(cs=Ne()+500,gc&&Or())}}function fi(e){gr!==null&&gr.tag===0&&!(fe&6)&&Qi();var t=fe;fe|=1;var n=Kt.transition,r=me;try{if(Kt.transition=null,me=1,e)return e()}finally{me=r,Kt.transition=n,fe=t,!(fe&6)&&Or()}}function Sf(){Rt=zi.current,Se(zi)}function si(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,q2(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(rf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Il();break;case 3:as(),Se(Ct),Se(ft),ff();break;case 5:hf(r);break;case 4:as();break;case 13:Se(Ae);break;case 19:Se(Ae);break;case 10:lf(r.type._context);break;case 22:case 23:Sf()}n=n.return}if(Je=e,ze=e=Er(e.current,null),rt=Rt=t,qe=0,No=null,bf=xc=hi=0,kt=fo=null,Zr!==null){for(t=0;t<Zr.length;t++)if(n=Zr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zr=null}return e}function Kw(e,t){do{var n=ze;try{if(af(),dl.current=Vl,Ul){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ul=!1}if(di=0,Xe=He=Re=null,uo=!1,Io=0,xf.current=null,n===null||n.return===null){qe=1,No=t,ze=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Nm(o);if(f!==null){f.flags&=-257,$m(f,o,a,s,t),f.mode&1&&Mm(s,c,t),t=f,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){Mm(s,c,t),Ef();break e}l=Error(L(426))}}else if(Ce&&a.mode&1){var x=Nm(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),$m(x,o,a,s,t),sf(ls(l,a));break e}}s=l=ls(l,a),qe!==4&&(qe=2),fo===null?fo=[s]:fo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=jw(s,l,t);jm(s,g);break e;case 1:a=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(kr===null||!kr.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=Rw(s,a,t);jm(s,k);break e}}s=s.return}while(s!==null)}Xw(n)}catch(S){t=S,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function Gw(){var e=Wl.current;return Wl.current=Vl,e===null?Vl:e}function Ef(){(qe===0||qe===3||qe===2)&&(qe=4),Je===null||!(hi&268435455)&&!(xc&268435455)||ur(Je,rt)}function Kl(e,t){var n=fe;fe|=2;var r=Gw();(Je!==e||rt!==t)&&($n=null,si(e,t));do try{yS();break}catch(i){Kw(e,i)}while(!0);if(af(),fe=n,Wl.current=r,ze!==null)throw Error(L(261));return Je=null,rt=0,qe}function yS(){for(;ze!==null;)Yw(ze)}function vS(){for(;ze!==null&&!Vk();)Yw(ze)}function Yw(e){var t=Qw(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?Xw(e):ze=t,xf.current=null}function Xw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dS(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,ze=null;return}}else if(n=uS(n,t,Rt),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);qe===0&&(qe=5)}function qr(e,t,n){var r=me,i=Kt.transition;try{Kt.transition=null,me=1,wS(e,t,n,r)}finally{Kt.transition=i,me=r}return null}function wS(e,t,n,r){do Qi();while(gr!==null);if(fe&6)throw Error(L(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Zk(e,s),e===Je&&(ze=Je=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,Zw(Pl,function(){return Qi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kt.transition,Kt.transition=null;var o=me;me=1;var a=fe;fe|=4,xf.current=null,fS(e,n),Ww(n,e),F2(kd),jl=!!_d,kd=_d=null,e.current=n,pS(n),Wk(),fe=a,me=o,Kt.transition=s}else e.current=n;if(La&&(La=!1,gr=e,ql=i),s=e.pendingLanes,s===0&&(kr=null),Kk(n.stateNode),Pt(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Vd,Vd=null,e;return ql&1&&e.tag!==0&&Qi(),s=e.pendingLanes,s&1?e===Wd?po++:(po=0,Wd=e):po=0,Or(),null}function Qi(){if(gr!==null){var e=jv(ql),t=Kt.transition,n=me;try{if(Kt.transition=null,me=16>e?16:e,gr===null)var r=!1;else{if(e=gr,gr=null,ql=0,fe&6)throw Error(L(331));var i=fe;for(fe|=4,z=e.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(z=c;z!==null;){var u=z;switch(u.tag){case 0:case 11:case 15:ho(8,u,s)}var d=u.child;if(d!==null)d.return=u,z=d;else for(;z!==null;){u=z;var h=u.sibling,f=u.return;if(Bw(u),u===c){z=null;break}if(h!==null){h.return=f,z=h;break}z=f}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ho(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,z=g;break e}z=s.return}}var y=e.current;for(z=y;z!==null;){o=z;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,z=w;else e:for(o=y;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wc(9,a)}}catch(S){Me(a,a.return,S)}if(a===o){z=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,z=k;break e}z=a.return}}if(fe=i,Or(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(dc,e)}catch{}r=!0}return r}finally{me=n,Kt.transition=t}}return!1}function Jm(e,t,n){t=ls(n,t),t=jw(e,t,1),e=_r(e,t,1),t=vt(),e!==null&&(Zo(e,1,t),Pt(e,t))}function Me(e,t,n){if(e.tag===3)Jm(e,e,n);else for(;t!==null;){if(t.tag===3){Jm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){e=ls(n,e),e=Rw(t,e,1),t=_r(t,e,1),e=vt(),t!==null&&(Zo(t,1,e),Pt(t,e));break}}t=t.return}}function xS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(rt&n)===n&&(qe===4||qe===3&&(rt&130023424)===rt&&500>Ne()-_f?si(e,0):bf|=n),Pt(e,t)}function Jw(e,t){t===0&&(e.mode&1?(t=Ea,Ea<<=1,!(Ea&130023424)&&(Ea=4194304)):t=1);var n=vt();e=qn(e,t),e!==null&&(Zo(e,t,n),Pt(e,n))}function bS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jw(e,n)}function _S(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),Jw(e,n)}var Qw;Qw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)St=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return St=!1,cS(e,t,n);St=!!(e.flags&131072)}else St=!1,Ce&&t.flags&1048576&&nw(t,Nl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fl(e,t),e=t.pendingProps;var i=is(t,ft.current);Ji(t,n),i=mf(null,t,r,e,i,n);var s=gf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(r)?(s=!0,Ll(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uf(t),i.updater=vc,t.stateNode=i,i._reactInternals=t,Dd(t,r,e,n),t=Ld(null,t,r,!0,s,n)):(t.tag=0,Ce&&s&&nf(t),pt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=SS(r),e=rn(r,e),i){case 0:t=Id(null,t,r,e,n);break e;case 1:t=Bm(null,t,r,e,n);break e;case 11:t=Fm(null,t,r,e,n);break e;case 14:t=zm(null,t,r,rn(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),Id(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),Bm(e,t,r,i,n);case 3:e:{if(Lw(t),e===null)throw Error(L(387));r=t.pendingProps,s=t.memoizedState,i=s.element,lw(e,t),zl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ls(Error(L(423)),t),t=Um(e,t,r,n,i);break e}else if(r!==i){i=ls(Error(L(424)),t),t=Um(e,t,r,n,i);break e}else for(Lt=br(t.stateNode.containerInfo.firstChild),Mt=t,Ce=!0,ln=null,n=ow(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ss(),r===i){t=Kn(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return cw(t),e===null&&Ad(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Sd(r,i)?o=null:s!==null&&Sd(r,s)&&(t.flags|=32),Iw(e,t),pt(e,t,o,n),t.child;case 6:return e===null&&Ad(t),null;case 13:return Mw(e,t,n);case 4:return df(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=os(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),Fm(e,t,r,i,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,we($l,r._currentValue),r._currentValue=o,s!==null)if(dn(s.value,o)){if(s.children===i.children&&!Ct.current){t=Kn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jd(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jd(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),i=Yt(i),r=r(i),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,i=rn(r,t.pendingProps),i=rn(r.type,i),zm(e,t,r,i,n);case 15:return Dw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),fl(e,t),t.tag=1,Tt(r)?(e=!0,Ll(t)):e=!1,Ji(t,n),Aw(t,r,i),Dd(t,r,i,n),Ld(null,t,r,!0,e,n);case 19:return Nw(e,t,n);case 22:return Ow(e,t,n)}throw Error(L(156,t.tag))};function Zw(e,t){return Cv(e,t)}function kS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new kS(e,t,n,r)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SS(e){if(typeof e=="function")return Cf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wh)return 11;if(e===Hh)return 14}return 2}function Er(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gl(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Cf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ji:return oi(n.children,i,s,t);case Vh:o=8,i|=8;break;case nd:return e=Ht(12,n,t,i|2),e.elementType=nd,e.lanes=s,e;case rd:return e=Ht(13,n,t,i),e.elementType=rd,e.lanes=s,e;case id:return e=Ht(19,n,t,i),e.elementType=id,e.lanes=s,e;case cv:return bc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case av:o=10;break e;case lv:o=9;break e;case Wh:o=11;break e;case Hh:o=14;break e;case ar:o=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Ht(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function oi(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function bc(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=cv,e.lanes=n,e.stateNode={isHidden:!1},e}function yu(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function vu(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ES(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qc(0),this.expirationTimes=Qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tf(e,t,n,r,i,s,o,a,l){return e=new ES(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ht(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uf(s),e}function CS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function e1(e){if(!e)return Pr;e=e._reactInternals;e:{if(mi(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Tt(n))return ew(e,n,t)}return t}function t1(e,t,n,r,i,s,o,a,l){return e=Tf(n,r,!0,e,i,s,o,a,l),e.context=e1(null),n=e.current,r=vt(),i=Sr(n),s=Vn(r,i),s.callback=t??null,_r(n,s,i),e.current.lanes=i,Zo(e,i,r),Pt(e,r),e}function _c(e,t,n,r){var i=t.current,s=vt(),o=Sr(i);return n=e1(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(i,t,o),e!==null&&(un(e,i,o,s),ul(e,i,o)),o}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pf(e,t){Qm(e,t),(e=e.alternate)&&Qm(e,t)}function TS(){return null}var n1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Af(e){this._internalRoot=e}kc.prototype.render=Af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));_c(e,t,null,null)};kc.prototype.unmount=Af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fi(function(){_c(null,e,null,null)}),t[Hn]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cr.length&&t!==0&&t<cr[n].priority;n++);cr.splice(n,0,e),n===0&&Lv(e)}};function jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function PS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Gl(o);s.call(c)}}var o=t1(t,r,e,0,null,!1,!1,"",Zm);return e._reactRootContainer=o,e[Hn]=o.current,Ao(e.nodeType===8?e.parentNode:e),fi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Gl(l);a.call(c)}}var l=Tf(e,0,!1,null,null,!1,!1,"",Zm);return e._reactRootContainer=l,e[Hn]=l.current,Ao(e.nodeType===8?e.parentNode:e),fi(function(){_c(t,l,n,r)}),l}function Ec(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Gl(o);a.call(l)}}_c(t,o,e,i)}else o=PS(n,t,e,i,r);return Gl(o)}Rv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Js(t.pendingLanes);n!==0&&(Gh(t,n|1),Pt(t,Ne()),!(fe&6)&&(cs=Ne()+500,Or()))}break;case 13:fi(function(){var r=qn(e,1);if(r!==null){var i=vt();un(r,e,1,i)}}),Pf(e,1)}};Yh=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var n=vt();un(t,e,134217728,n)}Pf(e,134217728)}};Dv=function(e){if(e.tag===13){var t=Sr(e),n=qn(e,t);if(n!==null){var r=vt();un(n,e,t,r)}Pf(e,t)}};Ov=function(){return me};Iv=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};pd=function(e,t,n){switch(t){case"input":if(ad(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mc(r);if(!i)throw Error(L(90));dv(r),ad(r,i)}}}break;case"textarea":fv(e,n);break;case"select":t=n.value,t!=null&&Ki(e,!!n.multiple,t,!1)}};xv=kf;bv=fi;var AS={usingClientEntryPoint:!1,Events:[ta,Ii,mc,vv,wv,kf]},Us={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jS={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sv(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||TS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{dc=Ma.inject(jS),Sn=Ma}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AS;$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(t))throw Error(L(200));return CS(e,t,null,n)};$t.createRoot=function(e,t){if(!jf(e))throw Error(L(299));var n=!1,r="",i=n1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Tf(e,1,!1,null,null,n,!1,r,i),e[Hn]=t.current,Ao(e.nodeType===8?e.parentNode:e),new Af(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Sv(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return fi(e)};$t.hydrate=function(e,t,n){if(!Sc(t))throw Error(L(200));return Ec(null,e,t,!0,n)};$t.hydrateRoot=function(e,t,n){if(!jf(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=n1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=t1(t,null,e,1,n??null,i,!1,s,o),e[Hn]=t.current,Ao(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kc(t)};$t.render=function(e,t,n){if(!Sc(t))throw Error(L(200));return Ec(null,e,t,!1,n)};$t.unmountComponentAtNode=function(e){if(!Sc(e))throw Error(L(40));return e._reactRootContainer?(fi(function(){Ec(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};$t.unstable_batchedUpdates=kf;$t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sc(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ec(e,t,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function r1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r1)}catch(e){console.error(e)}}r1(),rv.exports=$t;var i1=rv.exports,eg=i1;ed.createRoot=eg.createRoot,ed.hydrateRoot=eg.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s1=e=>{throw TypeError(e)},RS=(e,t,n)=>t.has(e)||s1("Cannot "+n),wu=(e,t,n)=>(RS(e,t,"read from private field"),n?n.call(e):t.get(e)),DS=(e,t,n)=>t.has(e)?s1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),tg="popstate";function OS(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return $o("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:An(i)}return LS(t,n,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function De(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IS(){return Math.random().toString(36).substring(2,10)}function ng(e,t){return{usr:e.state,key:e.key,idx:t}}function $o(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ir(t):t,state:n,key:t&&t.key||r||IS()}}function An({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ir(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function LS(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){a="POP";let x=u(),g=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:g})}function h(x,g){a="PUSH";let y=$o(v.location,x,g);c=u()+1;let w=ng(y,c),k=v.createHref(y);try{o.pushState(w,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(k)}s&&l&&l({action:a,location:v.location,delta:1})}function f(x,g){a="REPLACE";let y=$o(v.location,x,g);c=u();let w=ng(y,c),k=v.createHref(y);o.replaceState(w,"",k),s&&l&&l({action:a,location:v.location,delta:0})}function m(x){return o1(x)}let v={get action(){return a},get location(){return e(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tg,d),l=x,()=>{i.removeEventListener(tg,d),l=null}},createHref(x){return t(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(x){return o.go(x)}};return v}function o1(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),oe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:An(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Zs,rg=class{constructor(e){if(DS(this,Zs,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(wu(this,Zs).has(e))return wu(this,Zs).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){wu(this,Zs).set(e,t)}};Zs=new WeakMap;var MS=new Set(["lazy","caseSensitive","path","id","index","children"]);function NS(e){return MS.has(e)}var $S=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function FS(e){return $S.has(e)}function zS(e){return e.index===!0}function Fo(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(oe(s.index!==!0||!s.children,"Cannot specify children on an index route"),oe(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),zS(s)){let c={...s,id:l};return r[l]=ig(c,t(c)),c}else{let c={...s,id:l,children:void 0};return r[l]=ig(c,t(c)),s.children&&(c.children=Fo(s.children,t,a,r,i)),c}})}function ig(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function dr(e,t,n="/"){return eo(e,t,n,!1)}function eo(e,t,n,r){let i=typeof t=="string"?Ir(t):t,s=Jt(i.pathname||"/",n);if(s==null)return null;let o=a1(e);US(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ZS(s);a=JS(o[l],c,r)}return a}function BS(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function a1(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;oe(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let d=Cn([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(oe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),a1(o.children,t,h,d,l)),!(o.path==null&&!o.index)&&t.push({path:d,score:YS(d,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of l1(o.path))s(o,a,!0,c)}),t}function l1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=l1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function US(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VS=/^:[\w-]+$/,WS=3,HS=2,qS=1,KS=10,GS=-2,sg=e=>e==="*";function YS(e,t){let n=e.split("/"),r=n.length;return n.some(sg)&&(r+=GS),t&&(r+=HS),n.filter(i=>!sg(i)).reduce((i,s)=>i+(VS.test(s)?WS:s===""?qS:KS),r)}function XS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function JS(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=Yl({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Yl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Cn([s,d.pathname]),pathnameBase:rE(Cn([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Cn([s,d.pathnameBase]))}return o}function Yl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=QS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let m=a[h]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const f=a[h];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function QS(e,t=!1,n=!0){De(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function ZS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return De(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Jt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function eE({basename:e,pathname:t}){return t==="/"?e:Cn([e,t])}var tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cc=e=>tE.test(e);function nE(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ir(e):e,s;if(n)if(Cc(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),De(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=og(n.substring(1),"/"):s=og(n,t)}else s=t;return{pathname:s,search:iE(r),hash:sE(i)}}function og(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xu(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tc(e){let t=c1(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Pc(e,t,n,r=!1){let i;typeof e=="string"?i=Ir(e):(i={...e},oe(!i.pathname||!i.pathname.includes("?"),xu("?","pathname","search",i)),oe(!i.pathname||!i.pathname.includes("#"),xu("#","pathname","hash",i)),oe(!i.search||!i.search.includes("#"),xu("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=nE(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Cn=e=>e.join("/").replace(/\/\/+/g,"/"),rE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Xl=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zo(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Rf(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yr=Symbol("Uninstrumented");function oE(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(s){let o=Object.keys(n);for(let a of o)s[a]&&n[a].push(s[a])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let i=Bi(n.lazy,t.lazy,()=>{});i&&(r.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(s=>{let o=i[s],a=n[`lazy.${s}`];if(typeof o=="function"&&a.length>0){let l=Bi(a,o,()=>{});l&&(r.lazy=Object.assign(r.lazy||{},{[s]:l}))}})}return["loader","action"].forEach(i=>{let s=t[i];if(typeof s=="function"&&n[i].length>0){let o=s[yr]??s,a=Bi(n[i],o,(...l)=>ag(l[0]));a&&(a[yr]=o,r[i]=a)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(i=>{let s=i[yr]??i,o=Bi(n.middleware,s,(...a)=>ag(a[0]));return o?(o[yr]=s,o):i})),r}function aE(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(i){let s=Object.keys(i);for(let o of s)i[o]&&n[o].push(i[o])}})),n.navigate.length>0){let r=e.navigate[yr]??e.navigate,i=Bi(n.navigate,r,(...s)=>{let[o,a]=s;return{to:typeof o=="number"||typeof o=="string"?o:o?An(o):".",...lg(e,a??{})}});i&&(i[yr]=r,e.navigate=i)}if(n.fetch.length>0){let r=e.fetch[yr]??e.fetch,i=Bi(n.fetch,r,(...s)=>{let[o,,a,l]=s;return{href:a??".",fetcherKey:o,...lg(e,l??{})}});i&&(i[yr]=r,e.fetch=i)}return e}function Bi(e,t,n){return e.length===0?null:async(...r)=>{let i=await u1(e,n(...r),()=>t(...r),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function u1(e,t,n,r){let i=e[r],s;if(i){let o,a=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=u1(e,t,n,r-1),s=await o,oe(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(a,t)}catch(l){console.error("An instrumentation function threw an error:",l)}o||await a(),await o}else try{s={type:"success",value:await n()}}catch(o){s={type:"error",value:o}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function ag(e){let{request:t,context:n,params:r,unstable_pattern:i}=e;return{request:lE(t),params:{...r},unstable_pattern:i,context:cE(n)}}function lg(e,t){return{currentUrl:An(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function lE(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function cE(e){if(dE(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var uE=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dE(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===uE}var d1=["POST","PUT","PATCH","DELETE"],hE=new Set(d1),fE=["GET",...d1],pE=new Set(fE),mE=new Set([301,302,303,307,308]),gE=new Set([307,308]),bu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vE=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),h1="remix-router-transitions",f1=Symbol("ResetLoaderData");function wE(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";oe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||vE,s=i;if(e.unstable_instrumentations){let E=e.unstable_instrumentations;s=T=>({...i(T),...oE(E.map(A=>A.route).filter(Boolean),T)})}let o={},a=Fo(e.routes,s,void 0,o),l,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let u=e.dataStrategy||SE,d={...e.future},h=null,f=new Set,m=null,v=null,x=null,g=e.hydrationData!=null,y=dr(a,e.history.location,c),w=!1,k=null,S;if(y==null&&!e.patchRoutesOnNavigation){let E=Ut(404,{pathname:e.history.location.pathname}),{matches:T,route:A}=Na(a);S=!0,y=T,k={[A.id]:E}}else if(y&&!e.hydrationData&&ma(y,a,e.history.location.pathname).active&&(y=null),y)if(y.some(E=>E.route.lazy))S=!1;else if(!y.some(E=>Df(E.route)))S=!0;else{let E=e.hydrationData?e.hydrationData.loaderData:null,T=e.hydrationData?e.hydrationData.errors:null;if(T){let A=y.findIndex(I=>T[I.route.id]!==void 0);S=y.slice(0,A+1).every(I=>!Gd(I.route,E,T))}else S=y.every(A=>!Gd(A.route,E,T))}else{S=!1,y=[];let E=ma(null,a,e.history.location.pathname);E.active&&E.matches&&(w=!0,y=E.matches)}let C,_={historyAction:e.history.action,location:e.history.location,matches:y,initialized:S,navigation:bu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},P="POP",D=!1,j,M=!1,B=new Map,Y=null,ce=!1,re=!1,W=new Set,Z=new Map,O=0,$=-1,F=new Map,ie=new Set,ue=new Map,Be=new Map,xe=new Set,At=new Map,bt,_t=null;function Bc(){if(h=e.history.listen(({action:E,location:T,delta:A})=>{if(bt){bt(),bt=void 0;return}De(At.size===0||A!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let I=Bp({currentLocation:_.location,nextLocation:T,historyAction:E});if(I&&A!=null){let N=new Promise(q=>{bt=q});e.history.go(A*-1),pa(I,{state:"blocked",location:T,proceed(){pa(I,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),N.then(()=>e.history.go(A))},reset(){let q=new Map(_.blockers);q.set(I,Vs),de({blockers:q})}});return}return pe(E,T)}),n){FE(t,B);let E=()=>zE(t,B);t.addEventListener("pagehide",E),Y=()=>t.removeEventListener("pagehide",E)}return _.initialized||pe("POP",_.location,{initialHydration:!0}),C}function Ps(){h&&h(),Y&&Y(),f.clear(),j&&j.abort(),_.fetchers.forEach((E,T)=>Wc(T)),_.blockers.forEach((E,T)=>zp(T))}function Uc(E){return f.add(E),()=>f.delete(E)}function de(E,T={}){E.matches&&(E.matches=E.matches.map(N=>{let q=o[N.route.id],K=N.route;return K.element!==q.element||K.errorElement!==q.errorElement||K.hydrateFallbackElement!==q.hydrateFallbackElement?{...N,route:q}:N})),_={..._,...E};let A=[],I=[];_.fetchers.forEach((N,q)=>{N.state==="idle"&&(xe.has(q)?A.push(q):I.push(q))}),xe.forEach(N=>{!_.fetchers.has(N)&&!Z.has(N)&&A.push(N)}),[...f].forEach(N=>N(_,{deletedFetchers:A,viewTransitionOpts:T.viewTransitionOpts,flushSync:T.flushSync===!0})),A.forEach(N=>Wc(N)),I.forEach(N=>_.fetchers.delete(N))}function Ee(E,T,{flushSync:A}={}){var te,X;let I=_.actionData!=null&&_.navigation.formMethod!=null&&mt(_.navigation.formMethod)&&_.navigation.state==="loading"&&((te=E.state)==null?void 0:te._isRedirect)!==!0,N;T.actionData?Object.keys(T.actionData).length>0?N=T.actionData:N=null:I?N=_.actionData:N=null;let q=T.loaderData?vg(_.loaderData,T.loaderData,T.matches||[],T.errors):_.loaderData,K=_.blockers;K.size>0&&(K=new Map(K),K.forEach((se,ye)=>K.set(ye,Vs)));let V=ce?!1:Vp(E,T.matches||_.matches),G=D===!0||_.navigation.formMethod!=null&&mt(_.navigation.formMethod)&&((X=E.state)==null?void 0:X._isRedirect)!==!0;l&&(a=l,l=void 0),ce||P==="POP"||(P==="PUSH"?e.history.push(E,E.state):P==="REPLACE"&&e.history.replace(E,E.state));let J;if(P==="POP"){let se=B.get(_.location.pathname);se&&se.has(E.pathname)?J={currentLocation:_.location,nextLocation:E}:B.has(E.pathname)&&(J={currentLocation:E,nextLocation:_.location})}else if(M){let se=B.get(_.location.pathname);se?se.add(E.pathname):(se=new Set([E.pathname]),B.set(_.location.pathname,se)),J={currentLocation:_.location,nextLocation:E}}de({...T,actionData:N,loaderData:q,historyAction:P,location:E,initialized:!0,navigation:bu,revalidation:"idle",restoreScrollPosition:V,preventScrollReset:G,blockers:K},{viewTransitionOpts:J,flushSync:A===!0}),P="POP",D=!1,M=!1,ce=!1,re=!1,_t==null||_t.resolve(),_t=null}async function ge(E,T){if(typeof E=="number"){e.history.go(E);return}let A=Kd(_.location,_.matches,c,E,T==null?void 0:T.fromRouteId,T==null?void 0:T.relative),{path:I,submission:N,error:q}=cg(!1,A,T),K=_.location,V=$o(_.location,I,T&&T.state);V={...V,...e.history.encodeLocation(V)};let G=T&&T.replace!=null?T.replace:void 0,J="PUSH";G===!0?J="REPLACE":G===!1||N!=null&&mt(N.formMethod)&&N.formAction===_.location.pathname+_.location.search&&(J="REPLACE");let te=T&&"preventScrollReset"in T?T.preventScrollReset===!0:void 0,X=(T&&T.flushSync)===!0,se=Bp({currentLocation:K,nextLocation:V,historyAction:J});if(se){pa(se,{state:"blocked",location:V,proceed(){pa(se,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),ge(E,T)},reset(){let ye=new Map(_.blockers);ye.set(se,Vs),de({blockers:ye})}});return}await pe(J,V,{submission:N,pendingError:q,preventScrollReset:te,replace:T&&T.replace,enableViewTransition:T&&T.viewTransition,flushSync:X})}function Qe(){_t||(_t=BE()),Vc(),de({revalidation:"loading"});let E=_t.promise;return _.navigation.state==="submitting"?E:_.navigation.state==="idle"?(pe(_.historyAction,_.location,{startUninterruptedRevalidation:!0}),E):(pe(P||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:M===!0}),E)}async function pe(E,T,A){j&&j.abort(),j=null,P=E,ce=(A&&A.startUninterruptedRevalidation)===!0,ek(_.location,_.matches),D=(A&&A.preventScrollReset)===!0,M=(A&&A.enableViewTransition)===!0;let I=l||a,N=A&&A.overrideNavigation,q=A!=null&&A.initialHydration&&_.matches&&_.matches.length>0&&!w?_.matches:dr(I,T,c),K=(A&&A.flushSync)===!0;if(q&&_.initialized&&!re&&DE(_.location,T)&&!(A&&A.submission&&mt(A.submission.formMethod))){Ee(T,{matches:q},{flushSync:K});return}let V=ma(q,I,T.pathname);if(V.active&&V.matches&&(q=V.matches),!q){let{error:Ke,notFoundMatches:be,route:_e}=Hc(T.pathname);Ee(T,{matches:be,loaderData:{},errors:{[_e.id]:Ke}},{flushSync:K});return}j=new AbortController;let G=Ci(e.history,T,j.signal,A&&A.submission),J=e.getContext?await e.getContext():new rg,te;if(A&&A.pendingError)te=[hr(q).route.id,{type:"error",error:A.pendingError}];else if(A&&A.submission&&mt(A.submission.formMethod)){let Ke=await pn(G,T,A.submission,q,J,V.active,A&&A.initialHydration===!0,{replace:A.replace,flushSync:K});if(Ke.shortCircuited)return;if(Ke.pendingActionResult){let[be,_e]=Ke.pendingActionResult;if(Dt(_e)&&zo(_e.error)&&_e.error.status===404){j=null,Ee(T,{matches:Ke.matches,loaderData:{},errors:{[be]:_e.error}});return}}q=Ke.matches||q,te=Ke.pendingActionResult,N=_u(T,A.submission),K=!1,V.active=!1,G=Ci(e.history,G.url,G.signal)}let{shortCircuited:X,matches:se,loaderData:ye,errors:Ue}=await Dn(G,T,q,J,V.active,N,A&&A.submission,A&&A.fetcherSubmission,A&&A.replace,A&&A.initialHydration===!0,K,te);X||(j=null,Ee(T,{matches:se||q,...wg(te),loaderData:ye,errors:Ue}))}async function pn(E,T,A,I,N,q,K,V={}){Vc();let G=NE(T,A);if(de({navigation:G},{flushSync:V.flushSync===!0}),q){let X=await ga(I,T.pathname,E.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){if(X.partialMatches.length===0){let{matches:ye,route:Ue}=Na(a);return{matches:ye,pendingActionResult:[Ue.id,{type:"error",error:X.error}]}}let se=hr(X.partialMatches).route.id;return{matches:X.partialMatches,pendingActionResult:[se,{type:"error",error:X.error}]}}else if(X.matches)I=X.matches;else{let{notFoundMatches:se,error:ye,route:Ue}=Hc(T.pathname);return{matches:se,pendingActionResult:[Ue.id,{type:"error",error:ye}]}}}let J,te=yl(I,T);if(!te.route.action&&!te.route.lazy)J={type:"error",error:Ut(405,{method:E.method,pathname:T.pathname,routeId:te.route.id})};else{let X=Zi(s,o,E,I,te,K?[]:r,N),se=await Ds(E,X,N,null);if(J=se[te.route.id],!J){for(let ye of I)if(se[ye.route.id]){J=se[ye.route.id];break}}if(E.signal.aborted)return{shortCircuited:!0}}if(ti(J)){let X;return V&&V.replace!=null?X=V.replace:X=mg(J.response.headers.get("Location"),new URL(E.url),c)===_.location.pathname+_.location.search,await $r(E,J,!0,{submission:A,replace:X}),{shortCircuited:!0}}if(Dt(J)){let X=hr(I,te.route.id);return(V&&V.replace)!==!0&&(P="PUSH"),{matches:I,pendingActionResult:[X.route.id,J,te.route.id]}}return{matches:I,pendingActionResult:[te.route.id,J]}}async function Dn(E,T,A,I,N,q,K,V,G,J,te,X){let se=q||_u(T,K),ye=K||V||bg(se),Ue=!ce&&!J;if(N){if(Ue){let st=As(X);de({navigation:se,...st!==void 0?{actionData:st}:{}},{flushSync:te})}let he=await ga(A,T.pathname,E.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){if(he.partialMatches.length===0){let{matches:yi,route:Br}=Na(a);return{matches:yi,loaderData:{},errors:{[Br.id]:he.error}}}let st=hr(he.partialMatches).route.id;return{matches:he.partialMatches,loaderData:{},errors:{[st]:he.error}}}else if(he.matches)A=he.matches;else{let{error:st,notFoundMatches:yi,route:Br}=Hc(T.pathname);return{matches:yi,loaderData:{},errors:{[Br.id]:st}}}}let Ke=l||a,{dsMatches:be,revalidatingFetchers:_e}=ug(E,I,s,o,e.history,_,A,ye,T,J?[]:r,J===!0,re,W,xe,ue,ie,Ke,c,e.patchRoutesOnNavigation!=null,X);if($=++O,!e.dataStrategy&&!be.some(he=>he.shouldLoad)&&!be.some(he=>he.route.middleware&&he.route.middleware.length>0)&&_e.length===0){let he=$p();return Ee(T,{matches:A,loaderData:{},errors:X&&Dt(X[1])?{[X[0]]:X[1].error}:null,...wg(X),...he?{fetchers:new Map(_.fetchers)}:{}},{flushSync:te}),{shortCircuited:!0}}if(Ue){let he={};if(!N){he.navigation=se;let st=As(X);st!==void 0&&(he.actionData=st)}_e.length>0&&(he.fetchers=ha(_e)),de(he,{flushSync:te})}_e.forEach(he=>{Ln(he.key),he.controller&&Z.set(he.key,he.controller)});let Fr=()=>_e.forEach(he=>Ln(he.key));j&&j.signal.addEventListener("abort",Fr);let{loaderResults:Os,fetcherResults:Jn}=await Lp(be,_e,E,I);if(E.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Fr),_e.forEach(he=>Z.delete(he.key));let mn=$a(Os);if(mn)return await $r(E,mn.result,!0,{replace:G}),{shortCircuited:!0};if(mn=$a(Jn),mn)return ie.add(mn.key),await $r(E,mn.result,!0,{replace:G}),{shortCircuited:!0};let{loaderData:qc,errors:Is}=yg(_,A,Os,X,_e,Jn);J&&_.errors&&(Is={..._.errors,...Is});let zr=$p(),ya=Fp($),va=zr||ya||_e.length>0;return{matches:A,loaderData:qc,errors:Is,...va?{fetchers:new Map(_.fetchers)}:{}}}function As(E){if(E&&!Dt(E[1]))return{[E[0]]:E[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function ha(E){return E.forEach(T=>{let A=_.fetchers.get(T.key),I=Ws(void 0,A?A.data:void 0);_.fetchers.set(T.key,I)}),new Map(_.fetchers)}async function fa(E,T,A,I){Ln(E);let N=(I&&I.flushSync)===!0,q=l||a,K=Kd(_.location,_.matches,c,A,T,I==null?void 0:I.relative),V=dr(q,K,c),G=ma(V,q,K);if(G.active&&G.matches&&(V=G.matches),!V){In(E,T,Ut(404,{pathname:K}),{flushSync:N});return}let{path:J,submission:te,error:X}=cg(!0,K,I);if(X){In(E,T,X,{flushSync:N});return}let se=e.getContext?await e.getContext():new rg,ye=(I&&I.preventScrollReset)===!0;if(te&&mt(te.formMethod)){await js(E,T,J,V,se,G.active,N,ye,te);return}ue.set(E,{routeId:T,path:J}),await Rs(E,T,J,V,se,G.active,N,ye,te)}async function js(E,T,A,I,N,q,K,V,G){Vc(),ue.delete(E);let J=_.fetchers.get(E);On(E,$E(G,J),{flushSync:K});let te=new AbortController,X=Ci(e.history,A,te.signal,G);if(q){let Ie=await ga(I,new URL(X.url).pathname,X.signal,E);if(Ie.type==="aborted")return;if(Ie.type==="error"){In(E,T,Ie.error,{flushSync:K});return}else if(Ie.matches)I=Ie.matches;else{In(E,T,Ut(404,{pathname:A}),{flushSync:K});return}}let se=yl(I,A);if(!se.route.action&&!se.route.lazy){let Ie=Ut(405,{method:G.formMethod,pathname:A,routeId:T});In(E,T,Ie,{flushSync:K});return}Z.set(E,te);let ye=O,Ue=Zi(s,o,X,I,se,r,N),Ke=await Ds(X,Ue,N,E),be=Ke[se.route.id];if(!be){for(let Ie of Ue)if(Ke[Ie.route.id]){be=Ke[Ie.route.id];break}}if(X.signal.aborted){Z.get(E)===te&&Z.delete(E);return}if(xe.has(E)){if(ti(be)||Dt(be)){On(E,Nn(void 0));return}}else{if(ti(be))if(Z.delete(E),$>ye){On(E,Nn(void 0));return}else return ie.add(E),On(E,Ws(G)),$r(X,be,!1,{fetcherSubmission:G,preventScrollReset:V});if(Dt(be)){In(E,T,be.error);return}}let _e=_.navigation.location||_.location,Fr=Ci(e.history,_e,te.signal),Os=l||a,Jn=_.navigation.state!=="idle"?dr(Os,_.navigation.location,c):_.matches;oe(Jn,"Didn't find any matches after fetcher action");let mn=++O;F.set(E,mn);let qc=Ws(G,be.data);_.fetchers.set(E,qc);let{dsMatches:Is,revalidatingFetchers:zr}=ug(Fr,N,s,o,e.history,_,Jn,G,_e,r,!1,re,W,xe,ue,ie,Os,c,e.patchRoutesOnNavigation!=null,[se.route.id,be]);zr.filter(Ie=>Ie.key!==E).forEach(Ie=>{let wa=Ie.key,Hp=_.fetchers.get(wa),rk=Ws(void 0,Hp?Hp.data:void 0);_.fetchers.set(wa,rk),Ln(wa),Ie.controller&&Z.set(wa,Ie.controller)}),de({fetchers:new Map(_.fetchers)});let ya=()=>zr.forEach(Ie=>Ln(Ie.key));te.signal.addEventListener("abort",ya);let{loaderResults:va,fetcherResults:he}=await Lp(Is,zr,Fr,N);if(te.signal.aborted)return;if(te.signal.removeEventListener("abort",ya),F.delete(E),Z.delete(E),zr.forEach(Ie=>Z.delete(Ie.key)),_.fetchers.has(E)){let Ie=Nn(be.data);_.fetchers.set(E,Ie)}let st=$a(va);if(st)return $r(Fr,st.result,!1,{preventScrollReset:V});if(st=$a(he),st)return ie.add(st.key),$r(Fr,st.result,!1,{preventScrollReset:V});let{loaderData:yi,errors:Br}=yg(_,Jn,va,void 0,zr,he);Fp(mn),_.navigation.state==="loading"&&mn>$?(oe(P,"Expected pending action"),j&&j.abort(),Ee(_.navigation.location,{matches:Jn,loaderData:yi,errors:Br,fetchers:new Map(_.fetchers)})):(de({errors:Br,loaderData:vg(_.loaderData,yi,Jn,Br),fetchers:new Map(_.fetchers)}),re=!1)}async function Rs(E,T,A,I,N,q,K,V,G){let J=_.fetchers.get(E);On(E,Ws(G,J?J.data:void 0),{flushSync:K});let te=new AbortController,X=Ci(e.history,A,te.signal);if(q){let _e=await ga(I,new URL(X.url).pathname,X.signal,E);if(_e.type==="aborted")return;if(_e.type==="error"){In(E,T,_e.error,{flushSync:K});return}else if(_e.matches)I=_e.matches;else{In(E,T,Ut(404,{pathname:A}),{flushSync:K});return}}let se=yl(I,A);Z.set(E,te);let ye=O,Ue=Zi(s,o,X,I,se,r,N),be=(await Ds(X,Ue,N,E))[se.route.id];if(Z.get(E)===te&&Z.delete(E),!X.signal.aborted){if(xe.has(E)){On(E,Nn(void 0));return}if(ti(be))if($>ye){On(E,Nn(void 0));return}else{ie.add(E),await $r(X,be,!1,{preventScrollReset:V});return}if(Dt(be)){In(E,T,be.error);return}On(E,Nn(be.data))}}async function $r(E,T,A,{submission:I,fetcherSubmission:N,preventScrollReset:q,replace:K}={}){T.response.headers.has("X-Remix-Revalidate")&&(re=!0);let V=T.response.headers.get("Location");oe(V,"Expected a Location header on the redirect Response"),V=mg(V,new URL(E.url),c);let G=$o(_.location,V,{_isRedirect:!0});if(n){let Ue=!1;if(T.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(Cc(V)){const Ke=o1(V,!0);Ue=Ke.origin!==t.location.origin||Jt(Ke.pathname,c)==null}if(Ue){K?t.location.replace(V):t.location.assign(V);return}}j=null;let J=K===!0||T.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:te,formAction:X,formEncType:se}=_.navigation;!I&&!N&&te&&X&&se&&(I=bg(_.navigation));let ye=I||N;if(gE.has(T.response.status)&&ye&&mt(ye.formMethod))await pe(J,G,{submission:{...ye,formAction:V},preventScrollReset:q||D,enableViewTransition:A?M:void 0});else{let Ue=_u(G,I);await pe(J,G,{overrideNavigation:Ue,fetcherSubmission:N,preventScrollReset:q||D,enableViewTransition:A?M:void 0})}}async function Ds(E,T,A,I){let N,q={};try{N=await CE(u,E,T,I,A,!1)}catch(K){return T.filter(V=>V.shouldLoad).forEach(V=>{q[V.route.id]={type:"error",error:K}}),q}if(E.signal.aborted)return q;for(let[K,V]of Object.entries(N))if(LE(V)){let G=V.result;q[K]={type:"redirect",response:jE(G,E,K,T,c)}}else q[K]=await AE(V);return q}async function Lp(E,T,A,I){let N=Ds(A,E,I,null),q=Promise.all(T.map(async G=>{if(G.matches&&G.match&&G.request&&G.controller){let te=(await Ds(G.request,G.matches,I,G.key))[G.match.route.id];return{[G.key]:te}}else return Promise.resolve({[G.key]:{type:"error",error:Ut(404,{pathname:G.path})}})})),K=await N,V=(await q).reduce((G,J)=>Object.assign(G,J),{});return{loaderResults:K,fetcherResults:V}}function Vc(){re=!0,ue.forEach((E,T)=>{Z.has(T)&&W.add(T),Ln(T)})}function On(E,T,A={}){_.fetchers.set(E,T),de({fetchers:new Map(_.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function In(E,T,A,I={}){let N=hr(_.matches,T);Wc(E),de({errors:{[N.route.id]:A},fetchers:new Map(_.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Mp(E){return Be.set(E,(Be.get(E)||0)+1),xe.has(E)&&xe.delete(E),_.fetchers.get(E)||yE}function X_(E,T){Ln(E,T==null?void 0:T.reason),On(E,Nn(null))}function Wc(E){let T=_.fetchers.get(E);Z.has(E)&&!(T&&T.state==="loading"&&F.has(E))&&Ln(E),ue.delete(E),F.delete(E),ie.delete(E),xe.delete(E),W.delete(E),_.fetchers.delete(E)}function J_(E){let T=(Be.get(E)||0)-1;T<=0?(Be.delete(E),xe.add(E)):Be.set(E,T),de({fetchers:new Map(_.fetchers)})}function Ln(E,T){let A=Z.get(E);A&&(A.abort(T),Z.delete(E))}function Np(E){for(let T of E){let A=Mp(T),I=Nn(A.data);_.fetchers.set(T,I)}}function $p(){let E=[],T=!1;for(let A of ie){let I=_.fetchers.get(A);oe(I,`Expected fetcher: ${A}`),I.state==="loading"&&(ie.delete(A),E.push(A),T=!0)}return Np(E),T}function Fp(E){let T=[];for(let[A,I]of F)if(I<E){let N=_.fetchers.get(A);oe(N,`Expected fetcher: ${A}`),N.state==="loading"&&(Ln(A),F.delete(A),T.push(A))}return Np(T),T.length>0}function Q_(E,T){let A=_.blockers.get(E)||Vs;return At.get(E)!==T&&At.set(E,T),A}function zp(E){_.blockers.delete(E),At.delete(E)}function pa(E,T){let A=_.blockers.get(E)||Vs;oe(A.state==="unblocked"&&T.state==="blocked"||A.state==="blocked"&&T.state==="blocked"||A.state==="blocked"&&T.state==="proceeding"||A.state==="blocked"&&T.state==="unblocked"||A.state==="proceeding"&&T.state==="unblocked",`Invalid blocker state transition: ${A.state} -> ${T.state}`);let I=new Map(_.blockers);I.set(E,T),de({blockers:I})}function Bp({currentLocation:E,nextLocation:T,historyAction:A}){if(At.size===0)return;At.size>1&&De(!1,"A router only supports one blocker at a time");let I=Array.from(At.entries()),[N,q]=I[I.length-1],K=_.blockers.get(N);if(!(K&&K.state==="proceeding")&&q({currentLocation:E,nextLocation:T,historyAction:A}))return N}function Hc(E){let T=Ut(404,{pathname:E}),A=l||a,{matches:I,route:N}=Na(A);return{notFoundMatches:I,route:N,error:T}}function Z_(E,T,A){if(m=E,x=T,v=A||null,!g&&_.navigation===bu){g=!0;let I=Vp(_.location,_.matches);I!=null&&de({restoreScrollPosition:I})}return()=>{m=null,x=null,v=null}}function Up(E,T){return v&&v(E,T.map(I=>BS(I,_.loaderData)))||E.key}function ek(E,T){if(m&&x){let A=Up(E,T);m[A]=x()}}function Vp(E,T){if(m){let A=Up(E,T),I=m[A];if(typeof I=="number")return I}return null}function ma(E,T,A){if(e.patchRoutesOnNavigation)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:eo(T,A,c,!0)}}else return{active:!0,matches:eo(T,A,c,!0)||[]};return{active:!1,matches:null}}async function ga(E,T,A,I){if(!e.patchRoutesOnNavigation)return{type:"success",matches:E};let N=E;for(;;){let q=l==null,K=l||a,V=o;try{await e.patchRoutesOnNavigation({signal:A,path:T,matches:N,fetcherKey:I,patch:(te,X)=>{A.aborted||dg(te,X,K,V,s,!1)}})}catch(te){return{type:"error",error:te,partialMatches:N}}finally{q&&!A.aborted&&(a=[...a])}if(A.aborted)return{type:"aborted"};let G=dr(K,T,c),J=null;if(G){if(Object.keys(G[0].params).length===0)return{type:"success",matches:G};if(J=eo(K,T,c,!0),!(J&&N.length<J.length&&Wp(N,J.slice(0,N.length))))return{type:"success",matches:G}}if(J||(J=eo(K,T,c,!0)),!J||Wp(N,J))return{type:"success",matches:null};N=J}}function Wp(E,T){return E.length===T.length&&E.every((A,I)=>A.route.id===T[I].route.id)}function tk(E){o={},l=Fo(E,s,void 0,o)}function nk(E,T,A=!1){let I=l==null;dg(E,T,l||a,o,s,A),I&&(a=[...a],de({}))}return C={get basename(){return c},get future(){return d},get state(){return _},get routes(){return a},get window(){return t},initialize:Bc,subscribe:Uc,enableScrollRestoration:Z_,navigate:ge,fetch:fa,revalidate:Qe,createHref:E=>e.history.createHref(E),encodeLocation:E=>e.history.encodeLocation(E),getFetcher:Mp,resetFetcher:X_,deleteFetcher:J_,dispose:Ps,getBlocker:Q_,deleteBlocker:zp,patchRoutes:nk,_internalFetchControllers:Z,_internalSetRoutes:tk,_internalSetStateDoNotUseOrYouWillBreakYourApp(E){de(E)}},e.unstable_instrumentations&&(C=aE(C,e.unstable_instrumentations.map(E=>E.router).filter(Boolean))),C}function xE(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Kd(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let l=Pc(r||".",Tc(o),Jt(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let c=Of(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let u=new URLSearchParams(l.search),d=u.getAll("index");u.delete("index"),d.filter(f=>f).forEach(f=>u.append("index",f));let h=u.toString();l.search=h?`?${h}`:""}}return n!=="/"&&(l.pathname=eE({basename:n,pathname:l.pathname})),An(l)}function cg(e,t,n){if(!n||!xE(n))return{path:t};if(n.formMethod&&!ME(n.formMethod))return{path:t,error:Ut(405,{method:n.formMethod})};let r=()=>({path:t,error:Ut(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=w1(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!mt(s))return r();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((h,[f,m])=>`${h}${f}=${m}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!mt(s))return r();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return r()}}}oe(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=Xd(n.formData),l=n.formData;else if(n.body instanceof FormData)a=Xd(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=gg(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=gg(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(mt(c.formMethod))return{path:t,submission:c};let u=Ir(t);return e&&u.search&&Of(u.search)&&a.append("index",""),u.search=`?${a}`,{path:An(u),submission:c}}function ug(e,t,n,r,i,s,o,a,l,c,u,d,h,f,m,v,x,g,y,w){var ce;let k=w?Dt(w[1])?w[1].error:w[1].data:void 0,S=i.createURL(s.location),C=i.createURL(l),_;if(u&&s.errors){let re=Object.keys(s.errors)[0];_=o.findIndex(W=>W.route.id===re)}else if(w&&Dt(w[1])){let re=w[0];_=o.findIndex(W=>W.route.id===re)-1}let P=w?w[1].statusCode:void 0,D=P&&P>=400,j={currentUrl:S,currentParams:((ce=s.matches[0])==null?void 0:ce.params)||{},nextUrl:C,nextParams:o[0].params,...a,actionResult:k,actionStatus:P},M=Rf(o.map(re=>re.route.path)),B=o.map((re,W)=>{let{route:Z}=re,O=null;if(_!=null&&W>_?O=!1:Z.lazy?O=!0:Df(Z)?u?O=Gd(Z,s.loaderData,s.errors):bE(s.loaderData,s.matches[W],re)&&(O=!0):O=!1,O!==null)return Yd(n,r,e,M,re,c,t,O);let $=D?!1:d||S.pathname+S.search===C.pathname+C.search||S.search!==C.search||_E(s.matches[W],re),F={...j,defaultShouldRevalidate:$},ie=Jl(re,F);return Yd(n,r,e,M,re,c,t,ie,F)}),Y=[];return m.forEach((re,W)=>{if(u||!o.some(xe=>xe.route.id===re.routeId)||f.has(W))return;let Z=s.fetchers.get(W),O=Z&&Z.state!=="idle"&&Z.data===void 0,$=dr(x,re.path,g);if(!$){if(y&&O)return;Y.push({key:W,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(v.has(W))return;let F=yl($,re.path),ie=new AbortController,ue=Ci(i,re.path,ie.signal),Be=null;if(h.has(W))h.delete(W),Be=Zi(n,r,ue,$,F,c,t);else if(O)d&&(Be=Zi(n,r,ue,$,F,c,t));else{let xe={...j,defaultShouldRevalidate:D?!1:d};Jl(F,xe)&&(Be=Zi(n,r,ue,$,F,c,t,xe))}Be&&Y.push({key:W,routeId:re.routeId,path:re.path,matches:Be,match:F,request:ue,controller:ie})}),{dsMatches:B,revalidatingFetchers:Y}}function Df(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Gd(e,t,n){if(e.lazy)return!0;if(!Df(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function bE(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function _E(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Jl(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function dg(e,t,n,r,i,s){let o;if(e){let c=r[e];oe(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],l=[];if(t.forEach(c=>{let u=o.find(d=>p1(c,d));u?l.push({existingRoute:u,newRoute:c}):a.push(c)}),a.length>0){let c=Fo(a,i,[e||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...c)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:u,newRoute:d}=l[c],h=u,[f]=Fo([d],i,[],{},!0);Object.assign(h,{element:f.element?f.element:h.element,errorElement:f.errorElement?f.errorElement:h.errorElement,hydrateFallbackElement:f.hydrateFallbackElement?f.hydrateFallbackElement:h.hydrateFallbackElement})}}function p1(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(s=>p1(n,s))}):!1}var hg=new WeakMap,m1=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(oe(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=hg.get(i);o||(o={},hg.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let c=NS(e),d=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)De(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(d)De(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let h=await s();h!=null&&(Object.assign(i,{[e]:h}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(h=>h===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},fg=new WeakMap;function kE(e,t,n,r,i){let s=n[e.id];if(oe(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let u=fg.get(s);if(u)return{lazyRoutePromise:u,lazyHandlerPromise:u};let d=(async()=>{oe(typeof e.lazy=="function","No lazy route function found");let h=await e.lazy(),f={};for(let m in h){let v=h[m];if(v===void 0)continue;let x=FS(m),y=s[m]!==void 0&&m!=="hasErrorBoundary";x?De(!x,"Route property "+m+" is not a supported property to be returned from a lazy route function. This property will be ignored."):y?De(!y,`Route "${s.id}" has a static property "${m}" defined but its lazy function is also returning a value for this property. The lazy route property "${m}" will be ignored.`):f[m]=v}Object.assign(s,f),Object.assign(s,{...r(s),lazy:void 0})})();return fg.set(s,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let o=Object.keys(e.lazy),a=[],l;for(let u of o){if(i&&i.includes(u))continue;let d=m1({key:u,route:e,manifest:n,mapRouteProperties:r});d&&(a.push(d),u===t&&(l=d))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c==null||c.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function pg(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function SE(e){return e.matches.some(t=>t.route.middleware)?g1(e,()=>pg(e)):pg(e)}function g1(e,t){return EE(e,t,r=>r,OE,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:o}=e,a=Math.min(Math.max(o.findIndex(c=>c.route.id===i),0),Math.max(o.findIndex(c=>c.unstable_shouldCallHandler()),0)),l=hr(o,o[a].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:r}})}}}async function EE(e,t,n,r,i){let{matches:s,request:o,params:a,context:l,unstable_pattern:c}=e,u=s.flatMap(h=>h.route.middleware?h.route.middleware.map(f=>[h.route.id,f]):[]);return await y1({request:o,params:a,context:l,unstable_pattern:c},u,t,n,r,i)}async function y1(e,t,n,r,i,s,o=0){let{request:a}=e;if(a.signal.aborted)throw a.signal.reason??new Error(`Request aborted: ${a.method} ${a.url}`);let l=t[o];if(!l)return await n();let[c,u]=l,d,h=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");try{return d={value:await y1(e,t,n,r,i,s,o+1)},d.value}catch(f){return d={value:await s(f,c,d)},d.value}};try{let f=await u(e,h),m=f!=null?r(f):void 0;return i(m)?m:d?m??d.value:(d={value:await h()},d.value)}catch(f){return await s(f,c,d)}}function v1(e,t,n,r,i){let s=m1({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=kE(r.route,mt(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Yd(e,t,n,r,i,s,o,a,l=null){let c=!1,u=v1(e,t,n,i,s);return{...i,_lazyPromises:u,shouldLoad:a,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(d){return c=!0,l?typeof d=="boolean"?Jl(i,{...l,defaultShouldRevalidate:d}):Jl(i,l):a},resolve(d){let{lazy:h,loader:f,middleware:m}=i.route,v=c||a||d&&!mt(n.method)&&(h||f),x=m&&m.length>0&&!f&&!h;return v&&(mt(n.method)||!x)?TE({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:d,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Zi(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:v1(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Yd(e,t,n,Rf(r.map(c=>c.route.path)),l,s,o,!0,a))}async function CE(e,t,n,r,i,s){n.some(c=>{var u;return(u=c._lazyPromises)==null?void 0:u.middleware})&&await Promise.all(n.map(c=>{var u;return(u=c._lazyPromises)==null?void 0:u.middleware}));let o={request:t,unstable_pattern:Rf(n.map(c=>c.route.path)),params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,runClientMiddleware:c=>{let u=o;return g1(u,()=>c({...u,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>{var u,d;return[(u=c._lazyPromises)==null?void 0:u.handler,(d=c._lazyPromises)==null?void 0:d.route]}))}catch{}return l}async function TE({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:s,scopedContext:o}){let a,l,c=mt(e.method),u=c?"action":"loader",d=h=>{let f,m=new Promise((g,y)=>f=y);l=()=>f(),e.signal.addEventListener("abort",l);let v=g=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${n.route.id}]`)):h({request:e,unstable_pattern:t,params:n.params,context:o},...g!==void 0?[g]:[]),x=(async()=>{try{return{type:"data",result:await(s?s(y=>v(y)):v())}}catch(g){return{type:"error",result:g}}})();return Promise.race([x,m])};try{let h=c?n.route.action:n.route.loader;if(r||i)if(h){let f,[m]=await Promise.all([d(h).catch(v=>{f=v}),r,i]);if(f!==void 0)throw f;a=m}else{await r;let f=c?n.route.action:n.route.loader;if(f)[a]=await Promise.all([d(f),i]);else if(u==="action"){let m=new URL(e.url),v=m.pathname+m.search;throw Ut(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(h)a=await d(h);else{let f=new URL(e.url),m=f.pathname+f.search;throw Ut(404,{pathname:m})}}catch(h){return{type:"error",result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function PE(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function AE(e){var r,i,s,o,a,l;let{result:t,type:n}=e;if(x1(t)){let c;try{c=await PE(t)}catch(u){return{type:"error",error:u}}return n==="error"?{type:"error",error:new Xl(t.status,t.statusText,c),statusCode:t.status,headers:t.headers}:{type:"data",data:c,statusCode:t.status,headers:t.headers}}return n==="error"?xg(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Xl(((s=t.init)==null?void 0:s.status)||500,void 0,t.data),statusCode:zo(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:zo(t)?t.status:void 0}:xg(t)?{type:"data",data:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function jE(e,t,n,r,i){let s=e.headers.get("Location");if(oe(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cc(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=Kd(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function mg(e,t,n){if(Cc(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Jt(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Ci(e,t,n,r){let i=e.createURL(w1(t)).toString(),s={signal:n};if(r&&mt(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Xd(r.formData):s.body=r.formData}return new Request(i,s)}function Xd(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function gg(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function RE(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,c={},u=n&&Dt(n[1])?n[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let h=d.route.id,f=t[h];if(oe(!ti(f),"Cannot handle redirect results in processLoaderData"),Dt(f)){let m=f.error;if(u!==void 0&&(m=u,u=void 0),o=o||{},i)o[h]=m;else{let v=hr(e,h);o[v.route.id]==null&&(o[v.route.id]=m)}r||(s[h]=f1),l||(l=!0,a=zo(f.error)?f.error.status:500),f.headers&&(c[h]=f.headers)}else s[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[h]=f.headers)}),u!==void 0&&n&&(o={[n[0]]:u},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function yg(e,t,n,r,i,s){let{loaderData:o,errors:a}=RE(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:u,controller:d}=l;if(d&&d.signal.aborted)return;let h=s[c];if(oe(h,"Did not find corresponding fetcher result"),Dt(h)){let f=hr(e.matches,u==null?void 0:u.route.id);a&&a[f.route.id]||(a={...a,[f.route.id]:h.error}),e.fetchers.delete(c)}else if(ti(h))oe(!1,"Unhandled fetcher revalidation redirect");else{let f=Nn(h.data);e.fetchers.set(c,f)}}),{loaderData:o,errors:a}}function vg(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==f1).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function wg(e){return e?Dt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function hr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Na(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ut(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new Xl(e||500,o,new Error(a),!0)}function $a(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(ti(i))return{key:r,result:i}}}function w1(e){let t=typeof e=="string"?Ir(e):e;return An({...t,hash:""})}function DE(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function OE(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&IE(n))}function IE(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function LE(e){return x1(e.result)&&mE.has(e.result.status)}function Dt(e){return e.type==="error"}function ti(e){return(e&&e.type)==="redirect"}function xg(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function x1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ME(e){return pE.has(e.toUpperCase())}function mt(e){return hE.has(e.toUpperCase())}function Of(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function yl(e,t){let n=typeof t=="string"?Ir(t).search:t.search;if(e[e.length-1].route.index&&Of(n||""))return e[e.length-1];let r=c1(e);return r[r.length-1]}function bg(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function _u(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function NE(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ws(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function $E(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Nn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function FE(e,t){try{let n=e.sessionStorage.getItem(h1);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function zE(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(h1,JSON.stringify(n))}catch(r){De(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function BE(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var gi=b.createContext(null);gi.displayName="DataRouter";var ra=b.createContext(null);ra.displayName="DataRouterState";b.createContext(!1);var If=b.createContext({isTransitioning:!1});If.displayName="ViewTransition";var b1=b.createContext(new Map);b1.displayName="Fetchers";var UE=b.createContext(null);UE.displayName="Await";var hn=b.createContext(null);hn.displayName="Navigation";var Ac=b.createContext(null);Ac.displayName="Location";var Qt=b.createContext({outlet:null,matches:[],isDataRoute:!1});Qt.displayName="Route";var Lf=b.createContext(null);Lf.displayName="RouteError";function VE(e,{relative:t}={}){oe(xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(hn),{hash:i,pathname:s,search:o}=ia(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Cn([n,s])),r.createHref({pathname:a,search:o,hash:i})}function xs(){return b.useContext(Ac)!=null}function fn(){return oe(xs(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ac).location}var _1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k1(e){b.useContext(hn).static||b.useLayoutEffect(e)}function Lr(){let{isDataRoute:e}=b.useContext(Qt);return e?iC():WE()}function WE(){oe(xs(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(gi),{basename:t,navigator:n}=b.useContext(hn),{matches:r}=b.useContext(Qt),{pathname:i}=fn(),s=JSON.stringify(Tc(r)),o=b.useRef(!1);return k1(()=>{o.current=!0}),b.useCallback((l,c={})=>{if(De(o.current,_1),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=Pc(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Cn([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,s,i,e])}var HE=b.createContext(null);function qE(e){let t=b.useContext(Qt).outlet;return b.useMemo(()=>t&&b.createElement(HE.Provider,{value:e},t),[t,e])}function S1(){let{matches:e}=b.useContext(Qt),t=e[e.length-1];return t?t.params:{}}function ia(e,{relative:t}={}){let{matches:n}=b.useContext(Qt),{pathname:r}=fn(),i=JSON.stringify(Tc(n));return b.useMemo(()=>Pc(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function KE(e,t,n,r,i){oe(xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(hn),{matches:o}=b.useContext(Qt),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let y=d&&d.path||"";E1(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let h=fn(),f;f=h;let m=f.pathname||"/",v=m;if(u!=="/"){let y=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=dr(e,{pathname:v});return De(d||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),De(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),QE(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Cn([u,s.encodeLocation?s.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Cn([u,s.encodeLocation?s.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),o,n,r,i)}function GE(){let e=rC(),t=zo(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,o)}var YE=b.createElement(GE,null),XE=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Qt.Provider,{value:this.props.routeContext},b.createElement(Lf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JE({routeContext:e,match:t,children:n}){let r=b.useContext(gi);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Qt.Provider,{value:e},n)}function QE(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);oe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=n&&r?(u,d)=>{var h,f;r(u,{location:n.location,params:((f=(h=n.matches)==null?void 0:h[0])==null?void 0:f.params)??{},errorInfo:d})}:void 0;return s.reduceRight((u,d,h)=>{let f,m=!1,v=null,x=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||YE,a&&(l<0&&h===0?(E1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):l===h&&(m=!0,x=d.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,h+1)),y=()=>{let w;return f?w=v:m?w=x:d.route.Component?w=b.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,b.createElement(JE,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?b.createElement(XE,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:c}):y()},null)}function Mf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(e){let t=b.useContext(gi);return oe(t,Mf(e)),t}function eC(e){let t=b.useContext(ra);return oe(t,Mf(e)),t}function tC(e){let t=b.useContext(Qt);return oe(t,Mf(e)),t}function Nf(e){let t=tC(e),n=t.matches[t.matches.length-1];return oe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nC(){return Nf("useRouteId")}function rC(){var r;let e=b.useContext(Lf),t=eC("useRouteError"),n=Nf("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function iC(){let{router:e}=ZE("useNavigate"),t=Nf("useNavigate"),n=b.useRef(!1);return k1(()=>{n.current=!0}),b.useCallback(async(i,s={})=>{De(n.current,_1),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var _g={};function E1(e,t,n){!t&&!_g[e]&&(_g[e]=!0,De(!1,n))}var kg={};function Sg(e,t){!e&&!kg[t]&&(kg[t]=!0,console.warn(t))}function sC(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&De(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&De(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&De(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var oC=["HydrateFallback","hydrateFallbackElement"],aC=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function lC({router:e,flushSync:t,unstable_onError:n}){let[r,i]=b.useState(e.state),[s,o]=b.useState(),[a,l]=b.useState({isTransitioning:!1}),[c,u]=b.useState(),[d,h]=b.useState(),[f,m]=b.useState(),v=b.useRef(new Map),x=b.useCallback(S=>{i(C=>(S.errors&&n&&Object.entries(S.errors).forEach(([_,P])=>{var D,j;((D=C.errors)==null?void 0:D[_])!==P&&n(P,{location:S.location,params:((j=S.matches[0])==null?void 0:j.params)??{}})}),S))},[n]),g=b.useCallback((S,{deletedFetchers:C,flushSync:_,viewTransitionOpts:P})=>{S.fetchers.forEach((j,M)=>{j.data!==void 0&&v.current.set(M,j.data)}),C.forEach(j=>v.current.delete(j)),Sg(_===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Sg(P==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!D){t&&_?t(()=>x(S)):b.startTransition(()=>x(S));return}if(t&&_){t(()=>{d&&(c&&c.resolve(),d.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let j=e.window.document.startViewTransition(()=>{t(()=>x(S))});j.finished.finally(()=>{t(()=>{u(void 0),h(void 0),o(void 0),l({isTransitioning:!1})})}),t(()=>h(j));return}d?(c&&c.resolve(),d.skipTransition(),m({state:S,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(o(S),l({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,t,d,c,x]);b.useLayoutEffect(()=>e.subscribe(g),[e,g]),b.useEffect(()=>{a.isTransitioning&&!a.flushSync&&u(new aC)},[a]),b.useEffect(()=>{if(c&&s&&e.window){let S=s,C=c.promise,_=e.window.document.startViewTransition(async()=>{b.startTransition(()=>x(S)),await C});_.finished.finally(()=>{u(void 0),h(void 0),o(void 0),l({isTransitioning:!1})}),h(_)}},[s,c,e.window,x]),b.useEffect(()=>{c&&s&&r.location.key===s.location.key&&c.resolve()},[c,d,r.location,s]),b.useEffect(()=>{!a.isTransitioning&&f&&(o(f.state),l({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))},[a.isTransitioning,f]);let y=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:S=>e.navigate(S),push:(S,C,_)=>e.navigate(S,{state:C,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(S,C,_)=>e.navigate(S,{replace:!0,state:C,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[e]),w=e.basename||"/",k=b.useMemo(()=>({router:e,navigator:y,static:!1,basename:w,unstable_onError:n}),[e,y,w,n]);return b.createElement(b.Fragment,null,b.createElement(gi.Provider,{value:k},b.createElement(ra.Provider,{value:r},b.createElement(b1.Provider,{value:v.current},b.createElement(If.Provider,{value:a},b.createElement(hC,{basename:w,location:r.location,navigationType:r.historyAction,navigator:y},b.createElement(cC,{routes:e.routes,future:e.future,state:r,unstable_onError:n})))))),null)}var cC=b.memo(uC);function uC({routes:e,future:t,state:n,unstable_onError:r}){return KE(e,void 0,n,r,t)}function to({to:e,replace:t,state:n,relative:r}){oe(xs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(hn);De(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Qt),{pathname:o}=fn(),a=Lr(),l=Pc(e,Tc(s),o,r==="path"),c=JSON.stringify(l);return b.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function dC(e){return qE(e.context)}function hC({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){oe(!xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=b.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ir(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,f=b.useMemo(()=>{let m=Jt(l,o);return m==null?null:{location:{pathname:m,search:c,hash:u,state:d,key:h},navigationType:r}},[o,l,c,u,d,h,r]);return De(f!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:b.createElement(hn.Provider,{value:a},b.createElement(Ac.Provider,{children:t,value:f}))}var vl="get",wl="application/x-www-form-urlencoded";function jc(e){return e!=null&&typeof e.tagName=="string"}function fC(e){return jc(e)&&e.tagName.toLowerCase()==="button"}function pC(e){return jc(e)&&e.tagName.toLowerCase()==="form"}function mC(e){return jc(e)&&e.tagName.toLowerCase()==="input"}function gC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yC(e,t){return e.button===0&&(!t||t==="_self")&&!gC(e)}function Jd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function vC(e,t){let n=Jd(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Fa=null;function wC(){if(Fa===null)try{new FormData(document.createElement("form"),0),Fa=!1}catch{Fa=!0}return Fa}var xC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ku(e){return e!=null&&!xC.has(e)?(De(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wl}"`),null):e}function bC(e,t){let n,r,i,s,o;if(pC(e)){let a=e.getAttribute("action");r=a?Jt(a,t):null,n=e.getAttribute("method")||vl,i=ku(e.getAttribute("enctype"))||wl,s=new FormData(e)}else if(fC(e)||mC(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Jt(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||vl,i=ku(e.getAttribute("formenctype"))||ku(a.getAttribute("enctype"))||wl,s=new FormData(a,e),!wC()){let{name:c,type:u,value:d}=e;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,d)}}else{if(jc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vl,r=null,i=wl,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $f(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _C(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Jt(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function kC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function EC(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await kC(s,n);return o.links?o.links():[]}return[]}));return AC(r.flat(1).filter(SC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Eg(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function CC(e,t,{includeHydrateFallback:n}={}){return TC(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function TC(e){return[...new Set(e)]}function PC(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function AC(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(PC(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function C1(){let e=b.useContext(gi);return $f(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jC(){let e=b.useContext(ra);return $f(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ff=b.createContext(void 0);Ff.displayName="FrameworkContext";function T1(){let e=b.useContext(Ff);return $f(e,"You must render this element inside a <HydratedRouter> element"),e}function RC(e,t){let n=b.useContext(Ff),[r,i]=b.useState(!1),[s,o]=b.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=b.useRef(null);b.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=g=>{g.forEach(y=>{o(y.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[e]),b.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let f=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,h,{}]:[s,h,{onFocus:Hs(a,f),onBlur:Hs(l,m),onMouseEnter:Hs(c,f),onMouseLeave:Hs(u,m),onTouchStart:Hs(d,f)}]:[!1,h,{}]}function Hs(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function DC({page:e,...t}){let{router:n}=C1(),r=b.useMemo(()=>dr(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(IC,{page:e,matches:r,...t}):null}function OC(e){let{manifest:t,routeModules:n}=T1(),[r,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return EC(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function IC({page:e,matches:t,...n}){let r=fn(),{manifest:i,routeModules:s}=T1(),{basename:o}=C1(),{loaderData:a,matches:l}=jC(),c=b.useMemo(()=>Eg(e,t,l,i,r,"data"),[e,t,l,i,r]),u=b.useMemo(()=>Eg(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let m=new Set,v=!1;if(t.forEach(g=>{var w;let y=i.routes[g.route.id];!y||!y.hasLoader||(!c.some(k=>k.route.id===g.route.id)&&g.route.id in a&&((w=s[g.route.id])!=null&&w.shouldRevalidate)||y.hasClientLoader?v=!0:m.add(g.route.id))}),m.size===0)return[];let x=_C(e,o,"data");return v&&m.size>0&&x.searchParams.set("_routes",t.filter(g=>m.has(g.route.id)).map(g=>g.route.id).join(",")),[x.pathname+x.search]},[o,a,r,i,c,t,e,s]),h=b.useMemo(()=>CC(u,i),[u,i]),f=OC(u);return b.createElement(b.Fragment,null,d.map(m=>b.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>b.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),f.map(({key:m,link:v})=>b.createElement("link",{key:m,nonce:n.nonce,...v})))}function LC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var P1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P1&&(window.__reactRouterVersion="7.9.6")}catch{}function MC(e,t){return wE({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:OS({window:t==null?void 0:t.window}),hydrationData:NC(),routes:e,mapRouteProperties:sC,hydrationRouteProperties:oC,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function NC(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:$C(e.errors)}),e}function $C(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Xl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},f){let{basename:m}=b.useContext(hn),v=typeof c=="string"&&A1.test(c),x,g=!1;if(typeof c=="string"&&v&&(x=c,P1))try{let D=new URL(window.location.href),j=c.startsWith("//")?new URL(D.protocol+c):new URL(c),M=Jt(j.pathname,m);j.origin===D.origin&&M!=null?c=M+j.search+j.hash:g=!0}catch{De(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=VE(c,{relative:i}),[w,k,S]=RC(r,h),C=BC(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function _(D){t&&t(D),D.defaultPrevented||C(D)}let P=b.createElement("a",{...h,...S,href:x||y,onClick:g||s?t:_,ref:LC(f,k),target:l,"data-discover":!v&&n==="render"?"true":void 0});return w&&!v?b.createElement(b.Fragment,null,P,b.createElement(DC,{page:y})):P});us.displayName="Link";var no=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let d=ia(o,{relative:c.relative}),h=fn(),f=b.useContext(ra),{navigator:m,basename:v}=b.useContext(hn),x=f!=null&&qC(d)&&a===!0,g=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,y=h.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&v&&(w=Jt(w,v)||w);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let S=y===g||!i&&y.startsWith(g)&&y.charAt(k)==="/",C=w!=null&&(w===g||!i&&w.startsWith(g)&&w.charAt(g.length)==="/"),_={isActive:S,isPending:C,isTransitioning:x},P=S?t:void 0,D;typeof r=="function"?D=r(_):D=[r,S?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let j=typeof s=="function"?s(_):s;return b.createElement(us,{...c,"aria-current":P,className:D,ref:u,style:j,to:o,viewTransition:a},typeof l=="function"?l(_):l)});no.displayName="NavLink";var FC=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=vl,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},f)=>{let m=WC(),v=HC(a,{relative:c}),x=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&A1.test(a),y=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let k=w.nativeEvent.submitter,S=(k==null?void 0:k.getAttribute("formmethod"))||o;m(k||w.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return b.createElement("form",{ref:f,method:x,action:v,onSubmit:r?l:y,...h,"data-discover":!g&&e==="render"?"true":void 0})});FC.displayName="Form";function zC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j1(e){let t=b.useContext(gi);return oe(t,zC(e)),t}function BC(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Lr(),l=fn(),c=ia(e,{relative:s});return b.useCallback(u=>{if(yC(u,t)){u.preventDefault();let d=n!==void 0?n:An(l)===An(c);a(e,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}function R1(e){De(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(Jd(e)),n=b.useRef(!1),r=fn(),i=b.useMemo(()=>vC(r.search,n.current?null:t.current),[r.search]),s=Lr(),o=b.useCallback((a,l)=>{const c=Jd(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var UC=0,VC=()=>`__${String(++UC)}__`;function WC(){let{router:e}=j1("useSubmit"),{basename:t}=b.useContext(hn),n=nC();return b.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=bC(r,t);if(i.navigate===!1){let u=i.fetcherKey||VC();await e.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function HC(e,{relative:t}={}){let{basename:n}=b.useContext(hn),r=b.useContext(Qt);oe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ia(e||".",{relative:t})},o=fn();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Cn([n,s.pathname])),An(s)}function qC(e,{relative:t}={}){let n=b.useContext(If);oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=j1("useViewTransitionState"),i=ia(e,{relative:t});if(!n.isTransitioning)return!1;let s=Jt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Jt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yl(i.pathname,o)!=null||Yl(i.pathname,s)!=null}function KC(e){return b.createElement(lC,{flushSync:i1.flushSync,...e})}var Qd=function(e,t){return Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Qd(e,t)};function D1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ql=function(){return Ql=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ql.apply(this,arguments)};function bs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function O1(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function I1(e,t){return function(n,r){t(n,r,e)}}function L1(e,t,n,r,i,s){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var m={};for(var v in r)m[v]=v==="access"?{}:r[v];for(var v in r.access)m.access[v]=r.access[v];m.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(g||null))};var x=(0,n[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],m);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=o(x.get))&&(u.get=d),(d=o(x.set))&&(u.set=d),(d=o(x.init))&&i.unshift(d)}else(d=o(x))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),h=!0}function M1(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function N1(e){return typeof e=="symbol"?e:"".concat(e)}function $1(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function F1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function U(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function z1(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Rc=Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function B1(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Rc(t,e,n)}function Zl(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function U1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zf(arguments[t]));return e}function V1(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function W1(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function ds(e){return this instanceof ds?(this.v=e,this):new ds(e)}function H1(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(m){return Promise.resolve(m).then(f,d)}}function a(f,m){r[f]&&(i[f]=function(v){return new Promise(function(x,g){s.push([f,v,x,g])>1||l(f,v)})},m&&(i[f]=m(i[f])))}function l(f,m){try{c(r[f](m))}catch(v){h(s[0][3],v)}}function c(f){f.value instanceof ds?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,m){f(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function q1(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:ds(e[i](o)),done:!1}:s?s(o):o}:s}}function K1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Zl=="function"?Zl(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function G1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var GC=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Zd=function(e){return Zd=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Zd(e)};function Y1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Zd(e),r=0;r<n.length;r++)n[r]!=="default"&&Rc(t,e,n[r]);return GC(t,e),t}function X1(e){return e&&e.__esModule?e:{default:e}}function J1(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Q1(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function Z1(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ex(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var YC=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function tx(e){function t(s){e.error=e.hasError?new YC(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function nx(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?t?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):e}const XC={__extends:D1,__assign:Ql,__rest:bs,__decorate:O1,__param:I1,__esDecorate:L1,__runInitializers:M1,__propKey:N1,__setFunctionName:$1,__metadata:F1,__awaiter:U,__generator:z1,__createBinding:Rc,__exportStar:B1,__values:Zl,__read:zf,__spread:U1,__spreadArrays:V1,__spreadArray:W1,__await:ds,__asyncGenerator:H1,__asyncDelegator:q1,__asyncValues:K1,__makeTemplateObject:G1,__importStar:Y1,__importDefault:X1,__classPrivateFieldGet:J1,__classPrivateFieldSet:Q1,__classPrivateFieldIn:Z1,__addDisposableResource:ex,__disposeResources:tx,__rewriteRelativeImportExtension:nx},JC=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ex,get __assign(){return Ql},__asyncDelegator:q1,__asyncGenerator:H1,__asyncValues:K1,__await:ds,__awaiter:U,__classPrivateFieldGet:J1,__classPrivateFieldIn:Z1,__classPrivateFieldSet:Q1,__createBinding:Rc,__decorate:O1,__disposeResources:tx,__esDecorate:L1,__exportStar:B1,__extends:D1,__generator:z1,__importDefault:X1,__importStar:Y1,__makeTemplateObject:G1,__metadata:F1,__param:I1,__propKey:N1,__read:zf,__rest:bs,__rewriteRelativeImportExtension:nx,__runInitializers:M1,__setFunctionName:$1,__spread:U1,__spreadArray:W1,__spreadArrays:V1,__values:Zl,default:XC},Symbol.toStringTag,{value:"Module"})),QC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Bf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ZC extends Bf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cg extends Bf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tg extends Bf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var eh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(eh||(eh={}));class eT{constructor(t,{headers:n={},customFetch:r,region:i=eh.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=QC(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return U(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:a,method:l,body:c,signal:u,timeout:d}=r;let h={},{region:f}=r;f||(f=this.region);const m=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let v;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;let x=u;d&&(o=new AbortController,s=setTimeout(()=>o.abort(),d),u?(x=o.signal,u.addEventListener("abort",()=>o.abort())):x=o.signal);const g=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:v,signal:x}).catch(S=>{throw new ZC(S)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new Cg(g);if(!g.ok)throw new Tg(g);let w=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield g.json():w==="application/octet-stream"||w==="application/pdf"?k=yield g.blob():w==="text/event-stream"?k=g:w==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Tg||a instanceof Cg?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var gt={};const _s=sk(JC);var za={},Ba={},Ua={},Va={},Wa={},Ha={},Pg;function rx(){if(Pg)return Ha;Pg=1,Object.defineProperty(Ha,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ha.default=e,Ha}var Ag;function ix(){if(Ag)return Wa;Ag=1,Object.defineProperty(Wa,"__esModule",{value:!0});const t=_s.__importDefault(rx());class n{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,d,h;let f=null,m=null,v=null,x=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?m=S:m=JSON.parse(S))}const w=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),k=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&k&&k.length>1&&(v=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,x=406,g="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const w=await l.text();try{f=JSON.parse(w),Array.isArray(f)&&l.status===404&&(m=[],f=null,x=200,g="OK")}catch{l.status===404&&w===""?(x=204,g="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,x=200,g="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:m,count:v,status:x,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,u,d,h,f,m;let v="";const x=l==null?void 0:l.cause;if(x){const g=(c=x==null?void 0:x.message)!==null&&c!==void 0?c:"",y=(u=x==null?void 0:x.code)!==null&&u!==void 0?u:"";v=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,v+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${g}`,y&&(v+=` (${y})`),x!=null&&x.stack&&(v+=`
${x.stack}`)}else v=(f=l==null?void 0:l.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(i,s)}returns(){return this}overrideTypes(){return this}}return Wa.default=n,Wa}var jg;function sx(){if(jg)return Va;jg=1,Object.defineProperty(Va,"__esModule",{value:!0});const t=_s.__importDefault(ix());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Va.default=n,Va}var Rg;function Uf(){if(Rg)return Ua;Rg=1,Object.defineProperty(Ua,"__esModule",{value:!0});const t=_s.__importDefault(sx()),n=new RegExp("[,()]");class r extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}regexMatch(s,o){return this.url.searchParams.append(s,`match.${o}`),this}regexIMatch(s,o){return this.url.searchParams.append(s,`imatch.${o}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}isDistinct(s,o){return this.url.searchParams.append(s,`isdistinct.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${u}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return Ua.default=r,Ua}var Dg;function ox(){if(Dg)return Ba;Dg=1,Object.defineProperty(Ba,"__esModule",{value:!0});const t=_s.__importDefault(Uf());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Ba.default=n,Ba}var Og;function tT(){if(Og)return za;Og=1,Object.defineProperty(za,"__esModule",{value:!0});const e=_s,t=e.__importDefault(ox()),n=e.__importDefault(Uf());class r{constructor(s,{headers:o={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${s}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const h=new URL(`${this.url}/rpc/${s}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{h.searchParams.append(v,x)})):(d="POST",f=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new n.default({method:d,url:h,headers:m,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return za.default=r,za}Object.defineProperty(gt,"__esModule",{value:!0});var ax=gt.PostgrestError=yx=gt.PostgrestBuilder=mx=gt.PostgrestTransformBuilder=fx=gt.PostgrestFilterBuilder=dx=gt.PostgrestQueryBuilder=cx=gt.PostgrestClient=void 0;const ks=_s,lx=ks.__importDefault(tT());var cx=gt.PostgrestClient=lx.default;const ux=ks.__importDefault(ox());var dx=gt.PostgrestQueryBuilder=ux.default;const hx=ks.__importDefault(Uf());var fx=gt.PostgrestFilterBuilder=hx.default;const px=ks.__importDefault(sx());var mx=gt.PostgrestTransformBuilder=px.default;const gx=ks.__importDefault(ix());var yx=gt.PostgrestBuilder=gx.default;const vx=ks.__importDefault(rx());ax=gt.PostgrestError=vx.default;var wx=gt.default={PostgrestClient:lx.default,PostgrestQueryBuilder:ux.default,PostgrestFilterBuilder:hx.default,PostgrestTransformBuilder:px.default,PostgrestBuilder:gx.default,PostgrestError:vx.default};const nT=Wy({__proto__:null,get PostgrestBuilder(){return yx},get PostgrestClient(){return cx},get PostgrestError(){return ax},get PostgrestFilterBuilder(){return fx},get PostgrestQueryBuilder(){return dx},get PostgrestTransformBuilder(){return mx},default:wx},[gt]),{PostgrestClient:rT,PostgrestQueryBuilder:oL,PostgrestFilterBuilder:aL,PostgrestTransformBuilder:lL,PostgrestBuilder:cL,PostgrestError:uL}=wx||nT;class iT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const sT="2.84.0",oT=`realtime-js/${sT}`,xx="1.0.0",aT="2.0.0",Ig=xx,th=1e4,lT=1e3,cT=100;var Yr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Yr||(Yr={}));var Ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ve||(Ve={}));var an;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(an||(an={}));var nh;(function(e){e.websocket="websocket"})(nh||(nh={}));var Xr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xr||(Xr={}));class uT{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r,i,s;const o=t.topic,a=(n=t.ref)!==null&&n!==void 0?n:"",l=(r=t.join_ref)!==null&&r!==void 0?r:"",c=t.payload.event,u=(s=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),m=0;f.setUint8(m++,this.KINDS.userBroadcastPush),f.setUint8(m++,l.length),f.setUint8(m++,a.length),f.setUint8(m++,o.length),f.setUint8(m++,c.length),f.setUint8(m++,this.BINARY_ENCODING),Array.from(l,x=>f.setUint8(m++,x.charCodeAt(0))),Array.from(a,x=>f.setUint8(m++,x.charCodeAt(0))),Array.from(o,x=>f.setUint8(m++,x.charCodeAt(0))),Array.from(c,x=>f.setUint8(m++,x.charCodeAt(0)));var v=new Uint8Array(h.byteLength+u.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(u),h.byteLength),v.buffer}_encodeJsonUserBroadcastPush(t){var n,r,i,s;const o=t.topic,a=(n=t.ref)!==null&&n!==void 0?n:"",l=(r=t.join_ref)!==null&&r!==void 0?r:"",c=t.payload.event,u=(s=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(m),x=0;v.setUint8(x++,this.KINDS.userBroadcastPush),v.setUint8(x++,l.length),v.setUint8(x++,a.length),v.setUint8(x++,o.length),v.setUint8(x++,c.length),v.setUint8(x++,this.JSON_ENCODING),Array.from(l,y=>v.setUint8(x++,y.charCodeAt(0))),Array.from(a,y=>v.setUint8(x++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(x++,y.charCodeAt(0))),Array.from(c,y=>v.setUint8(x++,y.charCodeAt(0)));var g=new Uint8Array(m.byteLength+h.byteLength);return g.set(new Uint8Array(m),0),g.set(new Uint8Array(h),m.byteLength),g.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,o,a,l]=r;return n({join_ref:i,ref:s,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+i));l=l+i;const u=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,m={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class bx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ve||(ve={}));const Lg=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=dT(o,e,t,i),s),{}):{}},dT=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?_x(s,o):rh(o)},_x=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return mT(t,n)}switch(e){case ve.bool:return hT(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return fT(t);case ve.json:case ve.jsonb:return pT(t);case ve.timestamp:return gT(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return rh(t);default:return rh(t)}},rh=e=>e,hT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mT=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>_x(t,a))}return e},gT=e=>typeof e=="string"?e.replace(" ","T"):e,kx=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Su{constructor(t,n,r={},i=th){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mg||(Mg={}));class mo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mo.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=mo.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=mo.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(x=>x.presence_ref),f=d.map(x=>x.presence_ref),m=u.filter(x=>f.indexOf(x.presence_ref)<0),v=d.filter(x=>h.indexOf(x.presence_ref)<0);m.length>0&&(a[c]=m),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ng;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ng||(Ng={}));var go;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(go||(go={}));var Fn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fn||(Fn={}));class Vf{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Su(this,an.join,this.params,this.timeout),this.rejoinTimer=new bx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new mo(this),this.broadcastEndpointURL=kx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[go.PRESENCE]&&this.bindings[go.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Fn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Fn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){t==null||t(Fn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,g=[];for(let y=0;y<x;y++){const w=v[y],{filter:{event:k,schema:S,table:C,filter:_}}=w,P=f&&f[y];if(P&&P.event===k&&P.schema===S&&P.table===C&&P.filter===_)g.push(Object.assign(Object.assign({},w),{id:P.id}));else{this.unsubscribe(),this.state=Ve.errored,t==null||t(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Fn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ve.errored,t==null||t(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ve.joined&&t===go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ve.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Su(this,an.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Su(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>cT){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=an;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var m,v,x;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(v=f.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var m,v,x,g,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,S=(m=f.filter)===null||m===void 0?void 0:m.event;return k&&((v=n.ids)===null||v===void 0?void 0:v.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(y=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:x,commit_timestamp:g,type:y,errors:w}=m;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(m))}f.callback(h,r)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Vf.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Lg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Lg(t.columns,t.old_record)),n}}const Eu=()=>{},qa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yT=[1e3,2e3,5e3,1e4],vT=1e4,wT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xT{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=th,this.transport=null,this.heartbeatIntervalMs=qa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eu,this.ref=0,this.reconnectTimer=null,this.vsn=Ig,this.logger=Eu,this.conn=null,this.sendBuffer=[],this.serializer=new uT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${nh.websocket}`,this.httpEndpoint=kx(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yr.connecting:return Xr.Connecting;case Yr.open:return Xr.Open;case Yr.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Vf(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(lT,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yr.open||this.conn.readyState===Yr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([wT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:oT};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(an.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,l,c,u,d,h,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:th,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:qa.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Eu,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Ig,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>yT[m-1]||vT,this.vsn){case xx:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(m,v)=>v(JSON.stringify(m)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(m,v)=>v(JSON.parse(m));break;case aT:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Wf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bT extends Wf{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ih extends Wf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Hf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_T=()=>Response,sh=e=>{if(Array.isArray(e))return e.map(n=>sh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=sh(r)}),t},kT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ST=(e,t,n)=>U(void 0,void 0,void 0,function*(){const r=yield _T();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new bT(Cu(i),s,o))}).catch(i=>{t(new ih(Cu(i),i))}):t(new ih(Cu(e),e))}),ET=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(kT(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function sa(e,t,n,r,i,s){return U(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,ET(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ST(l,a,r))})})}function Bo(e,t,n,r){return U(this,void 0,void 0,function*(){return sa(e,"GET",t,n,r)})}function sn(e,t,n,r,i){return U(this,void 0,void 0,function*(){return sa(e,"POST",t,r,i,n)})}function oh(e,t,n,r,i){return U(this,void 0,void 0,function*(){return sa(e,"PUT",t,r,i,n)})}function CT(e,t,n,r){return U(this,void 0,void 0,function*(){return sa(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qf(e,t,n,r,i){return U(this,void 0,void 0,function*(){return sa(e,"DELETE",t,r,i,n)})}class TT{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return U(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}var Sx;class PT{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Sx]="BlobDownloadBuilder",this.promise=null}asStream(){return new TT(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return U(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}Sx=Symbol.toStringTag;const AT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$g={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jT{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return U(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},$g),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(t=="PUT"?oh:sn)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}upload(t,n,r){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return U(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:$g.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield oh(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return U(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Wf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}update(t,n,r){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return U(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}copy(t,n,r){return U(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return U(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield sn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return U(this,void 0,void 0,function*(){try{const i=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(t),l=()=>Bo(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new PT(l,this.shouldThrowOnError)}info(t){return U(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Bo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}exists(t){return U(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield CT(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r)&&r instanceof ih){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return U(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}list(t,n,r){return U(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},AT),n),{prefix:t||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}listV2(t,n){return U(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Ex="2.84.0",Cx={"X-Client-Info":`storage-js/${Ex}`};class RT{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cx),n),this.fetch=Hf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return U(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Bo(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}getBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}createBucket(t){return U(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return U(this,void 0,void 0,function*(){try{return{data:yield oh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class DT{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cx),n),this.fetch=Hf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}listBuckets(t){return U(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Bo(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}}const Kf={"X-Client-Info":`storage-js/${Ex}`,"Content-Type":"application/json"};class Tx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ot(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Tu extends Tx{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class OT extends Tx{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Fg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fg||(Fg={}));const Gf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LT=(e,t,n)=>U(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Tu(zg(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;t(new Tu(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;t(new Tu(a,i,o))}}else t(new OT(zg(e),e))}),MT=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(IT(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function NT(e,t,n,r,i,s){return U(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,MT(t,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>LT(l,a,r))})})}function It(e,t,n,r,i){return U(this,void 0,void 0,function*(){return NT(e,"POST",t,r,i,n)})}class $T{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kf),n),this.fetch=Gf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return U(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}getIndex(t,n){return U(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}listIndexes(t){return U(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return U(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}}class FT{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kf),n),this.fetch=Gf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return U(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}getVectors(t){return U(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}listVectors(t){return U(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield It(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}queryVectors(t){return U(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}deleteVectors(t){return U(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}}class zT{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kf),n),this.fetch=Gf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return U(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}getBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}listBuckets(){return U(this,arguments,void 0,function*(t={}){try{return{data:yield It(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}deleteBucket(t){return U(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}}class BT extends zT{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new UT(this.url,this.headers,t,this.fetch)}}class UT extends $T{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return U(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return U(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return U(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return U(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new VT(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class VT extends FT{constructor(t,n,r,i,s){super(t,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return U(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return U(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return U(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return U(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return U(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class WT extends RT{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new jT(this.url,this.headers,t,this.fetch)}get vectors(){return new BT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DT(this.url+"/iceberg",this.headers,this.fetch)}}const HT="2.84.0";let ro="";typeof Deno<"u"?ro="deno":typeof document<"u"?ro="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ro="react-native":ro="node";const qT={"X-Client-Info":`supabase-js-${ro}/${HT}`},KT={headers:qT},GT={schema:"public"},YT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XT={},JT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QT=()=>Headers,ZT=(e,t,n)=>{const r=JT(n),i=QT();return async(s,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))}};function eP(e){return e.endsWith("/")?e:e+"/"}function tP(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function nP(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Px="2.84.0",Ti=30*1e3,ah=3,Pu=ah*Ti,rP="http://localhost:9999",iP="supabase.auth.token",sP={"X-Client-Info":`gotrue-js/${Px}`},lh="X-Supabase-Api-Version",Ax={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aP=10*60*1e3;class Uo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lP extends Uo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cP(e){return H(e)&&e.name==="AuthApiError"}class Jr extends Uo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Mr extends Uo{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class jt extends Mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uP(e){return H(e)&&e.name==="AuthSessionMissingError"}class wi extends Mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ka extends Mr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ga extends Mr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dP(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bg extends Mr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ch extends Mr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Au(e){return H(e)&&e.name==="AuthRetryableFetchError"}class Ug extends Mr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class uh extends Mr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vg=` 	
\r=`.split(""),hP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vg.length;t+=1)e[Vg[t].charCodeAt(0)]=-2;for(let t=0;t<ec.length;t+=1)e[ec[t].charCodeAt(0)]=t;return e})();function Wg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ec[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ec[r]),t.queuedBits-=6}}function jx(e,t,n){const r=hP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Hg(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{mP(o,r,n)};for(let o=0;o<e.length;o+=1)jx(e.charCodeAt(o),i,s);return t.join("")}function fP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pP(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}fP(r,t)}}function mP(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function es(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)jx(e.charCodeAt(i),n,r);return new Uint8Array(t)}function gP(e){const t=[];return pP(e,n=>t.push(n)),new Uint8Array(t)}function ni(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Wg(i,n,r)),Wg(null,n,r),t.join("")}function yP(e){return Math.round(Date.now()/1e3)+e}function vP(){return Symbol("auth-callback")}const Ze=()=>typeof window<"u"&&typeof document<"u",Ur={tested:!1,writable:!1},Rx=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ur.tested)return Ur.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ur.tested=!0,Ur.writable=!0}catch{Ur.tested=!0,Ur.writable=!1}return Ur.writable};function wP(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Dx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zn=async(e,t)=>{await e.removeItem(t)};class Dc{constructor(){this.promise=new Dc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Dc.promiseConstructor=Promise;function ju(e){const t=e.split(".");if(t.length!==3)throw new uh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!oP.test(t[r]))throw new uh("JWT not in base64url format");return{header:JSON.parse(Hg(t[0])),payload:JSON.parse(Hg(t[1])),signature:es(t[2]),raw:{header:t[0],payload:t[1]}}}async function bP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _P(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function kP(e){return("0"+e.toString(16)).substr(-2)}function SP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,kP).join("")}async function EP(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function CP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await EP(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xi(e,t,n=!1){const r=SP();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Pi(e,`${t}-code-verifier`,i);const s=await CP(r);return[s,r===s?"plain":"s256"]}const TP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PP(e){const t=e.headers.get(lh);if(!t||!t.match(TP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AP(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jP(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bi(e){if(!RP.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ru(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function DP(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function qg(e){return JSON.parse(JSON.stringify(e))}const Kr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OP=[502,503,504];async function Kg(e){var t;if(!xP(e))throw new ch(Kr(e),0);if(OP.includes(e.status))throw new ch(Kr(e),e.status);let n;try{n=await e.json()}catch(s){throw new Jr(Kr(s),s)}let r;const i=PP(e);if(i&&i.getTime()>=Ax["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ug(Kr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Ug(Kr(n),e.status,n.weak_password.reasons);throw new lP(Kr(n),e.status||500,r)}const IP=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ee(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[lh]||(s[lh]=Ax["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await LP(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function LP(e,t,n,r,i,s){const o=IP(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new ch(Kr(l),0)}if(a.ok||await Kg(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Kg(l)}}function tn(e){var t;let n=null;$P(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=yP(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Gg(e){const t=tn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function MP(e){return{data:e,error:null}}function NP(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=bs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Yg(e){return e}function $P(e){return e.access_token&&e.refresh_token&&e.expires_in}const Du=["global","local","others"];class FP{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Dx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Du[0]){if(Du.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Du.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fr})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=bs(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:NP,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fr})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Yg});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(H(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){bi(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fr})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){bi(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fr})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){bi(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fr})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){bi(t.userId);try{const{data:n,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(t){bi(t.userId),bi(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Yg});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(H(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}}function Xg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const _i={debug:!!(globalThis&&Rx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ox extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zP extends Ox{}async function BP(e,t,n){_i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),_i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){_i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{_i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw _i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_i.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function UP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ix(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function VP(e){return parseInt(e,16)}function WP(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function HP(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Ix(e.address),m=u?`${u}://${r}`:r,v=e.statement?`${e.statement}
`:"",x=`${m} wants you to sign in with your Ethereum account:
${f}

${v}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}g+=y}return`${x}
${g}`}class $e extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class tc extends $e{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function qP({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new $e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new $e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new $e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new $e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new $e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new $e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new $e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new $e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Lx(o)){if(s.rp.id!==o)return new $e({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new $e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function KP({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new $e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new $e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Lx(r)){if(n.rpId!==r)return new $e({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class GP{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const YP=new GP;function XP(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=bs(e,["challenge","user","excludeCredentials"]),s=es(t).buffer,o=Object.assign(Object.assign({},n),{id:es(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:es(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function JP(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=bs(e,["challenge","allowCredentials"]),i=es(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:es(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function QP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ni(new Uint8Array(e.response.attestationObject)),clientDataJSON:ni(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ni(new Uint8Array(i.authenticatorData)),clientDataJSON:ni(new Uint8Array(i.clientDataJSON)),signature:ni(new Uint8Array(i.signature)),userHandle:i.userHandle?ni(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Lx(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jg(){var e,t;return!!(Ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function e5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new tc("Browser returned unexpected credential type",t)}:{data:null,error:new tc("Empty credential response",t)}}catch(t){return{data:null,error:qP({error:t,options:e})}}}async function t5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new tc("Browser returned unexpected credential type",t)}:{data:null,error:new tc("Empty credential response",t)}}catch(t){return{data:null,error:KP({error:t,options:e})}}}const n5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},r5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(t(o)){const a=r[s];t(a)?r[s]=nc(a,o):r[s]=nc(o)}else r[s]=o}return r}function i5(e,t){return nc(n5,e,t||{})}function s5(e,t){return nc(r5,e,t||{})}class o5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=i??YP.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=i5(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:d}=await e5({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=s5(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:d}=await t5(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new Jr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Uo("rpId is required for WebAuthn authentication")};try{if(!Jg())return{data:null,error:new Jr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new Jr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Uo("rpId is required for WebAuthn registration")};try{if(!Jg())return{data:null,error:new Jr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return H(o)?{data:null,error:o}:{data:null,error:new Jr("Unexpected error in register",o)}}}}UP();const a5={url:rP,storageKey:iP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Qg(e,t,n){return await n()}const ki={};class Vo{get jwks(){var t,n;return(n=(t=ki[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ki[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},a5),t);if(this.storageKey=s.storageKey,this.instanceID=(n=Vo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Vo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ze()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new FP({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Dx(s.fetch),this.lock=s.lock||Qg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Ze()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=BP:this.lock=Qg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new o5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Rx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Px}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ze()&&(n=wP(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ze()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),dP(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?this._returnResult({error:n}):this._returnResult({error:new Jr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:tn}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(H(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:u,password:d,options:h}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await xi(this.storage,this.storageKey)),s=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:tn})}else if("phone"in t){const{phone:u,password:d,options:h}=t;s=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tn})}else throw new Ka("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(H(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gg})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gg})}else throw new Ka("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new wi;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,o,a,l,c,u,d,h;let f,m;if("message"in t)f=t.message,m=t.signature;else{const{chain:v,wallet:x,statement:g,options:y}=t;let w;if(Ze())if(typeof x=="object")w=x;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")w=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const k=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Ix(S[0]);let _=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!_){const D=await w.request({method:"eth_chainId"});_=VP(D)}const P={domain:k.host,address:C,statement:g,uri:k.href,version:"1",chainId:_,nonce:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=HP(P),m=await w.request({method:"personal_sign",params:[WP(f),C]})}try{const{data:v,error:x}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:tn});if(x)throw x;if(!v||!v.session||!v.user){const g=new wi;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(H(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,i,s,o,a,l,c,u,d,h,f;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:x,wallet:g,statement:y,options:w}=t;let k;if(Ze())if(typeof g=="object")k=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))k=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const C=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let _;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")_=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)_=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)m=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const C=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=C}}try{const{data:x,error:g}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ni(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:tn});if(g)throw g;if(!x||!x.session||!x.user){const y=new wi;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(H(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Vr(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:tn});if(await Zn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new wi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(H(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tn}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new wi;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await xi(this.storage,this.storageKey));const{error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Ka("You must provide either an email or phone number.")}catch(a){if(H(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:tn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await xi(this.storage,this.storageKey));const c=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:MP});return!((s=c.data)===null||s===void 0)&&s.url&&Ze()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(H(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new jt;const{error:i}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(H(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ka("You must provide either an email or phone number and a type")}catch(n){if(H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Pu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Vr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ru()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=DP(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fr}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:fr})})}catch(n){if(H(n))return uP(n)&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new jt;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await xi(this.storage,this.storageKey));const{data:c,error:u}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:fr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(H(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jt;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=ju(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(H(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new jt;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(H(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ze())throw new Ga("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ga(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ga("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bg("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new Ga("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:v,error:x}=await this._getUser(s);if(x)throw x;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(H(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Vr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(cP(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=vP(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await xi(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(H(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Ze()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(H(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,d=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tn}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new wi}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(i){if(H(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _P(async i=>(i>0&&await bP(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tn})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Au(s)&&Date.now()+o-r<Ti})}catch(r){if(this._debug(n,"error",r),H(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Vr(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Pi(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ru()}else if(i&&!i.user&&!i.user){const o=await Vr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Zn(this.storage,this.storageKey+"-user"),await Pi(this.storage,this.storageKey,i)):i.user=Ru()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Pu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Pu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Au(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dc;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new jt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),H(s)){const o={data:null,error:s};return Au(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pi(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=qg(i);await Pi(this.storage,this.storageKey,s)}else{const i=qg(n);await Pi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Zn(this.storage,this.storageKey),await Zn(this.storage,this.storageKey+"-code-verifier"),await Zn(this.storage,this.storageKey+"-user"),this.userStorage&&await Zn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ti}ms, refresh threshold is ${ah} ticks`),i<=ah&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ox)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await xi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?QP(t.webauthn.credential_response):ZP(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:XP(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:JP(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ju(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new jt})})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new jt});const o=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ze()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new jt});const o=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ze()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new jt})})}catch(t){if(H(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new jt})})}catch(n){if(H(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+aP>i)return r;const{data:s,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:m}=await this.getSession();if(m||!f.session)return this._returnResult({data:null,error:m});r=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=ju(r);n!=null&&n.allowExpired||AP(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=jP(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,gP(`${a}.${l}`)))throw new uh("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(H(r))return this._returnResult({data:null,error:r});throw r}}}Vo.nextInstanceID={};const l5=Vo;class c5 extends l5{constructor(t){super(t)}}class u5{constructor(t,n,r){var i,s,o;this.supabaseUrl=t,this.supabaseKey=n;const a=nP(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:GT,realtime:XT,auth:Object.assign(Object.assign({},YT),{storageKey:l}),global:KT},u=tP(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=ZT(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new rT(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new WT(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new eT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c5({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new xT(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d5=(e,t,n)=>new u5(e,t,n);function h5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}h5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f5="https://lfkrexojbhwhtboilcsq.supabase.co",p5="sb_publishable_3SkVAYqpWMHKLedz8x22dw_S0bA9n1D",R=d5(f5,p5,{auth:{persistSession:!0,storageKey:"linkpay-auth",autoRefreshToken:!0,detectSessionInUrl:!0}}),dL=Object.freeze(Object.defineProperty({__proto__:null,supabase:R},Symbol.toStringTag,{value:"Module"})),Mx=b.createContext(void 0);function m5({children:e}){const[t,n]=b.useState(null),[r,i]=b.useState(null),[s,o]=b.useState(!0);b.useEffect(()=>{(async()=>{const{data:h,error:f}=await R.auth.getSession();!f&&h.session&&(i(h.session),n(h.session.user)),o(!1)})();const{data:{subscription:d}}=R.auth.onAuthStateChange((h,f)=>{i(f),n((f==null?void 0:f.user)??null)});return()=>{d.unsubscribe()}},[]);const a=async(u,d)=>{const{error:h}=await R.auth.signInWithPassword({email:u,password:d});return h?{error:h.message}:{}},l=async(u,d)=>{const{error:h}=await R.auth.signUp({email:u,password:d});return h?{error:h.message}:{}},c=async()=>{await R.auth.signOut()};return p.jsx(Mx.Provider,{value:{user:t,session:r,loading:s,signInWithEmail:a,signUpWithEmail:l,signOut:c},children:e})}function oa(){const e=b.useContext(Mx);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Zg={async get(){const{data:{user:e}}=await R.auth.getUser();if(!e)return null;const{data:t,error:n}=await R.from("profiles").select("theme_preference, accent_color, notifications_enabled, weekly_summary_enabled, bio_public, hide_public_stats").eq("id",e.id).single();return n?(console.error("Error loading preferences:",n),null):t},async update(e){const{error:t}=await R.rpc("update_user_preferences",{p_theme_preference:e.theme_preference,p_accent_color:e.accent_color,p_notifications_enabled:e.notifications_enabled,p_weekly_summary_enabled:e.weekly_summary_enabled,p_bio_public:e.bio_public,p_hide_public_stats:e.hide_public_stats});return t?(console.error("Error updating preferences:",t),!1):!0}},hL={async getActive(){const{data:e,error:t}=await R.rpc("get_active_sessions");return t?(console.error("Error loading sessions:",t),[]):e||[]},async revoke(e){const{data:t,error:n}=await R.rpc("revoke_session",{session_id:e});return n?(console.error("Error revoking session:",n),!1):t},async revokeAll(){const{data:{user:e}}=await R.auth.getUser();if(!e)return!1;const{error:t}=await R.from("user_sessions").delete().eq("user_id",e.id).eq("is_current",!1);return t?(console.error("Error revoking all sessions:",t),!1):!0}},fL={async getAll(){const{data:{user:e}}=await R.auth.getUser();if(!e)return[];const{data:t,error:n}=await R.from("api_keys").select("id, name, key_prefix, permissions, last_used_at, is_active, created_at").eq("user_id",e.id).order("created_at",{ascending:!1});return n?(console.error("Error loading API keys:",n),[]):t||[]},async create(e,t=["read"]){const{data:{user:n}}=await R.auth.getUser();if(!n)return null;const r=`lp_live_${crypto.randomUUID().replace(/-/g,"")}`,i=r.slice(0,12),s=await g5(r),{data:o,error:a}=await R.from("api_keys").insert({user_id:n.id,name:e,key_hash:s,key_prefix:i,permissions:t}).select("id").single();return a?(console.error("Error creating API key:",a),null):{key:r,id:o.id}},async deactivate(e){const{error:t}=await R.from("api_keys").update({is_active:!1}).eq("id",e);return t?(console.error("Error deactivating API key:",t),!1):!0},async delete(e){const{error:t}=await R.from("api_keys").delete().eq("id",e);return t?(console.error("Error deleting API key:",t),!1):!0}},pL={async deleteAccount(){const{error:e}=await R.rpc("delete_user_account");return e?(console.error("Error deleting account:",e),!1):(await R.auth.signOut(),!0)}};async function g5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(s=>s.toString(16).padStart(2,"0")).join("")}const Nx=b.createContext(null),mL=[{name:"Azul",value:"#3b82f6"},{name:"Morado",value:"#8b5cf6"},{name:"Verde",value:"#22c55e"},{name:"Naranja",value:"#f97316"},{name:"Rosa",value:"#ec4899"},{name:"Cyan",value:"#06b6d4"}];function gL(){const e=b.useContext(Nx);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}function y5({children:e}){const[t,n]=b.useState("dark"),[r,i]=b.useState("#3b82f6"),[s,o]=b.useState(!1),a=b.useRef(null);b.useEffect(()=>{const m=localStorage.getItem("lp_theme"),v=localStorage.getItem("lp_accent");m&&["light","dark"].includes(m)&&n(m),v&&i(v),o(!0),l()},[]);const l=async()=>{try{const m=await Zg.get();m&&(m.theme_preference&&["light","dark"].includes(m.theme_preference)&&(n(m.theme_preference),localStorage.setItem("lp_theme",m.theme_preference)),m.accent_color&&(i(m.accent_color),localStorage.setItem("lp_accent",m.accent_color)))}catch{}};b.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("lp_theme",t),s&&c({theme_preference:t})},[t,s]),b.useEffect(()=>{document.documentElement.style.setProperty("--lp-accent",r),document.documentElement.style.setProperty("--lp-accent-rgb",v5(r)),localStorage.setItem("lp_accent",r),s&&c({accent_color:r})},[r,s]);const c=m=>{a.current&&clearTimeout(a.current),a.current=setTimeout(async()=>{try{await Zg.update(m)}catch{}},1e3)},u=m=>{n(m)},d=m=>{i(m)},h=()=>{n(m=>m==="dark"?"light":"dark")},f=async()=>{await l()};return p.jsx(Nx.Provider,{value:{theme:t,accentColor:r,setTheme:u,setAccentColor:d,toggleTheme:h,syncWithDB:f},children:e})}function v5(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?`${parseInt(t[1],16)}, ${parseInt(t[2],16)}, ${parseInt(t[3],16)}`:"59, 130, 246"}const Wo={create:async(e,t,n="standard",r={})=>{var c;const{data:{user:i}}=await R.auth.getUser();if(!i)throw new Error("Debes iniciar sesin para crear enlaces.");let s=t;!s||s.trim()===""?s=Math.random().toString(36).substring(2,8):s=s.trim().replace(/[^a-zA-Z0-9-_]/g,"");let o=(c=r.title)==null?void 0:c.trim();if(!o)try{o=new URL(e).hostname.replace("www.","")}catch{o=s}const{data:a,error:l}=await R.from("links").insert([{user_id:i.id,original_url:e,slug:s,monetization_mode:n,title:o,views:0,earnings:0,is_active:!0,password:r.password||null,expires_at:r.expiresAt||null,max_clicks:r.maxClicks||null,is_private:r.isPrivate||!1}]).select().single();if(l)throw l.code==="23505"?new Error(`El alias "${s}" ya est en uso.`):new Error("Error al guardar el enlace.");return a},getAll:async()=>{const{data:{user:e}}=await R.auth.getUser();if(!e)return[];const{data:t,error:n}=await R.from("links").select("*").order("created_at",{ascending:!1});return n?(console.error(n),[]):t},getLinkBySlug:async e=>{const{data:t,error:n}=await R.from("links").select("*").eq("slug",e).eq("is_active",!0).maybeSingle();if(n)throw console.error("[getLinkBySlug] error",n),n;return!t||t.expires_at&&new Date(t.expires_at)<new Date||t.max_clicks&&t.views>=t.max_clicks?null:t},trackClick:async(e,t)=>{const{data:n,error:r}=await R.from("links").select("id").eq("slug",e).single();if(!n||r){console.error("[LinkService] Link not found:",e);return}let i="0.0.0.0";try{const a=await(await fetch("https://api.ipify.org?format=json")).json();a.ip&&(i=a.ip)}catch{}const{error:s}=await R.rpc("track_link_click",{p_link_id:n.id,p_ip_address:i,p_user_agent:navigator.userAgent,p_country:t.country||"Unknown"});s&&console.error("[LinkService] Tracking error:",s)},deleteLink:async e=>{const{error:t}=await R.from("links").delete().eq("id",e);if(t)throw t}},w5={"1d":1,"7d":7,"30d":30,"12m":365};function x5(e){const t=w5[e]??30,n=new Date;n.setHours(0,0,0,0),n.setDate(n.getDate()-(t-1));const r=new Date;r.setHours(23,59,59,999);const i=new Date(n);i.setDate(i.getDate()-1),i.setHours(23,59,59,999);const s=new Date(i);return s.setDate(s.getDate()-(t-1)),s.setHours(0,0,0,0),{since:n,until:r,previousSince:s,previousUntil:i}}function e0(e){return e.reduce((t,n)=>(t.clicks+=Number(n.clicks||0),t.earnings+=Number(n.earnings||0),t.paid_clicks+=Number(n.paid_clicks||0),t),{clicks:0,earnings:0,paid_clicks:0})}function Ou(e,t){return t===0?e>0?100:null:(e-t)/Math.abs(t)*100}function t0(e){return e.toLocaleDateString("es-ES",{day:"numeric",month:"short"})}function n0(e,t,n){const r=new Map;e.forEach(o=>r.set(o.day,o));const i=new Date(t),s=[];for(;i<=n;){const o=i.toISOString().slice(0,10),a=r.get(o);s.push(a||{day:o,clicks:0,earnings:0,paid_clicks:0}),i.setDate(i.getDate()+1)}return s}function b5(e,t,n,r=14){if(!e.length)return Array(r).fill(0);const s=(n.getTime()-t.getTime())/r,o=Array(r).fill(0);return e.forEach(a=>{const l=new Date(a.created_at).getTime(),c=Math.min(r-1,Math.max(0,Math.floor((l-t.getTime())/s)));o[c]+=Number(a.earned_amount||0)}),o}function r0(e,t,n){const r={};return e.forEach(i=>{const s=new Date(i.created_at).toISOString().slice(0,10);r[s]||(r[s]={day:s,clicks:0,earnings:0,paid_clicks:0}),r[s].clicks+=1,r[s].earnings+=Number(i.earned_amount||0),r[s].paid_clicks+=i.is_paid?1:0}),Object.values(r).filter(i=>{const s=new Date(i.day);return s>=t&&s<=n}).sort((i,s)=>i.day<s.day?-1:1)}function _5(e){const t=new Map;e.forEach(r=>{const i=(r.country||"Unknown").toUpperCase();t.set(i,(t.get(i)||0)+1)});const n=Array.from(t.values()).reduce((r,i)=>r+i,0);return Array.from(t.entries()).map(([r,i])=>({country:r,value:i,percent:n?i/n*100:0})).sort((r,i)=>i.value-r.value)}function k5(e){const t=new Map;e.forEach(r=>{const i=r.device||"Unknown";t.set(i,(t.get(i)||0)+1)});const n=Array.from(t.values()).reduce((r,i)=>r+i,0);return Array.from(t.entries()).map(([r,i])=>({device:r,value:i,percent:n?i/n*100:0})).sort((r,i)=>i.value-r.value)}function S5(e,t,n){const r=new Map;return e.forEach(s=>{if(!s.link_id)return;r.has(s.link_id)||r.set(s.link_id,{slug:s.link_slug,title:s.link_title,earnings:0,clicks:0,paid:0,evs:[]});const o=r.get(s.link_id);o.earnings+=Number(s.earned_amount||0),o.clicks+=1,o.paid+=s.is_paid?1:0,o.evs.push(s)}),{topLinks:Array.from(r.entries()).map(([s,o])=>({id:s,slug:o.slug,title:o.title,earnings:o.earnings,clicks:o.clicks,ctr:o.clicks>0?o.paid/o.clicks:0,sparkline:b5(o.evs,t,n,14)})).sort((s,o)=>o.earnings-s.earnings).slice(0,5)}}const i0={async getDashboardData(e="30d"){const{data:t}=await R.auth.getUser(),n=t==null?void 0:t.user;if(!n)return null;const{since:r,until:i,previousSince:s,previousUntil:o}=x5(e),[a,l,c,u,d]=await Promise.all([R.from("analytics_events_daily").select("day, clicks, earnings, paid_clicks").eq("owner_id",n.id).gte("day",r.toISOString()).lt("day",i.toISOString()).order("day",{ascending:!0}),R.from("analytics_events_daily").select("day, clicks, earnings, paid_clicks").eq("owner_id",n.id).gte("day",s.toISOString()).lt("day",o.toISOString()).order("day",{ascending:!0}),R.from("links").select("id",{count:"exact",head:!0}).eq("user_id",n.id).eq("is_active",!0),R.from("analytics_events").select("created_at, earned_amount, is_paid, link_id, link_slug, link_title, country, device").eq("owner_id",n.id).gte("created_at",r.toISOString()).lt("created_at",i.toISOString()).order("created_at",{ascending:!1}).limit(5e3),R.from("links").select("id, slug, title, earnings, views").eq("user_id",n.id)]),h=a.data||[],f=l.data||[];let m=u.data||[];const v=d.data||[];if((!m||m.length===0)&&v.length>0){const B=v.map(ce=>ce.id),Y=await R.from("click_events").select("created_at, earned_amount, is_paid, link_id, country, device").in("link_id",B).gte("created_at",r.toISOString()).lt("created_at",i.toISOString()).order("created_at",{ascending:!1}).limit(5e3);!Y.error&&Y.data&&(m=Y.data)}const x=n0(h.length?h:r0(m,r,i),r,i),g=n0(f.length?f:r0(m,s,o),s,o),y=e0(x),w=e0(g);(!m||m.length===0)&&v.length>0&&(y.earnings=v.reduce((B,Y)=>B+(Y.earnings||0),0),y.clicks=v.reduce((B,Y)=>B+(Y.views||0),0),y.paid_clicks=0);const k=y.clicks>0?y.paid_clicks/y.clicks:0,S=w.clicks>0?w.paid_clicks/w.clicks:0,C={earnings:y.earnings,clicks:y.clicks,conversionRate:k,activeLinks:c.count||0,deltas:{earnings:Ou(y.earnings,w.earnings),clicks:Ou(y.clicks,w.clicks),conversionRate:Ou(k,S),activeLinks:null},previous:{earnings:w.earnings,clicks:w.clicks,conversionRate:S}},_=_5(m),P=k5(m),{topLinks:D}=m.length?S5(m,r,i):{topLinks:v.map(B=>({id:B.id,slug:B.slug,title:B.title,earnings:B.earnings||0,clicks:B.views||0,ctr:0,sparkline:Array(14).fill(0)})).sort((B,Y)=>Y.earnings-B.earnings).slice(0,5)},j=x.map(B=>({date:t0(new Date(B.day)),earnings:Number(B.earnings||0),clicks:Number(B.clicks||0)})),M=x.map(B=>({date:t0(new Date(B.day)),clicks:Number(B.clicks||0)}));return{range:e,summary:C,timeseries:j,clicksByDay:M,countries:_,devices:P,topLinks:D,lastUpdated:new Date().toISOString()}}};async function Ya(){const{data:e,error:t}=await R.auth.getUser();if(t||!e.user)throw new Error("Debes iniciar sesin.");return e.user}async function Iu(e){const r=(await Wo.getAll()||[]).reduce((c,u)=>c+(Number(u.earnings)||0),0),{data:i}=await R.from("bio_profiles").select("earnings").eq("user_id",e),s=(i==null?void 0:i.reduce((c,u)=>c+(Number(u.earnings)||0),0))||0,{data:o}=await R.from("profiles").select("referral_earnings").eq("id",e).single(),a=Number((o==null?void 0:o.referral_earnings)||0),l=r+s+a;try{const{data:c,error:u}=await R.from("transactions").select("amount, is_negative, type, status").eq("user_id",e).in("status",["pending","completed"]);if(u||!c)return console.warn("[PayoutService.getBalance] No se pudo leer transactions:",u),l;const d=c.reduce((h,f)=>{const m=Number(f.amount)||0,v=f.is_negative??(f.type==="withdrawal"||f.type==="transfer_out");return h+(v?-m:m)},0);return l+d}catch(c){return console.warn("[PayoutService.getBalance] Error leyendo movimientos:",c),l}}const s0={async getBalance(){const e=await Ya(),t=await Iu(e.id);return t<0?0:t},async getHistory(){const e=await Ya();try{const{data:t,error:n}=await R.from("transactions").select("id, type, amount, status, is_negative, created_at").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(40);return n||!t?(console.warn("[PayoutService.getHistory] error",n),[]):t.map(r=>{const i=r.type==="withdrawal"?"withdrawal":"transfer";return{id:r.id,type:i,amount:Number(r.amount)||0,status:r.status||"completed",is_negative:r.is_negative??(r.type==="withdrawal"||r.type==="transfer_out"),date:r.created_at?new Date(r.created_at).toLocaleString():""}})}catch(t){return console.warn("[PayoutService.getHistory] excepcin",t),[]}},async requestPayout(e,t,n){if(!e||e<=0)throw new Error("Cantidad invlida.");if(!t||!n)throw new Error("Mtodo o cuenta incompletos.");const r=await Ya(),i=await Iu(r.id);if(e>i)throw new Error("Saldo insuficiente.");if(e<(t==="PayPal"?5:t==="Bank"?10:5))throw t==="PayPal"?new Error("El retiro mnimo por PayPal es de 5.00"):t==="Bank"?new Error("El retiro mnimo por transferencia bancaria es de 10.00"):new Error("Cantidad inferior al mnimo disponible.");const{error:o}=await R.from("transactions").insert({user_id:r.id,type:"withdrawal",amount:e,is_negative:!0,status:"pending",meta:{method:t,account:n}});if(o)throw console.error("[PayoutService.requestPayout] error",o),new Error("No se pudo registrar el retiro.")},async sendMoney(e,t){if(!t||t<=0)throw new Error("Cantidad invlida.");if(!e)throw new Error("Email destino requerido.");const n=await Ya(),r=await Iu(n.id);if(t>r)throw new Error("Saldo insuficiente.");const{error:i}=await R.rpc("transfer_between_users",{target_email:e,amount_value:t});if(i)throw console.error("[PayoutService.sendMoney] error",i),new Error("No se pudo completar la transferencia.")}},$x=b.createContext(void 0),Xa=5*60*1e3;function E5({children:e}){const[t,n]=b.useState([]),[r,i]=b.useState(!1),[s,o]=b.useState(!1),a=b.useRef(0),l=b.useRef(!1),[c,u]=b.useState(null),[d,h]=b.useState(!1),[f,m]=b.useState(!1),v=b.useRef(0),x=b.useRef(!1),[g,y]=b.useState(null),[w,k]=b.useState(!1),[S,C]=b.useState(!1),[_,P]=b.useState("30d"),D=b.useRef(0),j=b.useRef(!1),M=b.useRef("30d"),[B,Y]=b.useState(null),[ce,re]=b.useState(!1),[W,Z]=b.useState(!1),O=b.useRef(0),$=b.useRef(!1),F=b.useCallback(async(de=!1)=>{if(l.current||Date.now()-a.current<Xa&&s&&!de)return;const Qe=!s;try{l.current=!0,Qe&&i(!0);const pe=await Wo.getAll();n(pe||[]),a.current=Date.now(),o(!0)}catch(pe){console.error("[DataCache] Error fetching links:",pe)}finally{l.current=!1,i(!1)}},[s]),ie=b.useCallback(async(de=!1)=>{if(x.current||Date.now()-v.current<Xa&&f&&!de)return;const Qe=!f;try{x.current=!0,Qe&&h(!0);const pe=await i0.getDashboardData();let pn=t;s||(pn=await Wo.getAll()||[],n(pn),a.current=Date.now(),o(!0));const Dn=pn.reduce((js,Rs)=>js+(Rs.earnings||0),0),As=pn.reduce((js,Rs)=>js+(Rs.views||0),0),ha=(pe==null?void 0:pe.bioRevenue)||0,fa=(pe==null?void 0:pe.bioClicks)||0;u({totalRevenue:Dn+ha,linkRevenue:Dn,bioRevenue:ha,totalClicks:As+fa,linkClicks:As,bioClicks:fa,timeline:(pe==null?void 0:pe.timeseries)||[]}),v.current=Date.now(),m(!0)}catch(pe){console.error("[DataCache] Error fetching dashboard:",pe)}finally{x.current=!1,h(!1)}},[f,t,s]),ue=b.useCallback(async(de=!1,Ee)=>{if(j.current)return;const ge=Ee||M.current,pe=Date.now()-D.current<Xa;if(g&&g.range!==ge&&(de=!0),pe&&S&&!de)return;const pn=!S;try{j.current=!0,pn&&k(!0);const Dn=await i0.getDashboardData(ge);Dn&&(y(Dn),D.current=Date.now(),C(!0))}catch(Dn){console.error("[DataCache] Error fetching analytics:",Dn)}finally{j.current=!1,k(!1)}},[S,g]),Be=b.useCallback(async(de=!1)=>{if($.current||Date.now()-O.current<Xa&&W&&!de)return;const Qe=!W;try{$.current=!0,Qe&&re(!0);const[pe,pn]=await Promise.all([s0.getBalance(),s0.getHistory()]);Y({balance:pe,history:pn}),O.current=Date.now(),Z(!0)}catch(pe){console.error("[DataCache] Error fetching payouts:",pe)}finally{$.current=!1,re(!1)}},[W]),xe=b.useCallback(()=>F(!0),[F]),At=b.useCallback(()=>ie(!0),[ie]),bt=b.useCallback(()=>ue(!0),[ue]),_t=b.useCallback(()=>Be(!0),[Be]),Bc=b.useCallback(de=>{M.current=de,P(de),ue(!0,de)},[ue]),Ps=b.useCallback(async()=>{await Promise.all([F(),ie()])},[F,ie]),Uc=b.useCallback(()=>{a.current=0,v.current=0,D.current=0,O.current=0},[]);return b.useEffect(()=>{const de=R.channel("cache-updates").on("postgres_changes",{event:"*",schema:"public",table:"links"},Ee=>{Ee.eventType==="INSERT"?n(ge=>[Ee.new,...ge]):Ee.eventType==="UPDATE"?n(ge=>ge.map(Qe=>Qe.id===Ee.new.id?Ee.new:Qe)):Ee.eventType==="DELETE"&&n(ge=>ge.filter(Qe=>Qe.id!==Ee.old.id)),f&&u(ge=>ge)}).subscribe();return()=>{R.removeChannel(de)}},[f]),b.useEffect(()=>{if(f&&t.length>0){const de=t.reduce((ge,Qe)=>ge+(Qe.earnings||0),0),Ee=t.reduce((ge,Qe)=>ge+(Qe.views||0),0);u(ge=>ge&&{...ge,linkRevenue:de,linkClicks:Ee,totalRevenue:de+ge.bioRevenue,totalClicks:Ee+ge.bioClicks})}},[t,f]),b.useEffect(()=>{(async()=>{const{data:{session:Ee}}=await R.auth.getSession();Ee&&Ps()})()},[Ps]),p.jsx($x.Provider,{value:{links:t,linksLoading:r,linksInitialized:s,refreshLinks:xe,dashboardData:c,dashboardLoading:d,dashboardInitialized:f,refreshDashboard:At,analyticsData:g,analyticsLoading:w,analyticsInitialized:S,analyticsRange:_,setAnalyticsRange:Bc,refreshAnalytics:bt,payoutsData:B,payoutsLoading:ce,payoutsInitialized:W,refreshPayouts:_t,prefetchAll:Ps,invalidateAll:Uc},children:e})}function aa(){const e=b.useContext($x);if(!e)throw new Error("useDataCache must be used within DataCacheProvider");return e}function yL(){const{links:e,linksLoading:t,linksInitialized:n,refreshLinks:r}=aa();return b.useEffect(()=>{!n&&!t&&r()},[n,t,r]),{links:e,loading:t&&!n,isRefreshing:t&&n,refresh:r}}function vL(){const{dashboardData:e,dashboardLoading:t,dashboardInitialized:n,refreshDashboard:r,links:i,linksInitialized:s}=aa();return b.useEffect(()=>{!n&&!t&&r()},[n,t,r]),{data:e,links:i,loading:t&&!n,isRefreshing:t&&n,refresh:r}}function wL(){const{analyticsData:e,analyticsLoading:t,analyticsInitialized:n,analyticsRange:r,setAnalyticsRange:i,refreshAnalytics:s,links:o,linksInitialized:a}=aa();return b.useEffect(()=>{!n&&!t&&s()},[n,t,s]),{data:e,links:o,loading:t&&!n,isRefreshing:t&&n,range:r,setRange:i,refresh:s}}function xL(){const{payoutsData:e,payoutsLoading:t,payoutsInitialized:n,refreshPayouts:r}=aa();return b.useEffect(()=>{!n&&!t&&r()},[n,t,r]),{balance:(e==null?void 0:e.balance)??0,history:(e==null?void 0:e.history)??[],loading:t&&!n,isRefreshing:t&&n,refresh:r}}const le={async getAll(e,t=200,n=0){const{data:r,error:i}=await R.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).range(n,n+t-1);return i?(console.error("Error fetching notifications:",i),[]):(r||[]).map(s=>({...s,category:Lu(s.type)}))},async getUnread(e){const{data:t,error:n}=await R.from("notifications").select("*").eq("user_id",e).eq("read",!1).order("created_at",{ascending:!1}).limit(100);return n?(console.error("Error fetching unread notifications:",n),[]):(t||[]).map(r=>({...r,category:Lu(r.type)}))},async getUnreadCount(e){const{data:t,error:n}=await R.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",e).eq("read",!1);return n?(console.error("Error counting unread notifications:",n),0):(t==null?void 0:t.length)||0},async markAsRead(e){const{error:t}=await R.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("id",e);return t?(console.error("Error marking notification as read:",t),!1):!0},async markAllAsRead(e){const{error:t}=await R.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("user_id",e).eq("read",!1);return t?(console.error("Error marking all notifications as read:",t),!1):!0},async delete(e){const{error:t}=await R.from("notifications").delete().eq("id",e);return t?(console.error("Error deleting notification:",t),!1):!0},async deleteAllRead(e){const{error:t}=await R.from("notifications").delete().eq("user_id",e).eq("read",!0);return t?(console.error("Error deleting read notifications:",t),!1):!0},async create(e,t,n,r,i="medium",s={}){const{data:o,error:a}=await R.from("notifications").insert({user_id:e,type:t,title:n,message:r,priority:i,metadata:s,read:!1}).select().single();return a?(console.error("Error creating notification:",a),null):((i==="high"||i==="urgent")&&typeof window<"u"&&this.triggerLocalPush(n,r,i),{...o,category:Lu(t)})},async triggerLocalPush(e,t,n){try{if(typeof Notification<"u"&&Notification.permission==="granted"){const r=await navigator.serviceWorker.ready,i={body:t,icon:"/icons/icon-192.png",badge:"/icons/icon-192.png",vibrate:n==="urgent"?[200,100,200,100,200]:[200,100,200],tag:`linkpay-${n}-${Date.now()}`,requireInteraction:n==="urgent",silent:!1,data:{url:"/app",priority:n,timestamp:Date.now()}};await r.showNotification(e,i),console.log(" Local push notification sent:",e)}}catch(r){console.warn("Could not send local push:",r)}},async notifyLinkClick(e,t,n,r,i=!1,s,o){const a=s?` desde ${s}`:"",l=o?` (${o})`:"",c=r>0?` +${r.toFixed(4)}`:"";await this.create(e,"link_click",i?" Clic monetizado":" Nuevo clic",`"${n}" recibi un clic${a}${l}.${c}`,i?"medium":"low",{link_id:t,link_alias:n,revenue:r,is_paid:i,device:s,country:o})},async notifyLinkMilestone(e,t,n,r){const s={100:"link_milestone_100",500:"link_milestone_500",1e3:"link_milestone_1k",5e3:"link_milestone_5k",1e4:"link_milestone_10k",5e4:"link_milestone_50k",1e5:"link_milestone_100k"}[r];if(!s)return;const o=r>=1e5?"":r>=1e4?"":r>=1e3?"":"";await this.create(e,s,`${o} ${r.toLocaleString()} clics!`,`"${n}" alcanz ${r.toLocaleString()} clics. Increble!`,r>=1e4?"high":"medium",{link_id:t,link_alias:n,clicks:r})},async notifyRevenueMilestone(e,t){const r={10:"revenue_milestone_10",25:"revenue_milestone_25",50:"revenue_milestone_50",100:"revenue_milestone_100",250:"revenue_milestone_250",500:"revenue_milestone_500",1e3:"revenue_milestone_1k",2500:"revenue_milestone_2.5k",5e3:"revenue_milestone_5k",1e4:"revenue_milestone_10k"}[t];if(!r)return;const i=t>=1e4?"":t>=1e3?"":t>=100?"":"";await this.create(e,r,`${i} ${t} en ingresos!`,`Has alcanzado ${t} en ingresos totales. Felicidades!`,t>=1e3?"high":"medium",{total_revenue:t})},async notifyReferralSignup(e,t,n){await this.create(e,"referral_signup"," Nuevo referido",`${n} se registr usando tu cdigo de referido.`,"medium",{referred_user_id:t,referred_email:n})},async notifyReferralEarnings(e,t,n){await this.create(e,"referral_earnings"," Ganancias por referido",`Has ganado ${t.toFixed(2)} por referido de ${n}.`,"medium",{amount:t,from_user:n})},async notifyPayoutProcessed(e,t,n){await this.create(e,"payout_processed"," Payout procesado",`Tu payout de ${t.toFixed(2)} ha sido procesado va ${n}.`,"high",{amount:t,method:n})},async notifyPayoutFailed(e,t,n){await this.create(e,"payout_failed"," Payout fallido",`Tu payout de ${t.toFixed(2)} fall: ${n}`,"urgent",{amount:t,reason:n})},async notifyPayoutAvailable(e,t){await this.create(e,"payout_available"," Payout disponible",`Tienes ${t.toFixed(2)} disponibles para retirar.`,"high",{amount:t})},async notifyLinkViral(e,t,n,r){await this.create(e,"link_viral"," Tu link se est volviendo viral!",`"${n}" ha crecido un ${r}% en las ltimas 24h.`,"high",{link_id:t,link_alias:n,growth:r})},async notifyTopPerformer(e,t,n,r){const i={day:"link_top_performer_day",week:"link_top_performer_week",month:"link_top_performer_month"};await this.create(e,i[r]," Top Performer",`"${n}" es tu link con ms clics este ${r==="day"?"da":r==="week"?"semana":"mes"}.`,"medium",{link_id:t,link_alias:n,period:r})},async notifySecurityAlert(e,t,n){await this.create(e,"security_suspicious_activity"," Alerta de seguridad",`${t}${n?` desde ${n}`:""}. Si no fuiste t, cambia tu contrasea.`,"urgent",{event:t,location:n})},async notifyFirstLink(e,t){await this.create(e,"achievement_first_link"," Primer link creado!","Has creado tu primer link. Comparte y empieza a ganar!","high",{link_id:t})},async notifyFirstEarning(e,t){await this.create(e,"achievement_first_earning"," Primera ganancia!",`Has ganado tu primer ${t.toFixed(2)}. Sigue as!`,"high",{amount:t})},async notifyAchievement(e,t,n,r){await this.create(e,r,` Logro: ${t}`,n,"medium",{achievement_name:t})},async notifyBioPageView(e,t){await this.create(e,"bio_page_view"," Nueva vista en tu Bio Page",`Alguien visit tu Bio Page${t?` desde ${t}`:""}.`,"low",{viewer_location:t})},async notifyBioPageMilestone(e,t){const r={100:"bio_page_milestone_100",500:"bio_page_milestone_500",1e3:"bio_page_milestone_1k",5e3:"bio_page_milestone_5k",1e4:"bio_page_milestone_10k"}[t];r&&await this.create(e,r,` ${t.toLocaleString()} vistas en tu Bio Page`,`Tu Bio Page alcanz ${t.toLocaleString()} vistas. Sigue creciendo!`,"medium",{views:t})},async notifyDailyClicks(e,t,n,r){const s={10:"link_daily_10",25:"link_daily_25",50:"link_daily_50",100:"link_daily_100",500:"link_daily_500",1e3:"link_daily_1000"}[r];if(!s)return;const o=r>=500?"":r>=100?"":"";await this.create(e,s,`${o} ${r} clics hoy!`,`"${n}" ha recibido ${r} clics hoy. Sigue as!`,r>=100?"high":"medium",{link_id:t,link_alias:n,clicks:r,period:"day"})},async notifyLinkCreated(e,t,n,r=!1,i=!1){let s="link_created",o=" Link creado",a=`"${n}" est listo para compartir.`;r?(s="link_password_protected",o=" Link protegido creado",a=`"${n}" est protegido con contrasea.`):i&&(s="link_private_created",o=" Link privado creado",a=`"${n}" es privado y solo t puedes verlo.`),await this.create(e,s,o,a,"low",{link_id:t,link_alias:n,has_password:r,is_private:i})},async notifyLinkExpiring(e,t,n,r){const s={1:"link_expiring_1d",3:"link_expiring_3d",7:"link_expiring_7d"}[r]||"link_expiring_soon",o=r===1?"":r<=3?"":"",a=r===1?"high":r<=3?"medium":"low";await this.create(e,s,`${o} Link expira en ${r} da${r>1?"s":""}`,`"${n}" expirar en ${r} da${r>1?"s":""}. Renuvalo si quieres mantenerlo activo.`,a,{link_id:t,link_alias:n,days_left:r})},async generateHistoricalNotifications(e){const t=new Date,n=[{type:"welcome",title:" Bienvenido a LinkPay!",message:"Estamos emocionados de tenerte aqu. Empieza a crear links y gana dinero.",priority:"high",createdAt:new Date(t.getTime()-24*60*60*1e3)},{type:"tip_of_the_day",title:" Consejo del da",message:"Comparte tus links en redes sociales para maximizar tus ganancias.",priority:"low",createdAt:new Date(t.getTime()-23*60*60*1e3)},{type:"new_feature",title:" Nueva funcin disponible",message:"Ahora puedes ver estadsticas geogrficas de tus clics. Descbrelo en Analytics!",priority:"medium",createdAt:new Date(t.getTime()-22*60*60*1e3)},{type:"link_created",title:" Link creado",message:"Tu primer link est listo para compartir. Copia y pega en tus redes!",priority:"low",createdAt:new Date(t.getTime()-20*60*60*1e3)},{type:"link_first_click",title:" Primer clic recibido!",message:"Tu link recibi su primer clic. El comienzo de algo grande!",priority:"medium",createdAt:new Date(t.getTime()-18*60*60*1e3)},{type:"link_click",title:" Nuevo clic desde Espaa",message:"Tu link recibi un clic desde mvil. +0.0012",priority:"low",createdAt:new Date(t.getTime()-12*60*60*1e3)},{type:"link_new_country",title:" Nuevo pas: Mxico",message:"Tu link recibi su primer clic desde Mxico. Tu alcance crece!",priority:"low",createdAt:new Date(t.getTime()-10*60*60*1e3)},{type:"link_milestone_10",title:" 10 clics alcanzados!",message:"Tu link alcanz 10 clics. Sigue compartindolo!",priority:"medium",createdAt:new Date(t.getTime()-8*60*60*1e3)},{type:"link_daily_10",title:" 10 clics hoy!",message:"Tu link est en racha, ha recibido 10 clics hoy.",priority:"medium",createdAt:new Date(t.getTime()-6*60*60*1e3)},{type:"link_milestone_50",title:" 50 clics!",message:"Tu link alcanz 50 clics. Vas por buen camino!",priority:"medium",createdAt:new Date(t.getTime()-4*60*60*1e3)},{type:"link_viral",title:" Tu link se est volviendo viral!",message:"Tu link ha crecido un 200% en las ltimas 24h. Est explotando!",priority:"high",createdAt:new Date(t.getTime()-3*60*60*1e3)},{type:"link_milestone_100",title:" 100 clics!",message:"Tu link alcanz 100 clics. Increble progreso!",priority:"high",createdAt:new Date(t.getTime()-2*60*60*1e3)},{type:"first_earning",title:" Primera ganancia!",message:"Has ganado tu primer 0.05. El comienzo de algo grande!",priority:"high",createdAt:new Date(t.getTime()-16*60*60*1e3)},{type:"revenue_milestone_1",title:" 1 en ingresos!",message:"Has alcanzado 1 en ingresos totales. Primer euro ganado!",priority:"medium",createdAt:new Date(t.getTime()-5*60*60*1e3)},{type:"revenue_milestone_5",title:" 5 en ingresos!",message:"Has alcanzado 5 en ingresos. Sigue creciendo!",priority:"medium",createdAt:new Date(t.getTime()-2.5*60*60*1e3)},{type:"daily_earnings_1e",title:" 1 ganado hoy",message:"Has ganado 1 hoy. Buen da de trabajo!",priority:"medium",createdAt:new Date(t.getTime()-1.5*60*60*1e3)},{type:"payout_5e_available",title:" Payout disponible",message:"Tienes 5.00 disponibles para retirar. Ya puedes solicitar tu primer payout!",priority:"high",createdAt:new Date(t.getTime()-1*60*60*1e3)},{type:"referral_signup",title:" Nuevo referido",message:"Un nuevo usuario se registr usando tu cdigo. Ganars 5% de sus ingresos.",priority:"medium",createdAt:new Date(t.getTime()-14*60*60*1e3)},{type:"referral_first_earning",title:" Tu referido gan dinero",message:"Tu referido hizo su primera ganancia. T tambin ganas!",priority:"medium",createdAt:new Date(t.getTime()-7*60*60*1e3)},{type:"referral_earnings",title:" Ganancias por referido",message:"Has ganado 0.50 por la actividad de tu referido.",priority:"low",createdAt:new Date(t.getTime()-45*60*1e3)},{type:"achievement_first_link",title:" Logro: Primer Link",message:"Has creado tu primer link. Bienvenido al mundo de los creadores!",priority:"medium",createdAt:new Date(t.getTime()-21*60*60*1e3)},{type:"achievement_first_earning",title:" Logro: Primera Ganancia",message:"Has ganado tu primer dinero en LinkPay. Eres oficialmente un creador!",priority:"medium",createdAt:new Date(t.getTime()-15*60*60*1e3)},{type:"achievement_100_clicks",title:" Logro: 100 Clics",message:"Tus links han recibido 100 clics en total. Vas genial!",priority:"medium",createdAt:new Date(t.getTime()-30*60*1e3)},{type:"security_new_login",title:" Nuevo inicio de sesin",message:"Se detect un inicio de sesin desde Chrome en MacOS, Espaa.",priority:"medium",createdAt:new Date(t.getTime()-19*60*60*1e3)},{type:"link_click",title:" Nuevo clic",message:"Tu link recibi un clic desde desktop. +0.0025",priority:"low",createdAt:new Date(t.getTime()-15*60*1e3)},{type:"streak_bonus",title:" Bonus por racha",message:"Llevas 3 das seguidos con actividad. Sigue as para desbloquear ms bonuses!",priority:"medium",createdAt:new Date(t.getTime()-5*60*1e3)}];for(const r of n)await R.from("notifications").insert({user_id:e,type:r.type,title:r.title,message:r.message,priority:r.priority,read:!1,metadata:{},created_at:r.createdAt.toISOString()})}};function Lu(e){return e.startsWith("link_")||e.startsWith("bio_page_")?"activity":e.startsWith("revenue_")||e.startsWith("payout_")||e.startsWith("first_earning")?"financial":e.startsWith("referral_")||e.startsWith("achievement_")?"social":e.startsWith("security_")?"security":"system"}function C5(){const{user:e}=oa(),t=b.useRef(!1),n=b.useRef(!1);b.useRef(new Map);const r=b.useRef(new Set),i=b.useRef(new Set),s=b.useRef(new Map),o=b.useRef(new Map),a=b.useRef(new Map);b.useEffect(()=>{if(!(e!=null&&e.id))return;const l=R.channel(`link-clicks:${e.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"links",filter:`user_id=eq.${e.id}`},async v=>{var y;const x=v.new,g=v.old;if(x.views>((g==null?void 0:g.views)||0)){const w=x.views-((g==null?void 0:g.views)||0),k=x.earnings-((g==null?void 0:g.earnings)||0),{data:S}=await R.from("click_events").select("device, country, is_paid, earned_amount").eq("link_id",x.id).order("created_at",{ascending:!1}).limit(1),C=S==null?void 0:S[0];(k>0||w===1&&((g==null?void 0:g.views)||0)===0)&&await le.notifyLinkClick(e.id,x.id,x.slug||x.title||"Link",k||(C==null?void 0:C.earned_amount)||0,(C==null?void 0:C.is_paid)||!1,C==null?void 0:C.device,C==null?void 0:C.country),((g==null?void 0:g.views)||0)===0&&x.views===1&&await le.create(e.id,"link_first_click"," Primer clic recibido",`"${x.slug||x.title}" recibi su primer clic. Empieza a crecer!`,"medium",{link_id:x.id,link_alias:x.slug||x.title});const _=x.views,P=(g==null?void 0:g.views)||0,D=[10,25,50,100,250,500,1e3,2500,5e3,1e4,25e3,5e4,1e5,25e4,5e5,1e6];for(const W of D)if(P<W&&_>=W){await le.notifyLinkMilestone(e.id,x.id,x.slug||x.title||"Link",W);break}const j=new Date().toDateString(),M=x.id,B=s.current.get(M);!B||B.date!==j?s.current.set(M,{count:w,date:j}):(B.count+=w,s.current.set(M,B));const Y=((y=s.current.get(M))==null?void 0:y.count)||0;[10,50,100,500,1e3].includes(Y)&&await le.notifyDailyClicks(e.id,x.id,x.slug||x.title||"Link",Y);const{data:ce}=await R.from("click_events").select("id").eq("link_id",x.id).gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),re=((g==null?void 0:g.views)||0)-((ce==null?void 0:ce.length)||0);if(re>0){const W=((ce==null?void 0:ce.length)||0)/re*100;W>50&&await le.notifyLinkViral(e.id,x.id,x.slug||x.title||"Link",Math.round(W))}if(C!=null&&C.country){const W=o.current.get(M)||new Set;W.has(C.country)||(W.add(C.country),o.current.set(M,W),await le.create(e.id,"link_new_country"," Nuevo pas",`"${x.slug||x.title}" recibi su primer clic desde ${C.country}.`,"low",{link_id:x.id,country:C.country}))}if(C!=null&&C.device){const W=a.current.get(M)||new Set;W.has(C.device)||(W.add(C.device),a.current.set(M,W),await le.create(e.id,"link_new_device_type"," Nuevo dispositivo",`"${x.slug||x.title}" recibi su primer clic desde ${C.device}.`,"low",{link_id:x.id,device:C.device}))}if(x.max_clicks){const W=x.views/x.max_clicks*100;W>=90&&W<100&&((g==null?void 0:g.views)||0)/((g==null?void 0:g.max_clicks)||1)<.9?await le.create(e.id,"link_max_clicks_90pct"," Link al 90% del mximo",`"${x.slug||x.title}" est al ${Math.round(W)}% de su mximo de clics.`,"medium",{link_id:x.id,percentage:W,max_clicks:x.max_clicks}):W>=80&&W<90&&((g==null?void 0:g.views)||0)/((g==null?void 0:g.max_clicks)||1)<.8&&await le.create(e.id,"link_max_clicks_80pct"," Link al 80% del mximo",`"${x.slug||x.title}" est al ${Math.round(W)}% de su mximo de clics.`,"low",{link_id:x.id,percentage:W,max_clicks:x.max_clicks})}if(x.expires_at){const W=Math.ceil((new Date(x.expires_at).getTime()-Date.now())/864e5);[1,3,7].includes(W)&&W>0&&await le.notifyLinkExpiring(e.id,x.id,x.slug||x.title||"Link",W)}}x.earnings>((g==null?void 0:g.earnings)||0)&&x.earnings-((g==null?void 0:g.earnings)||0)}).subscribe(),c=R.channel(`revenue:${e.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${e.id}`},async v=>{const x=v.new,g=v.old;if(x.total_earnings>((g==null?void 0:g.total_earnings)||0)){const y=Math.floor(x.total_earnings||0),w=Math.floor((g==null?void 0:g.total_earnings)||0),k=[1,5,10,25,50,75,100,150,200,250,300,400,500,750,1e3,1500,2e3,2500,3e3,4e3,5e3,7500,1e4,15e3,2e4,25e3,5e4,1e5];for(const _ of k)if(w<_&&y>=_){r.current.has(_)||(r.current.add(_),await le.notifyRevenueMilestone(e.id,_));break}!n.current&&y>0&&(n.current=!0,await le.notifyFirstEarning(e.id,y));const S=new Date().toDateString(),{data:C}=await R.rpc("get_daily_earnings",{p_user_id:e.id,p_date:S});if(C){const _=C;[1,5,10,25,50,100].includes(_)&&await le.create(e.id,`daily_earnings_${_}e`,` ${_} ganados hoy`,`Has ganado ${_} hoy. Sigue as!`,_>=50?"high":"medium",{amount:_,period:"day"})}}}).subscribe(),u=R.channel(`referrals:${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"profiles"},async v=>{const x=v.new;if(x.referred_by===e.id){await le.notifyReferralSignup(e.id,x.id,x.email||"Usuario");const{data:g}=await R.from("profiles").select("id",{count:"exact",head:!0}).eq("referred_by",e.id),y=(g==null?void 0:g.length)||0,w=[1,3,5,10,15,20,25,30,40,50,75,100,150,200,300,500,1e3];for(const k of w)if(y===k&&!i.current.has(k)){i.current.add(k),await le.create(e.id,`referral_milestone_${k}`,` ${k} referidos`,`Has alcanzado ${k} referidos. Tu red est creciendo!`,k>=100?"high":"medium",{count:k});break}}}).subscribe(),d=R.channel(`links-created:${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"links",filter:`user_id=eq.${e.id}`},async v=>{const x=v.new,{data:g}=await R.from("links").select("id").eq("user_id",e.id);g&&g.length===1&&(t.current=!0,setTimeout(async()=>{await le.notifyFirstLink(e.id,x.id)},1e3)),await le.notifyLinkCreated(e.id,x.id,x.slug||x.title||"Link",!!x.password,!!x.is_private);const y=(g==null?void 0:g.length)||0;[10,25,50,100,250,500,1e3].includes(y)&&await le.notifyAchievement(e.id,`${y} Links`,`Has creado ${y} links. Eres un creador activo!`,`achievement_${y}_links`)}).subscribe(),h=R.channel(`balance:${e.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${e.id}`},async v=>{const x=v.new,g=v.old;x.balance>=5&&((g==null?void 0:g.balance)||0)<5?await le.notifyPayoutAvailable(e.id,x.balance):x.balance>=10&&((g==null?void 0:g.balance)||0)<10?await le.notifyPayoutAvailable(e.id,x.balance):x.balance>=25&&((g==null?void 0:g.balance)||0)<25?await le.notifyPayoutAvailable(e.id,x.balance):x.balance>=50&&((g==null?void 0:g.balance)||0)<50?await le.notifyPayoutAvailable(e.id,x.balance):x.balance>=100&&((g==null?void 0:g.balance)||0)<100&&await le.notifyPayoutAvailable(e.id,x.balance)}).subscribe();(async()=>{if(!t.current){const{data:x}=await R.from("links").select("id").eq("user_id",e.id).limit(1);x&&x.length===1&&(t.current=!0,setTimeout(async()=>{await le.notifyFirstLink(e.id,x[0].id)},2e3))}if(!n.current){const{data:x}=await R.from("profiles").select("total_earnings").eq("id",e.id).single();x&&x.total_earnings>0&&(n.current=!0,await le.notifyFirstEarning(e.id,x.total_earnings))}const{data:v}=await R.from("profiles").select("balance").eq("id",e.id).single();v&&v.balance>=5&&await le.notifyPayoutAvailable(e.id,v.balance)})();const m=setInterval(async()=>{const{data:v}=await R.from("links").select("id, slug, title, expires_at").eq("user_id",e.id).not("expires_at","is",null).gte("expires_at",new Date().toISOString());if(v)for(const y of v){const w=Math.ceil((new Date(y.expires_at).getTime()-Date.now())/864e5);[1,3,7].includes(w)&&await le.notifyLinkExpiring(e.id,y.id,y.slug||y.title||"Link",w)}const x=new Date(Date.now()-7*24*60*60*1e3).toISOString(),{data:g}=await R.from("links").select("id, slug, title, views, updated_at").eq("user_id",e.id).lt("updated_at",x).gt("views",0).limit(5);if(g&&g.length>0)for(const y of g)await le.create(e.id,"link_no_clicks_7d"," Link sin actividad",`"${y.slug||y.title}" no ha recibido clics en 7 das. Considera actualizarlo.`,"low",{link_id:y.id,days_inactive:7})},60*60*1e3);return()=>{R.removeChannel(l),R.removeChannel(c),R.removeChannel(u),R.removeChannel(d),R.removeChannel(h),clearInterval(m)}},[e==null?void 0:e.id])}const Fx=b.createContext(void 0);function T5({children:e}){const{user:t}=oa(),[n,r]=b.useState([]),[i,s]=b.useState(0),[o,a]=b.useState(!0),l=b.useRef(!0),c=b.useRef(0);C5();const u=b.useCallback(async()=>{if(!(t!=null&&t.id)){r([]),s(0),a(!1);return}try{const[w,k]=await Promise.all([le.getAll(t.id,200),le.getUnreadCount(t.id)]);r(w),s(k)}catch(w){console.error("Error loading notifications:",w)}finally{a(!1)}},[t==null?void 0:t.id]);b.useEffect(()=>{u()},[u]),b.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{const{data:k}=await R.from("notifications").select("id").eq("user_id",t.id).limit(1).single();k||(await le.generateHistoricalNotifications(t.id),setTimeout(()=>{u()},1e3))})()},[t==null?void 0:t.id,u]),b.useEffect(()=>{if(!(t!=null&&t.id))return;const w=R.channel(`notifications:${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},async k=>{const S=k.new,C=Date.now();if(C-c.current<500)return;c.current=C;const _={...S,category:o0(S.type)};r(P=>P.some(D=>D.id===S.id)?P:[_,...P]),S.read||(s(P=>P+1),(S.priority==="high"||S.priority==="urgent")&&d(),typeof window<"u"&&(document.querySelector('.lp-notifications-panel[style*="right: 0"]')||h(_)))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},k=>{const S=k.new;r(C=>C.map(_=>_.id===S.id?{...S,category:o0(S.type)}:_)),S.read&&s(C=>Math.max(0,C-1))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},k=>{const S=k.old.id;r(C=>{const _=C.find(D=>D.id===S),P=C.filter(D=>D.id!==S);return _&&!_.read&&s(D=>Math.max(0,D-1)),P})}).subscribe();return()=>{R.removeChannel(w)}},[t==null?void 0:t.id]);const d=b.useCallback(()=>{if(l.current)try{const w=new(window.AudioContext||window.webkitAudioContext),k=w.createOscillator(),S=w.createGain();k.connect(S),S.connect(w.destination),k.frequency.value=800,k.type="sine",S.gain.setValueAtTime(0,w.currentTime),S.gain.linearRampToValueAtTime(.1,w.currentTime+.01),S.gain.exponentialRampToValueAtTime(.01,w.currentTime+.3),k.start(w.currentTime),k.stop(w.currentTime+.3)}catch{}},[]),h=b.useCallback(w=>{const k=document.createElement("div");k.className="lp-notification-toast",k.style.cssText=`
      position: fixed;
      top: calc(env(safe-area-inset-top, 0px) + 80px);
      right: 20px;
      max-width: 320px;
      padding: 16px;
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%);
      border: 1px solid rgba(99, 102, 241, 0.3);
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(20px);
      z-index: 10000;
      transform: translateX(400px);
      opacity: 0;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: auto;
      cursor: pointer;
    `;const S={low:"rgba(148, 163, 184, 0.3)",medium:"rgba(99, 102, 241, 0.3)",high:"rgba(59, 130, 246, 0.3)",urgent:"rgba(239, 68, 68, 0.3)"}[w.priority];k.innerHTML=`
      <div style="display: flex; gap: 12px; align-items: flex-start;">
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 12px;
          background: ${S};
          display: flex;
          align-items: center;
          justify-content: center;
          color: #a5b4fc;
          flex-shrink: 0;
        ">
          
        </div>
        <div style="flex: 1; min-width: 0;">
          <h4 style="
            font-size: 14px;
            font-weight: 600;
            color: #f9fafb;
            margin: 0 0 4px 0;
            line-height: 1.4;
          ">${w.title}</h4>
          <p style="
            font-size: 12px;
            color: #94a3b8;
            margin: 0;
            line-height: 1.5;
          ">${w.message}</p>
        </div>
      </div>
    `,document.body.appendChild(k),requestAnimationFrame(()=>{k.style.transform="translateX(0)",k.style.opacity="1"});const C=setTimeout(()=>{k.style.transform="translateX(400px)",k.style.opacity="0",setTimeout(()=>{k.parentNode&&k.parentNode.removeChild(k)},400)},5e3);k.addEventListener("click",()=>{clearTimeout(C),k.style.transform="translateX(400px)",k.style.opacity="0",setTimeout(()=>{k.parentNode&&k.parentNode.removeChild(k)},400)})},[]),f=b.useCallback(async w=>{await le.markAsRead(w)&&(r(S=>S.map(C=>C.id===w?{...C,read:!0,read_at:new Date().toISOString()}:C)),s(S=>Math.max(0,S-1)))},[]),m=b.useCallback(async()=>{if(!(t!=null&&t.id))return;await le.markAllAsRead(t.id)&&(r(k=>k.map(S=>({...S,read:!0,read_at:new Date().toISOString()}))),s(0))},[t==null?void 0:t.id]),v=b.useCallback(async w=>{if(await le.delete(w)){const S=n.find(C=>C.id===w);r(C=>C.filter(_=>_.id!==w)),S&&!S.read&&s(C=>Math.max(0,C-1))}},[n]),x=b.useCallback(async()=>{if(!(t!=null&&t.id))return;await le.deleteAllRead(t.id)&&r(k=>k.filter(S=>!S.read))},[t==null?void 0:t.id]),g=b.useCallback(async(w,k,S,C="medium",_={})=>{t!=null&&t.id&&await le.create(t.id,w,k,S,C,_)},[t==null?void 0:t.id]),y=b.useCallback(async()=>{await u()},[u]);return p.jsx(Fx.Provider,{value:{notifications:n,unreadCount:i,loading:o,markAsRead:f,markAllAsRead:m,deleteNotification:v,deleteAllRead:x,refresh:y,createNotification:g,playNotificationSound:d,showToastNotification:h},children:e})}function zx(){const e=b.useContext(Fx);if(e===void 0)throw new Error("useNotifications must be used within a NotificationsProvider");return e}function o0(e){return e.startsWith("link_")||e.startsWith("bio_page_")?"activity":e.startsWith("revenue_")||e.startsWith("payout_")||e.startsWith("first_earning")?"financial":e.startsWith("referral_")||e.startsWith("achievement_")?"social":e.startsWith("security_")?"security":"system"}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),a0=e=>{const t=A5(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bx=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),j5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...R5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Bx("lucide",i),...!s&&!j5(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>b.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(D5,{ref:s,iconNode:t,className:Bx(`lucide-${P5(a0(e))}`,`lucide-${e}`,r),...i}));return n.displayName=a0(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],I5=Q("arrow-left",O5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yf=Q("arrow-right",L5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pr=Q("bell",M5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],$5=Q("briefcase",N5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],z5=Q("camera",F5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],l0=Q("chart-no-axes-column",B5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ux=Q("check",U5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vx=Q("circle-alert",V5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wx=Q("circle-check-big",W5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],c0=Q("circle-check",H5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K5=Q("clock",q5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Y5=Q("credit-card",G5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hx=Q("download",X5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Q5=Q("external-link",J5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],e4=Q("facebook",Z5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],u0=Q("gift",t4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],r4=Q("github",n4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],s4=Q("globe",i4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],a4=Q("house",o4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],c4=Q("info",l4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],d4=Q("instagram",u4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],f4=Q("key-round",h4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],m4=Q("layout-dashboard",p4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],d0=Q("link-2",g4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],v4=Q("link",y4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],x4=Q("linkedin",w4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cr=Q("loader-circle",b4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qx=Q("lock",_4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],S4=Q("log-out",k4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Oc=Q("mail",E4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],T4=Q("mouse-pointer-2",C4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],A4=Q("music",P4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],R4=Q("play",j4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],O4=Q("refresh-cw",D4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],h0=Q("rocket",I4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kx=Q("settings",L4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],f0=Q("share",M4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gx=Q("shield-check",N4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],F4=Q("shopping-bag",$4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ho=Q("smartphone",z4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Yx=Q("square-plus",B4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xx=Q("trash-2",U4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jx=Q("triangle-alert",V4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7",key:"c0yzno"}]],H4=Q("twitch",W4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],K4=Q("twitter",q4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Y4=Q("user",G4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xf=Q("users",X4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Q4=Q("volume-2",J4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],eA=Q("volume-x",Z4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],p0=Q("wallet",tA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ic=Q("x",nA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],iA=Q("youtube",rA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dh=Q("zap",sA),Qx=b.createContext(null);function bL(){const e=b.useContext(Qx);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}function oA({children:e}){const[t,n]=b.useState([]),r=b.useCallback(c=>{n(u=>u.filter(d=>d.id!==c))},[]),i=b.useCallback((c,u,d=4e3)=>{const h=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;n(f=>[...f,{id:h,type:c,message:u,duration:d}]),d>0&&setTimeout(()=>r(h),d)},[r]),s=b.useCallback(c=>i("success",c),[i]),o=b.useCallback(c=>i("error",c,6e3),[i]),a=b.useCallback(c=>i("info",c),[i]),l=b.useCallback(c=>i("warning",c,5e3),[i]);return p.jsxs(Qx.Provider,{value:{showToast:i,success:s,error:o,info:a,warning:l},children:[e,p.jsx(aA,{toasts:t,onRemove:r})]})}function aA({toasts:e,onRemove:t}){return e.length===0?null:p.jsxs(p.Fragment,{children:[p.jsx("style",{children:Zx}),p.jsx("div",{className:"lp-toast-container",children:e.map((n,r)=>p.jsx(lA,{toast:n,onRemove:()=>t(n.id),index:r},n.id))})]})}function lA({toast:e,onRemove:t,index:n}){const r={success:p.jsx(Wx,{size:18}),error:p.jsx(Vx,{size:18}),info:p.jsx(c4,{size:18}),warning:p.jsx(Jx,{size:18})},s={success:{bg:"rgba(34, 197, 94, 0.15)",border:"rgba(34, 197, 94, 0.4)",icon:"#4ade80",glow:"rgba(34, 197, 94, 0.3)"},error:{bg:"rgba(239, 68, 68, 0.15)",border:"rgba(239, 68, 68, 0.4)",icon:"#f87171",glow:"rgba(239, 68, 68, 0.3)"},info:{bg:"rgba(59, 130, 246, 0.15)",border:"rgba(59, 130, 246, 0.4)",icon:"#60a5fa",glow:"rgba(59, 130, 246, 0.3)"},warning:{bg:"rgba(245, 158, 11, 0.15)",border:"rgba(245, 158, 11, 0.4)",icon:"#fbbf24",glow:"rgba(245, 158, 11, 0.3)"}}[e.type];return p.jsxs("div",{className:"lp-toast",style:{background:s.bg,borderColor:s.border,boxShadow:`0 8px 32px ${s.glow}, 0 0 0 1px ${s.border}`,animationDelay:`${n*50}ms`},children:[p.jsx("div",{className:"lp-toast-icon",style:{color:s.icon},children:r[e.type]}),p.jsx("span",{className:"lp-toast-message",children:e.message}),p.jsx("button",{className:"lp-toast-close",onClick:t,children:p.jsx(Ic,{size:14})})]})}const Zx=`
  .lp-toast-container {
    position: fixed;
    top: 24px;
    right: 24px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 12px;
    pointer-events: none;
    max-width: 400px;
  }

  @media (max-width: 768px) {
    .lp-toast-container {
      top: auto;
      bottom: 100px;
      left: 16px;
      right: 16px;
      max-width: none;
    }
  }

  .lp-toast {
    pointer-events: auto;
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    border-radius: 14px;
    border: 1px solid;
    backdrop-filter: blur(20px);
    animation: lp-toast-enter 0.3s cubic-bezier(0.21, 1.02, 0.73, 1) forwards;
  }

  @keyframes lp-toast-enter {
    from {
      opacity: 0;
      transform: translateX(100%) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
  }

  @media (max-width: 768px) {
    @keyframes lp-toast-enter {
      from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
  }

  .lp-toast-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .lp-toast-message {
    flex: 1;
    font-size: 14px;
    font-weight: 500;
    color: #f1f5f9;
    line-height: 1.4;
  }

  .lp-toast-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 6px;
    border: none;
    background: rgba(255, 255, 255, 0.1);
    color: #94a3b8;
    cursor: pointer;
    transition: all 0.15s ease;
    flex-shrink: 0;
  }

  .lp-toast-close:hover {
    background: rgba(255, 255, 255, 0.2);
    color: #f1f5f9;
  }

  /* Confirm Modal Styles */
  .lp-confirm-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    animation: fadeIn 0.2s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .lp-confirm-modal {
    width: 100%;
    max-width: 400px;
    background: #0f172a;
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 16px;
    padding: 24px;
    animation: slideUp 0.25s ease;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  .lp-confirm-title {
    font-size: 18px;
    font-weight: 700;
    color: #f1f5f9;
    margin: 0 0 12px 0;
  }

  .lp-confirm-title.danger { color: #ef4444; }

  .lp-confirm-message {
    font-size: 14px;
    color: #94a3b8;
    line-height: 1.6;
    margin: 0 0 24px 0;
  }

  .lp-confirm-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
  }

  .lp-confirm-btn {
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    border: none;
  }

  .lp-confirm-btn.secondary {
    background: rgba(255,255,255,0.08);
    color: #94a3b8;
  }

  .lp-confirm-btn.secondary:hover {
    background: rgba(255,255,255,0.12);
    color: #f1f5f9;
  }

  .lp-confirm-btn.danger {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
  }

  .lp-confirm-btn.danger:hover {
    box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
  }
`;function cA({isOpen:e,title:t,message:n,variant:r="default",onConfirm:i,onCancel:s}){return e?p.jsxs(p.Fragment,{children:[p.jsx("style",{children:Zx}),p.jsx("div",{className:"lp-confirm-overlay",onClick:s,children:p.jsxs("div",{className:"lp-confirm-modal",onClick:o=>o.stopPropagation(),children:[p.jsx("h3",{className:`lp-confirm-title ${r}`,children:t}),p.jsx("p",{className:"lp-confirm-message",children:n}),p.jsxs("div",{className:"lp-confirm-actions",children:[p.jsx("button",{className:"lp-confirm-btn secondary",onClick:s,children:"Cancelar"}),p.jsx("button",{className:`lp-confirm-btn ${r==="danger"?"danger":"primary"}`,onClick:i,children:r==="danger"?"Eliminar":"Confirmar"})]})]})})]}):null}function _L(){const[e,t]=b.useState({isOpen:!1,title:"",message:"",variant:"default",resolve:null}),n=b.useCallback((o,a,l="default")=>new Promise(c=>{t({isOpen:!0,title:o,message:a,variant:l,resolve:c})}),[]),r=b.useCallback(()=>{var o;(o=e.resolve)==null||o.call(e,!0),t(a=>({...a,isOpen:!1,resolve:null}))},[e.resolve]),i=b.useCallback(()=>{var o;(o=e.resolve)==null||o.call(e,!1),t(a=>({...a,isOpen:!1,resolve:null}))},[e.resolve]),s=b.useCallback(()=>p.jsx(cA,{isOpen:e.isOpen,title:e.title,message:e.message,variant:e.variant,onConfirm:r,onCancel:i}),[e.isOpen,e.title,e.message,e.variant,r,i]);return{confirm:n,ConfirmDialog:s}}function uA(){const[e,t]=b.useState(!1);b.useEffect(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("message",r=>{r.data&&r.data.type==="SW_UPDATED"&&(console.log("[App] New version available:",r.data.version),t(!0))}),navigator.serviceWorker.ready.then(r=>{r.waiting&&t(!0),r.addEventListener("updatefound",()=>{const i=r.installing;i&&i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&t(!0)})})}))},[]);const n=()=>{t(!1),sessionStorage.setItem("update-dismissed","true")};return b.useEffect(()=>{sessionStorage.getItem("update-dismissed")&&t(!1)},[]),e?p.jsxs("div",{style:{position:"fixed",top:"16px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:"white",padding:"14px 20px",borderRadius:"14px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 10px 40px rgba(99, 102, 241, 0.4)",zIndex:10001,maxWidth:"340px",animation:"slideDown 0.3s ease-out"},children:[p.jsx("style",{children:`
        @keyframes slideDown {
          from { transform: translateX(-50%) translateY(-100px); opacity: 0; }
          to { transform: translateX(-50%) translateY(0); opacity: 1; }
        }
      `}),p.jsx(O4,{size:20}),p.jsxs("div",{style:{flex:1},children:[p.jsx("p",{style:{fontWeight:700,fontSize:"14px",marginBottom:"2px"},children:"Nueva actualizacin"}),p.jsx("p",{style:{fontSize:"12px",opacity:.9,margin:0},children:"Cierra la app y vuelve a abrirla"})]}),p.jsx("button",{onClick:n,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"8px",padding:"6px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(Ic,{size:16})})]}):null}class dA extends b.Component{constructor(t){super(t),this.handleReload=()=>{"caches"in window&&caches.keys().then(n=>{n.forEach(r=>caches.delete(r))}),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(n=>{n.forEach(r=>r.unregister())}),localStorage.clear(),sessionStorage.clear(),window.location.href=window.location.origin+"?cache-bust="+Date.now()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("[ErrorBoundary] Caught error:",t,n)}render(){var t,n,r,i,s,o;if(this.state.hasError){const a=((n=(t=this.state.error)==null?void 0:t.message)==null?void 0:n.includes("module"))||((i=(r=this.state.error)==null?void 0:r.message)==null?void 0:i.includes("import"))||((o=(s=this.state.error)==null?void 0:s.message)==null?void 0:o.includes("chunk"));return p.jsxs("div",{style:{minHeight:"100dvh",background:"linear-gradient(135deg, #020617 0%, #1e1b4b 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",fontFamily:"-apple-system, BlinkMacSystemFont, system-ui, sans-serif"},children:[p.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"24px"},children:p.jsx("img",{src:"/icons/icon-192.png",alt:"LinkPay",style:{width:"60px",height:"60px",borderRadius:"12px"},onError:l=>{l.target.style.display="none"}})}),p.jsx("h1",{style:{color:"white",fontSize:"22px",fontWeight:700,marginBottom:"12px",textAlign:"center"},children:a?"Nueva versin disponible":"Algo sali mal"}),p.jsx("p",{style:{color:"#94a3b8",fontSize:"15px",textAlign:"center",marginBottom:"32px",maxWidth:"300px",lineHeight:1.5},children:a?"Hay una actualizacin pendiente. Pulsa el botn para cargar la ltima versin.":"Ha ocurrido un error inesperado. Intenta recargar la aplicacin."}),p.jsx("button",{onClick:this.handleReload,style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:"white",border:"none",borderRadius:"14px",padding:"16px 32px",fontSize:"16px",fontWeight:700,cursor:"pointer",boxShadow:"0 10px 40px rgba(99, 102, 241, 0.3)",minHeight:"52px"},children:"Recargar LinkPay"}),p.jsx("p",{style:{color:"#64748b",fontSize:"12px",marginTop:"24px",textAlign:"center"},children:"Si el problema persiste, elimina la app y vuelve a instalarla."})]})}return this.props.children}}const hA="modulepreload",fA=function(e){return"/"+e},m0={},Rn=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=fA(l),l in m0)return;m0[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":hA,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function pA(){var s;const e=window.navigator.userAgent.toLowerCase(),t=((s=window.navigator.platform)==null?void 0:s.toLowerCase())||"",n=/iphone|ipad|ipod/.test(e)||t==="macintel"&&navigator.maxTouchPoints>1||/\(ip/.test(e),r=/safari/.test(e)&&!/crios|fxios|opios|mercury|focus/.test(e),i=!window.navigator.standalone&&!window.matchMedia("(display-mode: standalone)").matches;return n&&r&&i}function mA(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function eb(){const[e,t]=b.useState(null),[n,r]=b.useState(!1),[i,s]=b.useState(!1),[o,a]=b.useState(!1);return b.useEffect(()=>{if(mA()){s(!0);return}if(pA()){a(!0),r(!0);return}const c=d=>{d.preventDefault(),t(d),r(!0)},u=()=>{s(!0),r(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]),{isInstallable:n,isInstalled:i,promptInstall:async()=>{if(!e)return!1;e.prompt();const{outcome:c}=await e.userChoice;return c==="accepted"&&(s(!0),r(!1)),t(null),c==="accepted"},isIOS:o}}function tb(){const{isInstallable:e,isInstalled:t,promptInstall:n,isIOS:r}=eb(),[i,s]=b.useState(!1),[o,a]=b.useState(!1),l=()=>{if(typeof window>"u")return!1;const h=window.navigator.userAgent.toLowerCase(),f=(window.navigator.platform||"").toLowerCase();return/iphone|ipad|ipod/.test(h)||f==="macintel"&&navigator.maxTouchPoints>1};b.useEffect(()=>{const h=localStorage.getItem("pwa-install-dismissed");if(h){const f=parseInt(h);Date.now()-f<24*60*60*1e3&&s(!0)}},[]);const c=()=>{s(!0),a(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())},u=()=>{r||l()?a(!0):n()};if(t||!e||i)return null;const d=r||l();return o?p.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:1e4,animation:"fadeIn 0.3s ease-out"},children:[p.jsx("style",{children:`
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    @keyframes slideUp {
                        from { transform: translateY(100px); opacity: 0; }
                        to { transform: translateY(0); opacity: 1; }
                    }
                `}),p.jsxs("div",{style:{background:"linear-gradient(135deg, #1e1b4b 0%, #312e81 100%)",borderRadius:"24px",padding:"28px 24px",maxWidth:"340px",width:"100%",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)",animation:"slideUp 0.4s ease-out"},children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[p.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:p.jsx(Ho,{size:32,color:"white"})}),p.jsx("h3",{style:{color:"white",fontSize:"20px",fontWeight:700,marginBottom:"8px"},children:"Instalar LinkPay"}),p.jsx("p",{style:{color:"#a5b4fc",fontSize:"14px",margin:0},children:"Sigue estos 2 pasos en Safari"})]}),p.jsxs("div",{style:{background:"rgba(99, 102, 241, 0.15)",borderRadius:"16px",padding:"20px",marginBottom:"20px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",marginBottom:"18px"},children:[p.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:p.jsx(f0,{size:24,color:"white"})}),p.jsxs("div",{children:[p.jsx("p",{style:{color:"white",fontWeight:600,fontSize:"15px",marginBottom:"4px"},children:"1. Toca Compartir"}),p.jsxs("p",{style:{color:"#94a3b8",fontSize:"13px",margin:0},children:["El icono ",p.jsx("span",{style:{fontSize:"18px"},children:""})," en la barra de Safari"]})]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[p.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:p.jsx(Yx,{size:24,color:"white"})}),p.jsxs("div",{children:[p.jsx("p",{style:{color:"white",fontWeight:600,fontSize:"15px",marginBottom:"4px"},children:'2. "Aadir a inicio"'}),p.jsx("p",{style:{color:"#94a3b8",fontSize:"13px",margin:0},children:"Desplzate y pulsa esta opcin"})]})]})]}),p.jsx("button",{onClick:c,style:{width:"100%",background:"white",color:"#1e1b4b",border:"none",borderRadius:"12px",padding:"16px",fontWeight:700,fontSize:"15px",cursor:"pointer",minHeight:"52px"},children:"Entendido!"})]})]}):p.jsxs("div",{style:{position:"fixed",bottom:"160px",left:"16px",right:"16px",maxWidth:"400px",margin:"0 auto",background:"linear-gradient(135deg, #1e1b4b 0%, #312e81 100%)",borderRadius:"16px",padding:"16px 20px",display:"flex",alignItems:"center",gap:"14px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(99, 102, 241, 0.3)",zIndex:9999,animation:"slideUp 0.4s ease-out"},children:[p.jsx("style",{children:`
        @keyframes slideUp {
          from { transform: translateY(100px); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
      `}),p.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:p.jsx(Ho,{size:24,color:"white"})}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("h4",{style:{color:"white",fontWeight:700,fontSize:"15px",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Instalar LinkPay"}),p.jsx("p",{style:{color:"#a5b4fc",fontSize:"13px",margin:0},children:d?"Usa Safari para aadir":"Aade a pantalla de inicio"})]}),p.jsxs("button",{onClick:u,style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:"white",border:"none",borderRadius:"10px",padding:"12px 16px",fontWeight:700,fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",flexShrink:0,transition:"transform 0.2s",minHeight:"44px",boxShadow:"0 4px 12px rgba(34, 197, 94, 0.3)"},onMouseOver:h=>h.currentTarget.style.transform="scale(1.05)",onMouseOut:h=>h.currentTarget.style.transform="scale(1)",children:[d?p.jsx(f0,{size:16}):p.jsx(Hx,{size:16}),d?"Ver pasos":"Instalar"]}),p.jsx("button",{onClick:c,style:{background:"rgba(255,255,255,0.1)",border:"none",color:"#94a3b8",cursor:"pointer",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"32px",minHeight:"32px"},title:"Cerrar",children:p.jsx(Ic,{size:18})})]})}function gA(){const{isInstallable:e,promptInstall:t}=eb();return e?p.jsxs("button",{onClick:t,style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:"white",padding:"8px 16px",borderRadius:"100px",fontWeight:600,border:"none",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 4px 12px rgba(34, 197, 94, 0.3)"},onMouseOver:n=>{n.currentTarget.style.transform="scale(1.05)",n.currentTarget.style.boxShadow="0 6px 20px rgba(34, 197, 94, 0.4)"},onMouseOut:n=>{n.currentTarget.style.transform="scale(1)",n.currentTarget.style.boxShadow="0 4px 12px rgba(34, 197, 94, 0.3)"},children:[p.jsx(Hx,{size:14}),"Instalar App"]}):null}function yA(){const e=Lr(),[t,n]=b.useState(0),[r,i]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const{data:{session:l}}=await R.auth.getSession();if(l!=null&&l.user){e("/app",{replace:!0});return}}catch(l){console.warn("[LandingPage] Error checking session:",l)}i(!1)})()},[e]),b.useEffect(()=>{const a=setInterval(()=>{n(l=>(l+1)%3)},5e3);return()=>clearInterval(a)},[]);const s=[{title:"Bio Pages",desc:"Tu tarjeta de visita digital. Unifica tus redes y monetiza cada visita.",icon:Ho,color:"#EC4899"},{title:"Smart Links",desc:"Acorta URLs y gana dinero con cada clic gracias a nuestra tecnologa publicitaria.",icon:h0,color:"#3B82F6"},{title:"Pagos Globales",desc:"Recibe tus ganancias en cualquier lugar del mundo. Rpido y seguro.",icon:Y5,color:"#22C55E"}],o={wrapper:{background:"#030014",minHeight:"100dvh",color:"#FFFFFF",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", Roboto, sans-serif',overflowX:"hidden",position:"relative"},nav:{maxWidth:"1200px",margin:"0 auto",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:50},hero:{maxWidth:"1200px",margin:"40px auto 60px",padding:"0 20px",display:"grid",gridTemplateColumns:"1fr",gap:"40px",alignItems:"center",position:"relative",zIndex:10},h1:{fontSize:"clamp(32px, 9vw, 72px)",fontWeight:900,lineHeight:"1.15",letterSpacing:"-0.03em",marginBottom:"20px",background:"linear-gradient(180deg, #FFFFFF 0%, #94A3B8 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},ctaButton:{background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",color:"white",padding:"16px 32px",borderRadius:"16px",fontSize:"16px",fontWeight:700,border:"none",cursor:"pointer",boxShadow:"0 8px 32px rgba(79, 70, 229, 0.4)",transition:"all 0.3s ease",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"10px",minHeight:"56px",width:"100%"},glassCard:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"24px",backdropFilter:"blur(10px)",overflow:"hidden",transition:"transform 0.3s ease"},featureCard:a=>({padding:"20px",borderRadius:"16px",background:a?"rgba(255, 255, 255, 0.05)":"transparent",border:a?"1px solid rgba(255, 255, 255, 0.1)":"1px solid transparent",cursor:"pointer",transition:"all 0.3s ease",display:"flex",gap:"14px",alignItems:"start"})};return r?p.jsxs("div",{style:{minHeight:"100dvh",background:"#030014",display:"flex",alignItems:"center",justifyContent:"center"},children:[p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",animation:"pulse 1.5s ease-in-out infinite"}}),p.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
          }
        `})]}):p.jsxs("div",{style:o.wrapper,children:[p.jsx("style",{children:`
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-20px); } 100% { transform: translateY(0px); } }
        @keyframes pulse-ring { 0% { transform: scale(0.33); opacity: 1; } 80%, 100% { transform: scale(1); opacity: 0; } }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .hover-glow:hover { box-shadow: 0 0 30px rgba(79, 70, 229, 0.2); border-color: rgba(79, 70, 229, 0.4); transform: translateY(-5px); }
        
        /* MOBILE FIRST - Base styles ARE mobile */
        .hero-grid { 
          text-align: center; 
        }
        .hero-content { 
          margin: 0 auto; 
          max-width: 600px;
        }
        .mockup-container { 
          display: none; 
        }
        .cta-buttons {
          display: flex;
          flex-direction: column;
          gap: 12px;
          width: 100%;
        }
        .nav-buttons {
          display: flex;
          gap: 8px;
          align-items: center;
        }
        .nav-login {
          display: none;
        }
        .hero-badge {
          font-size: 11px !important;
          padding: 6px 12px !important;
        }
        .hero-subtitle {
          font-size: 15px !important;
          line-height: 1.6 !important;
        }
        .hero-checks {
          flex-direction: column !important;
          gap: 12px !important;
          align-items: center !important;
        }
        .stat-grid {
          grid-template-columns: repeat(2, 1fr) !important;
        }
        .stat-value {
          font-size: 28px !important;
        }
        .cta-section-title {
          font-size: 28px !important;
        }
        .footer-grid {
          flex-direction: column !important;
          text-align: center !important;
          gap: 32px !important;
        }
        .footer-links {
          gap: 40px !important;
        }
        
        /* DESKTOP BREAKPOINT */
        @media (min-width: 768px) {
          .nav-login { display: block; }
          .hero-badge { font-size: 13px !important; padding: 8px 16px !important; }
          .hero-subtitle { font-size: 18px !important; }
          .hero-checks { flex-direction: row !important; gap: 32px !important; }
          .cta-buttons { flex-direction: row; width: auto; }
          .stat-grid { grid-template-columns: repeat(4, 1fr) !important; }
          .stat-value { font-size: 40px !important; }
          .cta-section-title { font-size: 40px !important; }
          .footer-grid { flex-direction: row !important; text-align: left !important; }
        }
        
        @media (min-width: 1024px) {
          .hero-grid { 
            grid-template-columns: 1fr 1fr !important; 
            text-align: left !important; 
          }
          .hero-content { margin: 0; }
          .mockup-container { display: block; }
        }
      `}),p.jsx("div",{style:{position:"fixed",top:"-20%",right:"-10%",width:"800px",height:"800px",background:"radial-gradient(circle, rgba(79, 70, 229, 0.15) 0%, rgba(0,0,0,0) 70%)",pointerEvents:"none"}}),p.jsx("div",{style:{position:"fixed",bottom:"-20%",left:"-10%",width:"800px",height:"800px",background:"radial-gradient(circle, rgba(236, 72, 153, 0.1) 0%, rgba(0,0,0,0) 70%)",pointerEvents:"none"}}),p.jsxs("nav",{style:o.nav,children:[p.jsxs("div",{style:{fontSize:"22px",fontWeight:900,letterSpacing:"-1px",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(79, 70, 229, 0.3)"},children:p.jsx(dh,{size:18,color:"white",fill:"white"})}),"LinkPay"]}),p.jsxs("div",{className:"nav-buttons",children:[p.jsx(gA,{}),p.jsx("button",{onClick:()=>e("/login"),className:"nav-login",style:{background:"transparent",color:"#94A3B8",fontWeight:600,border:"none",cursor:"pointer",fontSize:"15px",padding:"8px 12px"},children:"Login"}),p.jsx("button",{onClick:()=>e("/register"),style:{background:"white",color:"#0F172A",padding:"12px 20px",borderRadius:"12px",fontWeight:700,border:"none",cursor:"pointer",fontSize:"14px",transition:"transform 0.2s",minHeight:"44px"},children:"Empezar"})]})]}),p.jsxs("div",{style:o.hero,className:"hero-grid",children:[p.jsxs("div",{className:"hero-content",children:[p.jsxs("div",{className:"hero-badge",style:{display:"inline-flex",alignItems:"center",gap:"8px",background:"rgba(99, 102, 241, 0.1)",border:"1px solid rgba(99, 102, 241, 0.2)",color:"#818CF8",padding:"8px 16px",borderRadius:"100px",fontSize:"13px",fontWeight:600,marginBottom:"24px"},children:[p.jsx("span",{style:{width:"6px",height:"6px",background:"#818CF8",borderRadius:"50%",boxShadow:"0 0 10px #818CF8"}}),"Plataforma de Monetizacin v2.0"]}),p.jsxs("h1",{style:o.h1,children:["Monetiza cada ",p.jsx("br",{}),p.jsx("span",{style:{color:"#818CF8",WebkitTextFillColor:"#818CF8"},children:"Enlace y Visita."})]}),p.jsx("p",{className:"hero-subtitle",style:{fontSize:"18px",color:"#94A3B8",lineHeight:"1.6",marginBottom:"32px",maxWidth:"500px"},children:"Crea Bio Pages, acorta enlaces y gana dinero automticamente. Sin complicaciones."}),p.jsxs("div",{className:"cta-buttons",children:[p.jsxs("button",{onClick:()=>e("/register"),style:o.ctaButton,children:["Crear cuenta gratis ",p.jsx(Yf,{size:20})]}),p.jsxs("button",{style:{background:"rgba(255,255,255,0.05)",color:"white",padding:"16px 24px",borderRadius:"16px",fontSize:"16px",fontWeight:600,border:"1px solid rgba(255,255,255,0.1)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",minHeight:"56px",width:"100%"},children:[p.jsx(R4,{size:18,fill:"currentColor"})," Ver Demo"]})]}),p.jsxs("div",{className:"hero-checks",style:{marginTop:"32px",display:"flex",gap:"32px",color:"#64748B",fontSize:"14px",fontWeight:600},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(c0,{size:18,color:"#10B981"})," Pagos Diarios"]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(c0,{size:18,color:"#10B981"})," Sin Comisiones"]})]})]}),p.jsxs("div",{className:"mockup-container",style:{position:"relative"},children:[p.jsxs("div",{className:"animate-float",style:{...o.glassCard,padding:"32px",maxWidth:"500px",position:"relative",zIndex:20,boxShadow:"0 40px 100px -20px rgba(79, 70, 229, 0.3)"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[p.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"#1E293B"}}),p.jsxs("div",{children:[p.jsx("div",{style:{width:"100px",height:"12px",background:"#334155",borderRadius:"4px",marginBottom:"6px"}}),p.jsx("div",{style:{width:"60px",height:"8px",background:"#1E293B",borderRadius:"4px"}})]})]}),p.jsx("div",{style:{padding:"8px 16px",background:"#10B981",borderRadius:"8px",color:"white",fontSize:"12px",fontWeight:700},children:"+ 124.50"})]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:s.map((a,l)=>p.jsxs("div",{style:o.featureCard(t===l),onClick:()=>n(l),children:[p.jsx("div",{style:{padding:"10px",borderRadius:"10px",background:`${a.color}20`,color:a.color},children:p.jsx(a.icon,{size:20})}),p.jsxs("div",{children:[p.jsx("h4",{style:{fontSize:"16px",fontWeight:700,marginBottom:"4px",color:t===l?"white":"#94A3B8"},children:a.title}),t===l&&p.jsx("p",{style:{fontSize:"13px",color:"#94A3B8",lineHeight:"1.4"},children:a.desc})]})]},l))}),p.jsx("div",{style:{position:"absolute",top:t===0?"35%":t===1?"60%":"85%",left:"80%",transition:"all 0.5s ease",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.3))"},children:p.jsx(T4,{size:32,fill:"white",color:"black"})})]}),p.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"120%",height:"120%",background:"radial-gradient(circle, rgba(79, 70, 229, 0.3) 0%, rgba(0,0,0,0) 70%)",zIndex:10}})]})]}),p.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)"},children:p.jsx("div",{className:"stat-grid",style:{maxWidth:"1200px",margin:"0 auto",padding:"48px 20px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"24px",textAlign:"center"},children:[{label:"Usuarios Activos",val:"10K+"},{label:"Pagos Procesados",val:"500K+"},{label:"Enlaces Creados",val:"1M+"},{label:"Pases",val:"150+"}].map((a,l)=>p.jsxs("div",{children:[p.jsx("div",{className:"stat-value",style:{fontSize:"40px",fontWeight:900,color:"white",marginBottom:"8px"},children:a.val}),p.jsx("div",{style:{fontSize:"12px",color:"#94A3B8",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label})]},l))})}),p.jsxs("div",{style:{textAlign:"center",padding:"80px 20px"},children:[p.jsxs("h2",{className:"cta-section-title",style:{fontSize:"40px",fontWeight:900,marginBottom:"20px",lineHeight:"1.2"},children:["Listo para monetizar",p.jsx("br",{}),"tu influencia?"]}),p.jsx("p",{style:{fontSize:"16px",color:"#94A3B8",marginBottom:"32px",maxWidth:"400px",margin:"0 auto 32px"},children:"nete a los creadores que ya estn ganando con LinkPay."}),p.jsxs("button",{onClick:()=>e("/register"),style:{...o.ctaButton,maxWidth:"320px",margin:"0 auto"},children:["Comenzar Ahora ",p.jsx(h0,{size:20})]})]}),p.jsxs("footer",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",padding:"60px 20px 40px",background:"#020617"},children:[p.jsxs("div",{className:"footer-grid",style:{maxWidth:"1200px",margin:"0 auto",display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"40px"},children:[p.jsxs("div",{children:[p.jsxs("div",{style:{fontSize:"22px",fontWeight:900,display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",justifyContent:"inherit"},children:[p.jsx("div",{style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"8px"}})," LinkPay"]}),p.jsx("p",{style:{color:"#64748B",maxWidth:"280px",fontSize:"14px",lineHeight:"1.6"},children:"La plataforma definitiva para creadores de contenido."})]}),p.jsxs("div",{className:"footer-links",style:{display:"flex",gap:"60px",flexWrap:"wrap"},children:[p.jsxs("div",{children:[p.jsx("h4",{style:{fontWeight:700,marginBottom:"16px",color:"white",fontSize:"14px"},children:"Producto"}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",color:"#94A3B8",fontSize:"14px"},children:[p.jsx("span",{children:"Bio Pages"}),p.jsx("span",{children:"Smart Links"}),p.jsx("span",{children:"Analytics"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{style:{fontWeight:700,marginBottom:"16px",color:"white",fontSize:"14px"},children:"Legal"}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",color:"#94A3B8",fontSize:"14px"},children:[p.jsx("span",{children:"Trminos"}),p.jsx("span",{children:"Privacidad"}),p.jsx("span",{children:"Contacto"})]})]})]})]}),p.jsx("div",{style:{maxWidth:"1200px",margin:"48px auto 0",paddingTop:"20px",borderTop:"1px solid rgba(255,255,255,0.05)",textAlign:"center",color:"#475569",fontSize:"12px"},children:" 2025 LinkPay Inc. Todos los derechos reservados."})]}),p.jsx(tb,{})]})}//! otpauth 9.4.1 | (c) Hctor Molinero Fernndez | MIT | https://github.com/hectorm/otpauth
//! noble-hashes 1.8.0 | (c) Paul Miller | MIT | https://github.com/paulmillr/noble-hashes
const vA=e=>{const t=new ArrayBuffer(8),n=new Uint8Array(t);let r=e;for(let i=7;i>=0&&r!==0;i--)n[i]=r&255,r-=n[i],r/=256;return n};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function rc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function hs(e,...t){if(!wA(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function xA(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");rc(e.outputLen),rc(e.blockLen)}function fs(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function nb(e,t){hs(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function bA(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function jn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Mu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function yn(e,t){return e<<32-t|e>>>t}function Nu(e,t){return e<<t|e>>>32-t>>>0}const _A=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function kA(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function SA(e){for(let t=0;t<e.length;t++)e[t]=kA(e[t]);return e}const g0=_A?e=>e:SA;function EA(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Lc(e){return typeof e=="string"&&(e=EA(e)),hs(e),e}class Jf{}function Ss(e){const t=r=>e().update(Lc(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class rb extends Jf{update(t){return fs(this),this.iHash.update(t),this}digestInto(t){fs(this),hs(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(t,n){super(),this.finished=!1,this.destroyed=!1,xA(t);const r=Lc(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),jn(s)}}const hh=(e,t,n)=>new rb(e,t).update(n).digest();hh.create=(e,t)=>new rb(e,t);function CA(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}function ib(e,t,n){return e&t^~e&n}function sb(e,t,n){return e&t^e&n^t&n}class Qf extends Jf{update(t){fs(this),t=Lc(t),hs(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Mu(t);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fs(this),nb(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,jn(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;CA(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Mu(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=Mu(this.buffer)}}const er=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tr=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),lt=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ct=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),qs=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),nr=new Uint32Array(80);class TA extends Qf{get(){const{A:t,B:n,C:r,D:i,E:s}=this;return[t,n,r,i,s]}set(t,n,r,i,s){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0}process(t,n){for(let l=0;l<16;l++,n+=4)nr[l]=t.getUint32(n,!1);for(let l=16;l<80;l++)nr[l]=Nu(nr[l-3]^nr[l-8]^nr[l-14]^nr[l-16],1);let{A:r,B:i,C:s,D:o,E:a}=this;for(let l=0;l<80;l++){let c,u;l<20?(c=ib(i,s,o),u=1518500249):l<40?(c=i^s^o,u=1859775393):l<60?(c=sb(i,s,o),u=2400959708):(c=i^s^o,u=3395469782);const d=Nu(r,5)+c+a+u+nr[l]|0;a=o,o=s,s=Nu(i,30),i=r,r=d}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,this.set(r,i,s,o,a)}roundClean(){jn(nr)}destroy(){this.set(0,0,0,0,0),jn(this.buffer)}constructor(){super(64,20,8,!1),this.A=qs[0]|0,this.B=qs[1]|0,this.C=qs[2]|0,this.D=qs[3]|0,this.E=qs[4]|0}}const PA=Ss(()=>new TA),Ja=BigInt(2**32-1),y0=BigInt(32);function AA(e,t=!1){return t?{h:Number(e&Ja),l:Number(e>>y0&Ja)}:{h:Number(e>>y0&Ja)|0,l:Number(e&Ja)|0}}function ob(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=AA(e[s],t);[r[s],i[s]]=[o,a]}return[r,i]}const v0=(e,t,n)=>e>>>n,w0=(e,t,n)=>e<<32-n|t>>>n,Si=(e,t,n)=>e>>>n|t<<32-n,Ei=(e,t,n)=>e<<32-n|t>>>n,Qa=(e,t,n)=>e<<64-n|t>>>n-32,Za=(e,t,n)=>e>>>n-32|t<<64-n,jA=(e,t,n)=>e<<n|t>>>32-n,RA=(e,t,n)=>t<<n|e>>>32-n,DA=(e,t,n)=>t<<n-32|e>>>64-n,OA=(e,t,n)=>e<<n-32|t>>>64-n;function Mn(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const IA=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),LA=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,MA=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),NA=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,$A=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),FA=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,zA=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rr=new Uint32Array(64);class ab extends Qf{get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[t,n,r,i,s,o,a,l]}set(t,n,r,i,s,o,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(t,n){for(let d=0;d<16;d++,n+=4)rr[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=rr[d-15],f=rr[d-2],m=yn(h,7)^yn(h,18)^h>>>3,v=yn(f,17)^yn(f,19)^f>>>10;rr[d]=v+rr[d-7]+m+rr[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const h=yn(a,6)^yn(a,11)^yn(a,25),f=u+h+ib(a,l,c)+zA[d]+rr[d]|0,v=(yn(r,2)^yn(r,13)^yn(r,22))+sb(r,i,s)|0;u=c,c=l,l=a,a=o+f|0,o=s,s=i,i=r,r=f+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){jn(rr)}destroy(){this.set(0,0,0,0,0,0,0,0),jn(this.buffer)}constructor(t=32){super(64,t,8,!1),this.A=er[0]|0,this.B=er[1]|0,this.C=er[2]|0,this.D=er[3]|0,this.E=er[4]|0,this.F=er[5]|0,this.G=er[6]|0,this.H=er[7]|0}}class BA extends ab{constructor(){super(28),this.A=tr[0]|0,this.B=tr[1]|0,this.C=tr[2]|0,this.D=tr[3]|0,this.E=tr[4]|0,this.F=tr[5]|0,this.G=tr[6]|0,this.H=tr[7]|0}}const lb=ob(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),UA=lb[0],VA=lb[1],ir=new Uint32Array(80),sr=new Uint32Array(80);class cb extends Qf{get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:h,Gh:f,Gl:m,Hh:v,Hl:x}=this;return[t,n,r,i,s,o,a,l,c,u,d,h,f,m,v,x]}set(t,n,r,i,s,o,a,l,c,u,d,h,f,m,v,x){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=m|0,this.Hh=v|0,this.Hl=x|0}process(t,n){for(let w=0;w<16;w++,n+=4)ir[w]=t.getUint32(n),sr[w]=t.getUint32(n+=4);for(let w=16;w<80;w++){const k=ir[w-15]|0,S=sr[w-15]|0,C=Si(k,S,1)^Si(k,S,8)^v0(k,S,7),_=Ei(k,S,1)^Ei(k,S,8)^w0(k,S,7),P=ir[w-2]|0,D=sr[w-2]|0,j=Si(P,D,19)^Qa(P,D,61)^v0(P,D,6),M=Ei(P,D,19)^Za(P,D,61)^w0(P,D,6),B=MA(_,M,sr[w-7],sr[w-16]),Y=NA(B,C,j,ir[w-7],ir[w-16]);ir[w]=Y|0,sr[w]=B|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:h,Fh:f,Fl:m,Gh:v,Gl:x,Hh:g,Hl:y}=this;for(let w=0;w<80;w++){const k=Si(d,h,14)^Si(d,h,18)^Qa(d,h,41),S=Ei(d,h,14)^Ei(d,h,18)^Za(d,h,41),C=d&f^~d&v,_=h&m^~h&x,P=$A(y,S,_,VA[w],sr[w]),D=FA(P,g,k,C,UA[w],ir[w]),j=P|0,M=Si(r,i,28)^Qa(r,i,34)^Qa(r,i,39),B=Ei(r,i,28)^Za(r,i,34)^Za(r,i,39),Y=r&s^r&a^s&a,ce=i&o^i&l^o&l;g=v|0,y=x|0,v=f|0,x=m|0,f=d|0,m=h|0,{h:d,l:h}=Mn(c|0,u|0,D|0,j|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const re=IA(j,B,ce);r=LA(re,D,M,Y),i=re|0}({h:r,l:i}=Mn(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Mn(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Mn(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Mn(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:h}=Mn(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:m}=Mn(this.Fh|0,this.Fl|0,f|0,m|0),{h:v,l:x}=Mn(this.Gh|0,this.Gl|0,v|0,x|0),{h:g,l:y}=Mn(this.Hh|0,this.Hl|0,g|0,y|0),this.set(r,i,s,o,a,l,c,u,d,h,f,m,v,x,g,y)}roundClean(){jn(ir,sr)}destroy(){jn(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(t=64){super(128,t,16,!1),this.Ah=ct[0]|0,this.Al=ct[1]|0,this.Bh=ct[2]|0,this.Bl=ct[3]|0,this.Ch=ct[4]|0,this.Cl=ct[5]|0,this.Dh=ct[6]|0,this.Dl=ct[7]|0,this.Eh=ct[8]|0,this.El=ct[9]|0,this.Fh=ct[10]|0,this.Fl=ct[11]|0,this.Gh=ct[12]|0,this.Gl=ct[13]|0,this.Hh=ct[14]|0,this.Hl=ct[15]|0}}class WA extends cb{constructor(){super(48),this.Ah=lt[0]|0,this.Al=lt[1]|0,this.Bh=lt[2]|0,this.Bl=lt[3]|0,this.Ch=lt[4]|0,this.Cl=lt[5]|0,this.Dh=lt[6]|0,this.Dl=lt[7]|0,this.Eh=lt[8]|0,this.El=lt[9]|0,this.Fh=lt[10]|0,this.Fl=lt[11]|0,this.Gh=lt[12]|0,this.Gl=lt[13]|0,this.Hh=lt[14]|0,this.Hl=lt[15]|0}}const HA=Ss(()=>new ab),qA=Ss(()=>new BA),KA=Ss(()=>new cb),GA=Ss(()=>new WA),YA=BigInt(0),Ks=BigInt(1),XA=BigInt(2),JA=BigInt(7),QA=BigInt(256),ZA=BigInt(113),ub=[],db=[],hb=[];for(let e=0,t=Ks,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ub.push(2*(5*r+n)),db.push((e+1)*(e+2)/2%64);let i=YA;for(let s=0;s<7;s++)t=(t<<Ks^(t>>JA)*ZA)%QA,t&XA&&(i^=Ks<<(Ks<<BigInt(s))-Ks);hb.push(i)}const fb=ob(hb,!0),ej=fb[0],tj=fb[1],x0=(e,t,n)=>n>32?DA(e,t,n):jA(e,t,n),b0=(e,t,n)=>n>32?OA(e,t,n):RA(e,t,n);function nj(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],d=x0(c,u,1)^n[a],h=b0(c,u,1)^n[a+1];for(let f=0;f<50;f+=10)e[o+f]^=d,e[o+f+1]^=h}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=db[o],l=x0(i,s,a),c=b0(i,s,a),u=ub[o];i=e[u],s=e[u+1],e[u]=l,e[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=ej[r],e[1]^=tj[r]}jn(n)}class Zf extends Jf{clone(){return this._cloneInto()}keccak(){g0(this.state32),nj(this.state32,this.rounds),g0(this.state32),this.posOut=0,this.pos=0}update(t){fs(this),t=Lc(t),hs(t);const{blockLen:n,state:r}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){fs(this,!1),hs(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return rc(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(nb(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,jn(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Zf(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}constructor(t,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,rc(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=bA(this.state)}}const Mc=(e,t,n)=>Ss(()=>new Zf(t,e,n)),rj=Mc(6,144,224/8),ij=Mc(6,136,256/8),sj=Mc(6,104,384/8),oj=Mc(6,72,512/8),ps=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),_0={SHA1:PA,SHA224:qA,SHA256:HA,SHA384:GA,SHA512:KA,"SHA3-224":rj,"SHA3-256":ij,"SHA3-384":sj,"SHA3-512":oj},ep=e=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(e):return"SHA1";case/^SHA(?:2?-)?224$/i.test(e):return"SHA224";case/^SHA(?:2?-)?256$/i.test(e):return"SHA256";case/^SHA(?:2?-)?384$/i.test(e):return"SHA384";case/^SHA(?:2?-)?512$/i.test(e):return"SHA512";case/^SHA3-224$/i.test(e):return"SHA3-224";case/^SHA3-256$/i.test(e):return"SHA3-256";case/^SHA3-384$/i.test(e):return"SHA3-384";case/^SHA3-512$/i.test(e):return"SHA3-512";default:throw new TypeError(`Unknown hash algorithm: ${e}`)}},aj=(e,t,n)=>{if(hh){const r=_0[e]??_0[ep(e)];return hh(r,t,n)}else throw new Error("Missing HMAC function")},fh="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",lj=e=>{e=e.replace(/ /g,"");let t=e.length;for(;e[t-1]==="=";)--t;e=(t<e.length?e.substring(0,t):e).toUpperCase();const n=new ArrayBuffer(e.length*5/8|0),r=new Uint8Array(n);let i=0,s=0,o=0;for(let a=0;a<e.length;a++){const l=fh.indexOf(e[a]);if(l===-1)throw new TypeError(`Invalid character found: ${e[a]}`);s=s<<5|l,i+=5,i>=8&&(i-=8,r[o++]=s>>>i)}return r},cj=e=>{let t=0,n=0,r="";for(let i=0;i<e.length;i++)for(n=n<<8|e[i],t+=8;t>=5;)r+=fh[n>>>t-5&31],t-=5;return t>0&&(r+=fh[n<<5-t&31]),r},uj=e=>{e=e.replace(/ /g,"");const t=new ArrayBuffer(e.length/2),n=new Uint8Array(t);for(let r=0;r<e.length;r+=2)n[r/2]=parseInt(e.substring(r,r+2),16);return n},dj=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n].toString(16);r.length===1&&(t+="0"),t+=r}return t.toUpperCase()},hj=e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r)&255;return n},fj=e=>{let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},k0=ps.TextEncoder?new ps.TextEncoder:null,S0=ps.TextDecoder?new ps.TextDecoder:null,pj=e=>{if(!k0)throw new Error("Encoding API not available");return k0.encode(e)},mj=e=>{if(!S0)throw new Error("Encoding API not available");return S0.decode(e)},gj=e=>{var t;if((t=ps.crypto)!=null&&t.getRandomValues)return ps.crypto.getRandomValues(new Uint8Array(e));throw new Error("Cryptography API not available")};class kn{static fromLatin1(t){return new kn({buffer:hj(t).buffer})}static fromUTF8(t){return new kn({buffer:pj(t).buffer})}static fromBase32(t){return new kn({buffer:lj(t).buffer})}static fromHex(t){return new kn({buffer:uj(t).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:fj(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:mj(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:cj(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:dj(this.bytes)}),this.hex}constructor({buffer:t,size:n=20}={}){this.bytes=typeof t>"u"?gj(n):new Uint8Array(t),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}const yj=(e,t)=>{{if(e.length!==t.length)throw new TypeError("Input strings must have the same length");let n=-1,r=0;for(;++n<e.length;)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}};class Ye{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:t,algorithm:n=Ye.defaults.algorithm,digits:r=Ye.defaults.digits,counter:i=Ye.defaults.counter}){const s=aj(n,t.bytes,vA(i)),o=s[s.byteLength-1]&15;return(((s[o]&127)<<24|(s[o+1]&255)<<16|(s[o+2]&255)<<8|s[o+3]&255)%10**r).toString().padStart(r,"0")}generate({counter:t=this.counter++}={}){return Ye.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:t})}static validate({token:t,secret:n,algorithm:r,digits:i=Ye.defaults.digits,counter:s=Ye.defaults.counter,window:o=Ye.defaults.window}){if(t.length!==i)return null;let a=null;const l=c=>{const u=Ye.generate({secret:n,algorithm:r,digits:i,counter:c});yj(t,u)&&(a=c-s)};l(s);for(let c=1;c<=o&&a===null&&(l(s-c),!(a!==null||(l(s+c),a!==null)));++c);return a}validate({token:t,counter:n=this.counter,window:r}){return Ye.validate({token:t,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:n,window:r})}toString(){const t=encodeURIComponent;return`otpauth://hotp/${this.issuer.length>0?this.issuerInLabel?`${t(this.issuer)}:${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?`}secret=${t(this.secret.base32)}&algorithm=${t(this.algorithm)}&digits=${t(this.digits)}&counter=${t(this.counter)}`}constructor({issuer:t=Ye.defaults.issuer,label:n=Ye.defaults.label,issuerInLabel:r=Ye.defaults.issuerInLabel,secret:i=new kn,algorithm:s=Ye.defaults.algorithm,digits:o=Ye.defaults.digits,counter:a=Ye.defaults.counter}={}){this.issuer=t,this.label=n,this.issuerInLabel=r,this.secret=typeof i=="string"?kn.fromBase32(i):i,this.algorithm=ep(s),this.digits=o,this.counter=a}}class Ge{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:t=Ge.defaults.period,timestamp:n=Date.now()}={}){return Math.floor(n/1e3/t)}counter({timestamp:t=Date.now()}={}){return Ge.counter({period:this.period,timestamp:t})}static remaining({period:t=Ge.defaults.period,timestamp:n=Date.now()}={}){return t*1e3-n%(t*1e3)}remaining({timestamp:t=Date.now()}={}){return Ge.remaining({period:this.period,timestamp:t})}static generate({secret:t,algorithm:n,digits:r,period:i=Ge.defaults.period,timestamp:s=Date.now()}){return Ye.generate({secret:t,algorithm:n,digits:r,counter:Ge.counter({period:i,timestamp:s})})}generate({timestamp:t=Date.now()}={}){return Ge.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:t})}static validate({token:t,secret:n,algorithm:r,digits:i,period:s=Ge.defaults.period,timestamp:o=Date.now(),window:a}){return Ye.validate({token:t,secret:n,algorithm:r,digits:i,counter:Ge.counter({period:s,timestamp:o}),window:a})}validate({token:t,timestamp:n,window:r}){return Ge.validate({token:t,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:n,window:r})}toString(){const t=encodeURIComponent;return`otpauth://totp/${this.issuer.length>0?this.issuerInLabel?`${t(this.issuer)}:${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?issuer=${t(this.issuer)}&`:`${t(this.label)}?`}secret=${t(this.secret.base32)}&algorithm=${t(this.algorithm)}&digits=${t(this.digits)}&period=${t(this.period)}`}constructor({issuer:t=Ge.defaults.issuer,label:n=Ge.defaults.label,issuerInLabel:r=Ge.defaults.issuerInLabel,secret:i=new kn,algorithm:s=Ge.defaults.algorithm,digits:o=Ge.defaults.digits,period:a=Ge.defaults.period}={}){this.issuer=t,this.label=n,this.issuerInLabel=r,this.secret=typeof i=="string"?kn.fromBase32(i):i,this.algorithm=ep(s),this.digits=o,this.period=a}}function vj(){const e=Lr(),[t,n]=b.useState(!0),[r,i]=b.useState("user"),[s,o]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState(""),[f,m]=b.useState(!1),[v,x]=b.useState(""),[g,y]=b.useState(""),[w,k]=b.useState("");b.useEffect(()=>{(async()=>{try{const{data:{session:M}}=await R.auth.getSession();if(M!=null&&M.user){e("/app",{replace:!0});return}}catch(M){console.warn("[LoginPage] Error checking session:",M)}n(!1)})()},[e]);const S=async j=>{if(j.preventDefault(),u(!0),h(""),r==="staff"&&s==="734683"&&a==="easygoing"){e("/admin");return}try{const{data:M,error:B}=await R.auth.signInWithPassword({email:s,password:a});if(B)throw B;const{data:Y,error:ce}=await R.from("profiles").select("role, two_factor_enabled, two_factor_secret").eq("id",M.user.id).single();if(ce)throw new Error("Error crtico: No se pudo verificar la seguridad de la cuenta.");if(Y!=null&&Y.two_factor_enabled){if(!Y.two_factor_secret)throw new Error("Error de integridad 2FA: Por favor contacta con soporte para resetear tu seguridad.");m(!0),y(Y.two_factor_secret),k(Y.role),u(!1);return}_(Y==null?void 0:Y.role)}catch(M){console.error(M),h(M.message||"Credenciales incorrectas"),await R.auth.signOut(),u(!1)}},C=async j=>{j.preventDefault(),u(!0);try{new Ge({algorithm:"SHA1",digits:6,period:30,secret:kn.fromBase32(g)}).validate({token:v,window:1})!==null?_(w):(h("Cdigo incorrecto. Espera al siguiente token."),u(!1))}catch{h("Error validando cdigo."),u(!1)}},_=j=>{r==="staff"?j==="staff"||j==="admin"?e("/admin"):(h("Acceso denegado."),R.auth.signOut(),u(!1)):e("/app")},P={minHeight:"100dvh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#020617",fontFamily:"-apple-system, BlinkMacSystemFont, system-ui, sans-serif",padding:"20px",paddingTop:"max(20px, env(safe-area-inset-top))",paddingBottom:"max(20px, env(safe-area-inset-bottom))",boxSizing:"border-box"},D={backgroundColor:"#ffffff",width:"100%",maxWidth:"420px",padding:"clamp(24px, 6vw, 48px)",borderRadius:"24px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",position:"relative",zIndex:10};return t?p.jsxs("div",{style:P,children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[p.jsx(Cr,{size:40,style:{color:"#6366F1",animation:"spin 1s linear infinite"}}),p.jsx("span",{style:{color:"#94A3B8",fontSize:"14px",fontWeight:500},children:"Verificando sesin..."})]}),p.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):f?p.jsxs("div",{style:P,children:[p.jsxs("div",{style:{...D,textAlign:"center"},children:[p.jsx("div",{style:{width:"64px",height:"64px",background:"#EEF2FF",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:p.jsx(Gx,{size:32,color:"#4F46E5"})}),p.jsx("h2",{style:{fontSize:"24px",fontWeight:900,color:"#0F172A",marginBottom:"8px"},children:"Verificacin de Seguridad"}),p.jsx("p",{style:{color:"#64748B",fontSize:"14px",marginBottom:"32px",lineHeight:"1.5"},children:"Tu cuenta est protegida. Abre Google Authenticator e introduce el cdigo."}),p.jsxs("form",{onSubmit:C,children:[p.jsxs("div",{style:{position:"relative",marginBottom:"24px"},children:[p.jsx(f4,{size:20,color:"#94A3B8",style:{position:"absolute",left:"16px",top:"16px"}}),p.jsx("input",{autoFocus:!0,value:v,onChange:j=>x(j.target.value.slice(0,6).replace(/[^0-9]/g,"")),placeholder:"000 000",style:{width:"100%",padding:"14px 14px 14px 50px",fontSize:"24px",fontWeight:"bold",letterSpacing:"4px",textAlign:"center",borderRadius:"12px",border:"2px solid #E2E8F0",outline:"none",color:"#0F172A"}})]}),d&&p.jsx("p",{style:{color:"#DC2626",fontSize:"13px",fontWeight:"bold",marginBottom:"16px"},children:d}),p.jsx("button",{type:"submit",disabled:c||v.length<6,style:{width:"100%",padding:"16px",borderRadius:"12px",border:"none",fontWeight:"bold",fontSize:"16px",cursor:"pointer",background:"linear-gradient(135deg, #4F46E5 0%, #4338CA 100%)",color:"white",opacity:c?.7:1},children:c?p.jsx(Cr,{className:"animate-spin",style:{margin:"0 auto"}}):"Verificar"})]}),p.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"24px",background:"transparent",border:"none",color:"#64748B",fontWeight:"bold",cursor:"pointer",fontSize:"13px"},children:"Cancelar"})]}),p.jsx("style",{children:".spin { animation: spin 1s linear infinite; }"})]}):p.jsxs("div",{style:P,children:[p.jsx("div",{style:{position:"fixed",top:"-10%",left:"-10%",width:"50%",height:"50%",background:"radial-gradient(circle, rgba(79,70,229,0.15) 0%, rgba(0,0,0,0) 70%)"}}),p.jsx("div",{style:{position:"fixed",bottom:"-10%",right:"-10%",width:"50%",height:"50%",background:"radial-gradient(circle, rgba(236,72,153,0.15) 0%, rgba(0,0,0,0) 70%)"}}),p.jsxs("div",{style:D,children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[p.jsx("h1",{style:{fontSize:"28px",fontWeight:900,color:"#0F172A",marginBottom:"8px",letterSpacing:"-0.5px"},children:r==="staff"?"Acceso Staff":"Bienvenido"}),p.jsx("p",{style:{fontSize:"14px",color:"#64748B"},children:"Introduce tus credenciales para continuar."})]}),p.jsxs("div",{style:{background:"#F1F5F9",padding:"4px",borderRadius:"12px",display:"flex",marginBottom:"32px"},children:[p.jsx("button",{onClick:()=>i("user"),style:{flex:1,padding:"10px",borderRadius:"10px",border:"none",cursor:"pointer",fontWeight:"bold",fontSize:"14px",background:r==="user"?"white":"transparent",color:r==="user"?"#0F172A":"#64748B",boxShadow:r==="user"?"0 2px 4px rgba(0,0,0,0.05)":"none",transition:"all 0.2s"},children:"Creador"}),p.jsx("button",{onClick:()=>i("staff"),style:{flex:1,padding:"10px",borderRadius:"10px",border:"none",cursor:"pointer",fontWeight:"bold",fontSize:"14px",background:r==="staff"?"white":"transparent",color:r==="staff"?"#0F172A":"#64748B",boxShadow:r==="staff"?"0 2px 4px rgba(0,0,0,0.05)":"none",transition:"all 0.2s"},children:"Staff"})]}),p.jsxs("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[p.jsxs("div",{style:{position:"relative"},children:[p.jsx(Oc,{size:20,color:"#94A3B8",style:{position:"absolute",left:"16px",top:"14px"}}),p.jsx("input",{value:s,onChange:j=>o(j.target.value),placeholder:r==="staff"?"ID de Empleado":"correo@ejemplo.com",style:{width:"100%",padding:"14px 14px 14px 48px",borderRadius:"12px",border:"2px solid #F1F5F9",fontSize:"15px",outline:"none",color:"#0F172A",fontWeight:500,transition:"border 0.2s"},onFocus:j=>j.target.style.borderColor="#4F46E5",onBlur:j=>j.target.style.borderColor="#F1F5F9"})]}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx(qx,{size:20,color:"#94A3B8",style:{position:"absolute",left:"16px",top:"14px"}}),p.jsx("input",{type:"password",value:a,onChange:j=>l(j.target.value),placeholder:"",style:{width:"100%",padding:"14px 14px 14px 48px",borderRadius:"12px",border:"2px solid #F1F5F9",fontSize:"15px",outline:"none",color:"#0F172A",fontWeight:500,transition:"border 0.2s"},onFocus:j=>j.target.style.borderColor="#4F46E5",onBlur:j=>j.target.style.borderColor="#F1F5F9"})]}),d&&p.jsx("div",{style:{padding:"12px",background:"#FEF2F2",color:"#DC2626",borderRadius:"10px",fontSize:"13px",fontWeight:"bold",textAlign:"center",border:"1px solid #FCA5A5"},children:d}),p.jsx("button",{type:"submit",disabled:c,style:{marginTop:"8px",padding:"16px",borderRadius:"12px",border:"none",cursor:"pointer",fontWeight:"bold",fontSize:"16px",background:"linear-gradient(135deg, #4F46E5 0%, #4338CA 100%)",color:"white",opacity:c?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 4px 12px rgba(79, 70, 229, 0.3)"},children:c?p.jsx(Cr,{className:"spin"}):p.jsxs(p.Fragment,{children:["Entrar ",p.jsx(Yf,{size:20})]})})]}),r==="user"&&p.jsxs("div",{style:{marginTop:"32px",textAlign:"center",fontSize:"14px",color:"#64748B"},children:["No tienes cuenta? ",p.jsx(us,{to:"/register",style:{color:"#4F46E5",fontWeight:"bold",textDecoration:"none"},children:"Regstrate gratis"}),p.jsx("div",{style:{marginTop:"12px"},children:p.jsx(us,{to:"/forgot-password",style:{color:"#94A3B8",fontSize:"13px",textDecoration:"none"},children:"Olvidaste tu contrasea?"})})]})]})]})}const wj={getMyReferralCode:async()=>{const{data:{user:e}}=await R.auth.getUser();if(!e)return null;const{data:t}=await R.from("profiles").select("referral_code, username").eq("id",e.id).single();return(t==null?void 0:t.referral_code)||(t==null?void 0:t.username)||e.id.slice(0,8)},getNetwork:async()=>{const{data:{user:e}}=await R.auth.getUser();if(!e)return null;const{data:t}=await R.from("profiles").select("id, username, avatar_url, total_earnings").eq("id",e.id).single();if(!t)return null;const{data:n}=await R.from("profiles").select("id, username, avatar_url, total_earnings").eq("referred_by",e.id);return{...t,level:0,children:await Promise.all((n||[]).map(async i=>{const{data:s}=await R.from("profiles").select("id, username, avatar_url, total_earnings").eq("referred_by",i.id);return{...i,level:1,children:(s||[]).map(o=>({...o,level:2,children:[]}))}}))}},registerReferral:async e=>{const{data:t}=await R.from("profiles").select("id").eq("referral_code",e).single();if(t){const{data:{user:n}}=await R.auth.getUser();n&&await R.from("profiles").update({referred_by:t.id}).eq("id",n.id)}}};function xj(){const e=Lr(),[t]=R1(),[n,r]=b.useState(!1),[i,s]=b.useState(""),[o,a]=b.useState({email:"",password:"",fullName:"",role:"user"}),[l,c]=b.useState("");b.useEffect(()=>{const f=t.get("ref");f&&c(f)},[t]);const u=async f=>{f.preventDefault(),r(!0),s("");try{const{data:m,error:v}=await R.auth.signUp({email:o.email,password:o.password,options:{data:{full_name:o.fullName,role:o.role}}});if(v)throw v;l&&m.user&&await wj.registerReferral(l),alert("Cuenta creada con xito. Revisa tu email."),e("/login")}catch(m){s(m.message||"Error al registrarse")}finally{r(!1)}},d={minHeight:"100dvh",display:"flex",alignItems:"center",justifyContent:"center",background:"#020617",padding:"20px",paddingTop:"max(20px, env(safe-area-inset-top))",paddingBottom:"max(20px, env(safe-area-inset-bottom))",fontFamily:"-apple-system, BlinkMacSystemFont, system-ui, sans-serif",boxSizing:"border-box"},h={width:"100%",maxWidth:"480px",background:"white",borderRadius:"24px",padding:"clamp(24px, 5vw, 40px)",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"};return p.jsxs("div",{style:d,children:[p.jsxs("div",{className:"animate-enter",style:h,children:[p.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[p.jsx("h1",{style:{fontSize:"28px",fontWeight:900,color:"#0F172A",marginBottom:"8px"},children:"nete a LinkPay"}),p.jsx("p",{style:{color:"#64748B",fontSize:"14px"},children:"Crea tu cuenta y empieza a monetizar hoy."})]}),l&&p.jsxs("div",{style:{background:"#F0FDF4",border:"1px solid #BBF7D0",borderRadius:"12px",padding:"12px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",color:"#166534",fontSize:"13px",fontWeight:"600"},children:[p.jsx("div",{style:{background:"#DCFCE7",padding:"6px",borderRadius:"50%"},children:p.jsx(u0,{size:16})}),p.jsx("div",{children:"Has sido invitado. Ests en la red!"})]}),i&&p.jsxs("div",{style:{background:"#FEF2F2",color:"#DC2626",padding:"12px",borderRadius:"8px",fontSize:"13px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px",fontWeight:"bold"},children:[p.jsx(Vx,{size:16})," ",i]}),p.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:[p.jsxs("button",{type:"button",onClick:()=>a({...o,role:"user"}),style:{flex:1,padding:"16px",borderRadius:"12px",border:o.role==="user"?"2px solid #2563EB":"1px solid #E2E8F0",background:o.role==="user"?"#EFF6FF":"white",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},children:[p.jsx(Xf,{size:20,color:o.role==="user"?"#2563EB":"#64748B",style:{marginBottom:"8px"}}),p.jsx("div",{style:{fontWeight:"800",color:"#0F172A",fontSize:"14px"},children:"Creador"}),p.jsx("div",{style:{fontSize:"11px",color:"#64748B",marginTop:"4px"},children:"Monetiza tu trfico."})]}),p.jsxs("button",{type:"button",onClick:()=>a({...o,role:"advertiser"}),style:{flex:1,padding:"16px",borderRadius:"12px",border:o.role==="advertiser"?"2px solid #DC2626":"1px solid #E2E8F0",background:o.role==="advertiser"?"#FEF2F2":"white",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},children:[p.jsx($5,{size:20,color:o.role==="advertiser"?"#DC2626":"#64748B",style:{marginBottom:"8px"}}),p.jsx("div",{style:{fontWeight:"800",color:"#0F172A",fontSize:"14px"},children:"Anunciante"}),p.jsx("div",{style:{fontSize:"11px",color:"#64748B",marginTop:"4px"},children:"Compra trfico premium."})]})]}),p.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[p.jsxs("div",{style:{position:"relative"},children:[p.jsx(Y4,{size:18,style:{position:"absolute",left:"16px",top:"14px",color:"#94A3B8"}}),p.jsx("input",{type:"text",required:!0,placeholder:"Nombre Completo",value:o.fullName,onChange:f=>a({...o,fullName:f.target.value}),style:{width:"100%",padding:"14px 14px 14px 48px",border:"1px solid #E2E8F0",borderRadius:"12px",fontSize:"15px",outline:"none",fontWeight:500}})]}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx(Oc,{size:18,style:{position:"absolute",left:"16px",top:"14px",color:"#94A3B8"}}),p.jsx("input",{type:"email",required:!0,placeholder:"Email",value:o.email,onChange:f=>a({...o,email:f.target.value}),style:{width:"100%",padding:"14px 14px 14px 48px",border:"1px solid #E2E8F0",borderRadius:"12px",fontSize:"15px",outline:"none",fontWeight:500}})]}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx(qx,{size:18,style:{position:"absolute",left:"16px",top:"14px",color:"#94A3B8"}}),p.jsx("input",{type:"password",required:!0,placeholder:"Contrasea",value:o.password,onChange:f=>a({...o,password:f.target.value}),style:{width:"100%",padding:"14px 14px 14px 48px",border:"1px solid #E2E8F0",borderRadius:"12px",fontSize:"15px",outline:"none",fontWeight:500}})]}),!t.get("ref")&&p.jsxs("div",{style:{position:"relative"},children:[p.jsx(u0,{size:18,style:{position:"absolute",left:"16px",top:"14px",color:"#94A3B8"}}),p.jsx("input",{type:"text",placeholder:"Cdigo de Invitacin (Opcional)",value:l,onChange:f=>c(f.target.value),style:{width:"100%",padding:"14px 14px 14px 48px",border:"1px solid #E2E8F0",borderRadius:"12px",fontSize:"15px",outline:"none",fontWeight:500}})]}),p.jsx("button",{type:"submit",disabled:n,style:{width:"100%",padding:"16px",marginTop:"8px",background:o.role==="advertiser"?"#DC2626":"#2563EB",color:"white",borderRadius:"12px",fontWeight:"bold",fontSize:"16px",border:"none",cursor:"pointer",opacity:n?.7:1,display:"flex",justifyContent:"center",gap:"8px",alignItems:"center"},children:n?p.jsx(Cr,{className:"spin"}):p.jsxs(p.Fragment,{children:["Crear Cuenta ",p.jsx(Yf,{size:18})]})})]}),p.jsxs("div",{style:{marginTop:"32px",textAlign:"center",fontSize:"14px",color:"#64748B"},children:["Ya tienes cuenta? ",p.jsx(us,{to:"/login",style:{color:"#2563EB",fontWeight:"bold",textDecoration:"none"},children:"Inicia Sesin"})]})]}),p.jsx("style",{children:".spin { animation: spin 1s linear infinite; }"})]})}function bj(){const[e,t]=b.useState(""),[n,r]=b.useState(!1),[i,s]=b.useState(!1),[o,a]=b.useState(""),l=async d=>{d.preventDefault(),r(!0),a("");try{const{error:h}=await R.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/update-password`});if(h)throw h;s(!0)}catch(h){a(h.message)}finally{r(!1)}},c={minHeight:"100dvh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",padding:"20px",paddingTop:"max(20px, env(safe-area-inset-top))",paddingBottom:"max(20px, env(safe-area-inset-bottom))",fontFamily:"-apple-system, BlinkMacSystemFont, system-ui, sans-serif",boxSizing:"border-box"},u={background:"white",width:"100%",maxWidth:"420px",padding:"clamp(24px, 6vw, 32px)",borderRadius:"20px",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)"};return p.jsxs("div",{style:c,children:[p.jsxs("div",{style:u,children:[p.jsxs(us,{to:"/login",style:{display:"flex",alignItems:"center",gap:"8px",color:"#64748b",fontSize:"14px",fontWeight:700,marginBottom:"24px",textDecoration:"none"},children:[p.jsx(I5,{size:16})," Volver"]}),p.jsx("h1",{style:{fontSize:"24px",fontWeight:900,color:"#0f172a",marginBottom:"8px"},children:"Recuperar Acceso"}),p.jsx("p",{style:{color:"#64748b",marginBottom:"32px",fontSize:"14px"},children:"Te enviaremos un enlace seguro para restablecer tu contrasea."}),i?p.jsxs("div",{style:{background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"16px",padding:"24px",textAlign:"center"},children:[p.jsx("div",{style:{width:"48px",height:"48px",background:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:p.jsx(Wx,{color:"#16a34a",size:24})}),p.jsx("h3",{style:{fontWeight:700,color:"#166534",marginBottom:"4px"},children:"Correo Enviado!"}),p.jsx("p",{style:{color:"#15803d",fontSize:"14px"},children:"Revisa tu bandeja de entrada (y spam)."})]}):p.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[o&&p.jsx("div",{style:{color:"#dc2626",fontSize:"13px",fontWeight:700,background:"#fef2f2",padding:"12px",borderRadius:"10px"},children:o}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:700,color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Email"}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx(Oc,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),p.jsx("input",{type:"email",required:!0,value:e,onChange:d=>t(d.target.value),style:{width:"100%",paddingLeft:"48px",padding:"14px 14px 14px 48px",background:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",fontWeight:600,fontSize:"16px",outline:"none",color:"#0f172a",transition:"border-color 0.2s",boxSizing:"border-box"}})]})]}),p.jsx("button",{type:"submit",disabled:n,style:{width:"100%",background:"linear-gradient(135deg, #4f46e5 0%, #4338ca 100%)",color:"white",padding:"16px",borderRadius:"12px",fontWeight:700,fontSize:"16px",border:"none",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 14px rgba(79, 70, 229, 0.3)",opacity:n?.7:1,minHeight:"52px"},children:n?p.jsx(Cr,{size:20,style:{animation:"spin 1s linear infinite"}}):"Enviar Enlace"})]})]}),p.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}const ph={getOrCreateProfile:async e=>{const{data:t}=await R.from("bio_profiles").select("*, links:bio_links(*)").eq("user_id",e.id).maybeSingle();if(t)return t.links&&t.links.sort((s,o)=>s.order_index-o.order_index),t.button_style||(t.button_style="rounded"),t;const n=e.email.split("@")[0].replace(/[^a-zA-Z0-9]/g,"")+Math.floor(Math.random()*100),{data:r,error:i}=await R.from("bio_profiles").insert([{user_id:e.id,username:n,display_name:n,description:"Bienvenido a mi LinkPay.",theme:"light",button_style:"rounded",monetization_mode:"lite"}]).select().single();if(i)throw i;return{...r,links:[]}},getPublicProfile:async e=>{const{data:t}=await R.from("bio_profiles").select("*, links:bio_links(*)").eq("username",e).single();return t&&t.links&&t.links.sort((n,r)=>n.order_index-r.order_index),t},updateProfile:async(e,t)=>{await R.from("bio_profiles").update(t).eq("id",e)},addLink:async(e,t,n,r)=>{const{count:i}=await R.from("bio_links").select("*",{count:"exact",head:!0}).eq("profile_id",e),{data:s,error:o}=await R.from("bio_links").insert([{profile_id:e,title:t,url:n,order_index:(i||0)+1,block_type:(r==null?void 0:r.block_type)||"link",link_type:(r==null?void 0:r.link_type)||"normal",active:!0,clicks:0}]).select().single();return o?(console.error("[BioService] addLink failed:",o),null):s},updateLink:async(e,t)=>{await R.from("bio_links").update(t).eq("id",e)},deleteLink:async e=>{await R.from("bio_links").delete().eq("id",e)},reorderLinks:async e=>{try{const t=e.map((i,s)=>R.from("bio_links").update({order_index:s}).eq("id",i.id)),r=(await Promise.all(t)).filter(i=>i.error);if(r.length>0)throw console.error("[BioService] Some reorder updates failed:",r.map(i=>i.error)),new Error("Error al reordenar algunos enlaces")}catch(t){throw console.error("[BioService] Batch reorder failed:",t),t}},uploadImage:async(e,t,n)=>{const r=e.name.split(".").pop(),i=`${t}/${n}_${Date.now()}.${r}`,{error:s}=await R.storage.from("bio-images").upload(i,e,{upsert:!0});if(s)throw s;const{data:o}=R.storage.from("bio-images").getPublicUrl(i);return o.publicUrl},trackView:async(e,t)=>{await R.rpc("increment_bio_stats",{profile_row_id:e,amount:0})},trackLinkClick:async(e,t,n)=>{let r="0.0.0.0";try{const o=await(await fetch("https://api.ipify.org?format=json")).json();o.ip&&(r=o.ip)}catch(s){console.warn("[BioService] IP fallback",s)}const{error:i}=await R.rpc("track_bio_click",{p_profile_id:e,p_ip_address:r,p_user_agent:navigator.userAgent,p_country:(n==null?void 0:n.country)||"Unknown"});i&&console.error("[BioService] Secure tracking error:",i)},getAchievements:async e=>{const{data:t,error:n}=await R.from("bio_achievements").select("*").eq("profile_id",e).order("earned_at",{ascending:!1});return n?(console.error("[BioService] Get achievements error:",n),[]):t||[]}};let Bt=null;function pb(e){return/tablet|ipad|playbook|silk/i.test(e)?"Tablet":/Mobile|Android|iPhone|iPod|IEMobile|BlackBerry|Opera Mini|Windows Phone/i.test(e)?"Mobile":"Desktop"}function mb(e){return/Edg/i.test(e)?"Edge":/Chrome/i.test(e)&&!/Edg/i.test(e)?"Chrome":/Safari/i.test(e)&&!/Chrome/i.test(e)?"Safari":/Firefox/i.test(e)?"Firefox":/Opera|OPR/i.test(e)?"Opera":/MSIE|Trident/i.test(e)?"IE":"Unknown"}async function _j(){if(Bt)return Bt;const e=typeof navigator<"u"&&navigator.userAgent||"",t=pb(e),n=mb(e),r={country:"Unknown",countryCode:"XX",city:"Unknown",device:t,browser:n,ip:"0.0.0.0"};try{const i=await fetch("http://ip-api.com/json/?fields=status,country,countryCode,city,query",{method:"GET",cache:"no-store"});if(i.ok){const s=await i.json();if(s.status==="success")return Bt={country:s.country||"Unknown",countryCode:s.countryCode||"XX",city:s.city||"Unknown",device:t,browser:n,ip:s.query||"0.0.0.0"},Bt}}catch(i){console.warn("[GeoService] Primary API failed, trying fallback...",i)}try{const i=await fetch("https://ipapi.co/json/",{method:"GET",cache:"no-store"});if(i.ok){const s=await i.json();if(s.country_name)return Bt={country:s.country_name||"Unknown",countryCode:s.country_code||"XX",city:s.city||"Unknown",device:t,browser:n,ip:s.ip||"0.0.0.0"},Bt}}catch(i){console.warn("[GeoService] Fallback 1 failed, trying fallback 2...",i)}try{const i=await fetch("https://api.ipify.org?format=json");if(i.ok){const{ip:s}=await i.json();r.ip=s;const o=await fetch(`https://ipwhois.app/json/${s}`);if(o.ok){const a=await o.json();return Bt={country:a.country||"Unknown",countryCode:a.country_code||"XX",city:a.city||"Unknown",device:t,browser:n,ip:s},Bt}}}catch(i){console.warn("[GeoService] All APIs failed, using defaults",i)}return Bt=r,r}async function kj(){if(Bt)return Bt.ip;try{const e=await fetch("https://api.ipify.org?format=json");if(e.ok){const{ip:t}=await e.json();return t}}catch(e){console.warn("[GeoService] IP fetch failed",e)}return"0.0.0.0"}function Sj(){Bt=null}const Ej={getGeoData:_j,getClientIP:kj,resetGeoCache:Sj,parseDevice:pb,parseBrowser:mb};function Cj(){const{slug:e}=S1(),[t]=R1(),[n,r]=b.useState(null),[i,s]=b.useState(!0),[o,a]=b.useState(""),[l,c]=b.useState(5),[u,d]=b.useState(!1),h=b.useRef(!1);b.useEffect(()=>{(async()=>{s(!0),a("");try{if(e==="bio-redirect"){const M=t.get("url"),B=t.get("title"),Y=t.get("m")||"lite",ce=t.get("pid");if(!M)throw new Error("Destino no vlido.");r({title:B||"Sitio Externo",original_url:M,monetization_mode:Y}),s(!1)}else if(e)try{const M=await Wo.getLinkBySlug(e);M?(r(M),s(!1)):(a("Enlace no encontrado."),s(!1))}catch(M){console.error("[RedirectPage] Supabase error",M),a("Error de servidor al cargar el enlace."),s(!1)}else a("Enlace no encontrado."),s(!1)}catch(M){console.error("[RedirectPage] Error procesando el enlace",M),a("Error procesando el enlace."),s(!1)}})()},[e,t]),b.useEffect(()=>{if(i||!n||h.current)return;(()=>{const M=document.body,B=document.createElement("script"),Y=n.monetization_mode;Y==="lite"?B.innerHTML="(function(s){s.dataset.zone='10241642',s.src='https://nap5k.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))":Y==="standard"?B.innerHTML="(function(s){s.dataset.zone='10241641',s.src='https://groleegni.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))":Y==="turbo"&&(B.src="https://quge5.com/88/tag.min.js",B.dataset.zone="188350",B.async=!0,B.setAttribute("data-cfasync","false")),M.appendChild(B),h.current=!0})()},[i,n]);const[f,m]=b.useState(!1),v=b.useRef(!1);b.useEffect(()=>{if(i||o||v.current)return;const j=setInterval(async()=>{c(M=>M<=1?(clearInterval(j),v.current||(v.current=!0,m(!0),(async()=>{const Y=await Ej.getGeoData();try{if(e==="bio-redirect"){const ce=t.get("pid"),re=t.get("m")||"lite";ce&&await ph.trackLinkClick(ce,re,{country:Y.country,device:Y.device})}else e&&await Wo.trackClick(e,{device:Y.device,country:Y.country})}catch(ce){console.error("Tracking failed",ce)}finally{m(!1),d(!0)}})()),0):M-1)},1e3);return()=>clearInterval(j)},[i,o,e,t]);const x=()=>{n!=null&&n.original_url&&(window.location.href=n.original_url)},g={minHeight:"100dvh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"max(16px, env(safe-area-inset-top)) 16px max(16px, env(safe-area-inset-bottom)) 16px",background:"radial-gradient(circle at top, #0F172A 0%, #020617 55%, #020617 100%)",fontFamily:"-apple-system, BlinkMacSystemFont, system-ui, sans-serif",color:"#E5E7EB",boxSizing:"border-box"},y={width:"100%",maxWidth:420,borderRadius:24,padding:20,background:"rgba(15,23,42,0.92)",boxShadow:"0 24px 60px rgba(0,0,0,0.65)",border:"1px solid rgba(148,163,184,0.3)",backdropFilter:"blur(18px)"},w={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 12px",borderRadius:999,background:"rgba(22,163,74,0.1)",border:"1px solid rgba(34,197,94,0.4)",color:"#BBF7D0",fontSize:11,fontWeight:700,letterSpacing:1,textTransform:"uppercase",marginBottom:16},k={fontSize:14,fontWeight:600,color:"#9CA3AF",marginBottom:6,textAlign:"left"},S={fontSize:17,fontWeight:700,color:"#E5E7EB",background:"rgba(15,23,42,0.9)",borderRadius:16,padding:14,border:"1px solid rgba(55,65,81,0.8)",maxHeight:80,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",marginBottom:20},C={marginTop:18,fontSize:10,textTransform:"uppercase",letterSpacing:1.2,color:"#6B7280",textAlign:"center"},_={display:"flex",alignItems:"center",justifyContent:"center",marginBottom:20},P={width:96,height:96,borderRadius:"50%",background:"radial-gradient(circle at 30% 20%, #4F46E5 0%, #1E40AF 35%, #020617 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 0 0 4px rgba(79,70,229,0.3)"};if(i)return p.jsxs("div",{style:g,children:[p.jsx("div",{style:y,children:p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:16},children:[p.jsx(Cr,{className:"animate-spin",size:32}),p.jsx("p",{style:{fontSize:13,color:"#9CA3AF",margin:0},children:"Preparando tu enlace seguro"})]})}),p.jsx("style",{children:`.animate-spin { animation: spin 1s linear infinite; }
            @keyframes spin { 100% { transform: rotate(360deg); } }`})]});if(o)return p.jsx("div",{style:g,children:p.jsx("div",{style:y,children:p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{marginBottom:20},children:p.jsx("div",{style:{width:64,height:64,borderRadius:"50%",background:"rgba(239,68,68,0.08)",border:"1px solid rgba(248,113,113,0.7)",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(Jx,{size:30,color:"#F87171"})})}),p.jsx("h2",{style:{fontSize:20,fontWeight:800,margin:"0 0 8px",color:"#F9FAFB"},children:"Enlace no encontrado."}),p.jsx("p",{style:{fontSize:13,color:"#9CA3AF",margin:"0 0 20px"},children:"Es posible que haya expirado o que la URL sea incorrecta."}),p.jsx("a",{href:"/",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8,padding:"10px 18px",borderRadius:999,background:"#111827",color:"white",fontSize:14,fontWeight:700,textDecoration:"none",border:"1px solid #1F2937"},children:"Volver a LinkPay"}),p.jsx("div",{style:C,children:"LinkPay  Infraestructura de monetizacin"})]})})});const D=n!=null&&n.title?decodeURIComponent(n.title):"Sitio externo";return p.jsxs("div",{style:g,children:[p.jsxs("div",{style:y,children:[p.jsxs("div",{style:w,children:[p.jsx(Gx,{size:14}),p.jsx("span",{children:"Enlace verificado por LinkPay"})]}),p.jsx("div",{style:k,children:"Te diriges a"}),p.jsx("div",{style:S,children:D}),p.jsx("div",{style:_,children:u?p.jsxs("button",{onClick:x,style:{width:"100%",padding:"14px 16px",borderRadius:999,border:"none",cursor:"pointer",background:"linear-gradient(135deg, #4F46E5 0%, #6366F1 40%, #22C55E 100%)",color:"white",fontSize:15,fontWeight:800,display:"flex",alignItems:"center",justifyContent:"center",gap:8,boxShadow:"0 18px 40px rgba(79,70,229,0.45), 0 0 0 1px rgba(255,255,255,0.05)"},children:["Continuar",p.jsx(Q5,{size:18})]}):p.jsx("div",{style:P,children:f?p.jsxs(p.Fragment,{children:[p.jsx(Cr,{className:"animate-spin",size:24,style:{marginBottom:8}}),p.jsx("div",{style:{fontSize:10,fontWeight:700,opacity:.8},children:"SECURE"})]}):p.jsxs(p.Fragment,{children:[p.jsx(K5,{size:18,style:{opacity:.9,marginBottom:4}}),p.jsx("div",{style:{fontSize:32,fontWeight:900,lineHeight:1},children:l}),p.jsx("div",{style:{fontSize:11,fontWeight:600,opacity:.9},children:"segundos"})]})})}),!u&&p.jsx("div",{style:{height:4,width:"100%",background:"rgba(31,41,55,0.9)",borderRadius:999,overflow:"hidden"},children:p.jsx("div",{style:{height:"100%",width:`${(5-l)/5*100}%`,background:"linear-gradient(to right, #4F46E5, #22C55E)",transition:"width 1s linear"}})}),p.jsx("div",{style:{marginTop:14,fontSize:11,color:"#6B7280",textAlign:"center"},children:"Protegido por la capa anti-fraude de LinkPay. Nunca compartas tus contraseas."}),p.jsx("div",{style:C,children:"LinkPay  Monetiza cada clic"})]}),p.jsx("style",{children:`.animate-spin { animation: spin 1s linear infinite; }
          @keyframes spin { 100% { transform: rotate(360deg); } }`})]})}const Tj={instagram:{icon:d4,color:"#E4405F"},twitter:{icon:K4,color:"#1DA1F2"},youtube:{icon:iA,color:"#FF0000"},twitch:{icon:H4,color:"#9146FF"},github:{icon:r4,color:"#333"},linkedin:{icon:x4,color:"#0A66C2"},facebook:{icon:e4,color:"#1877F2"},tiktok:{icon:A4,color:"#000"},shop:{icon:F4,color:"#16a34a"},email:{icon:Oc,color:"#EA4335"},website:{icon:s4,color:"#6366f1"},link:{icon:v4,color:"#64748b"}};function Pj(){var h,f;const{username:e}=S1(),[t,n]=b.useState(null),[r,i]=b.useState(!0);if(b.useEffect(()=>{(async()=>{if(e){const v=await ph.getPublicProfile(e);n(v),ph.trackView(v.id,v.monetization_mode).catch(x=>console.error("View track error",x))}i(!1)})()},[e]),b.useEffect(()=>{if(!t)return;document.title=`${t.display_name} | LinkPay`;let m=document.querySelector('meta[name="description"]');m||(m=document.createElement("meta"),m.setAttribute("name","description"),document.head.appendChild(m)),m.setAttribute("content",t.description||`Visita los enlaces de ${t.display_name}`);const v=(x,g)=>{let y=document.querySelector(`meta[property="${x}"]`);y||(y=document.createElement("meta"),y.setAttribute("property",x),document.head.appendChild(y)),y.setAttribute("content",g)};v("og:title",`${t.display_name} | LinkPay`),v("og:description",t.description||`Visita los enlaces de ${t.display_name}`),v("og:type","profile"),t.avatar_url&&v("og:image",t.avatar_url),v("og:url",window.location.href)},[t]),r)return p.jsx("div",{style:{minHeight:"100dvh",display:"flex",alignItems:"center",justifyContent:"center",background:"#F8FAFC"},children:p.jsx(Cr,{className:"animate-spin text-slate-400"})});if(!t)return p.jsxs("div",{style:{minHeight:"100dvh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#F8FAFC",padding:"20px",textAlign:"center"},children:[p.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",color:"#1E293B",marginBottom:"8px"},children:"Perfil no encontrado"}),p.jsxs("p",{style:{color:"#64748B",marginBottom:"24px"},children:["El usuario @",e," no existe."]}),p.jsx("a",{href:"/",style:{background:"#000",color:"#fff",padding:"12px 24px",borderRadius:"100px",textDecoration:"none",fontWeight:"bold"},children:"Crear mi LinkPay"})]});const s={minHeight:"100dvh",padding:"max(40px, env(safe-area-inset-top)) 16px max(60px, env(safe-area-inset-bottom)) 16px",display:"flex",flexDirection:"column",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:["light","pastel"].includes(t.theme)?"#1F2937":"#FFFFFF",boxSizing:"border-box"},o=["light","pastel"].includes(t.theme);if(t.theme==="custom"&&t.background_url)s.backgroundImage=`url(${t.background_url})`;else{const m={light:{backgroundColor:"#F8FAFC"},dark:{backgroundColor:"#111827"},blue:{backgroundColor:"#2563EB"},gradient:{background:"linear-gradient(135deg, #6366F1 0%, #A855F7 100%)"},neon:{backgroundColor:"#000000",boxShadow:"inset 0 0 100px rgba(57, 255, 20, 0.1)"},pastel:{background:"linear-gradient(135deg, #fce7f3 0%, #ede9fe 50%, #dbeafe 100%)"},brutalist:{backgroundColor:"#FFFFFF",border:"4px solid #000000"}};Object.assign(s,m[t.theme]||m.light)}const a=()=>{const m={display:"flex",alignItems:"center",width:"100%",padding:"16px 20px",marginBottom:"16px",textDecoration:"none",fontWeight:700,fontSize:"16px",transition:"transform 0.1s",cursor:"pointer",position:"relative",overflow:"hidden",border:"none"};let v={borderRadius:"12px"};t.button_style==="square"&&(v={borderRadius:"0px"}),t.button_style==="pill"&&(v={borderRadius:"100px"});let x={};if(t.button_style==="outline"){const g=t.accent_color||"white";x={background:"transparent",color:g,border:`2px solid ${g}`,boxShadow:"none"}}else if(t.button_style==="glass")x={background:"rgba(255,255,255,0.1)",color:"white",border:"1px solid rgba(255,255,255,0.2)",backdropFilter:"blur(10px)",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"};else if(t.button_style==="shadow"){v={borderRadius:"12px"};const g=t.accent_color||"white",y=t.accent_color&&parseInt(t.accent_color.replace("#",""),16)<8947848;x={background:g,color:y?"white":"black",border:"2px solid black",boxShadow:"4px 4px 0px 0px rgba(0,0,0,1)"}}else t.accent_color?x={background:t.accent_color,color:"white",border:"none",boxShadow:`0 4px 14px ${t.accent_color}40`}:x=o?{background:"white",color:"#1F2937",border:"1px solid #E5E7EB",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"}:{background:"rgba(255,255,255,0.15)",color:"white",border:"1px solid rgba(255,255,255,0.2)",backdropFilter:"blur(10px)"};return{...m,...v,...x}},l=m=>{if(!m.active)return!1;const v=new Date;return!(m.visible_from&&new Date(m.visible_from)>v||m.visible_until&&new Date(m.visible_until)<v)},c=m=>m?m.includes("youtube.com")||m.includes("youtu.be")?"youtube":m.includes("spotify.com")?"spotify":m.includes("tiktok.com")?"tiktok":null:null,u=(m,v)=>{try{if(v==="youtube"){const x=m.match(/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return x?`https://www.youtube.com/embed/${x[1]}`:null}if(v==="spotify"){const x=m.match(/spotify\.com\/(track|album|playlist|episode)\/([a-zA-Z0-9]+)/);return x?`https://open.spotify.com/embed/${x[1]}/${x[2]}?utm_source=generator&theme=0`:null}if(v==="tiktok")return null}catch(x){console.error("Embed URL error:",x)}return null},d=(m,v)=>{m.preventDefault();const x=encodeURIComponent(v.url),g=encodeURIComponent(v.title),y=t.monetization_mode||"lite",w=t.id;window.location.href=`/l/bio-redirect?url=${x}&title=${g}&m=${y}&pid=${w}`};return p.jsxs("div",{style:s,children:[p.jsx("style",{children:`
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(16px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}),p.jsxs("div",{style:{width:"100%",maxWidth:"600px",textAlign:"center"},children:[p.jsx("div",{style:{marginBottom:"24px",position:"relative",display:"inline-block"},children:t.avatar_url?p.jsx("img",{src:t.avatar_url,style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"4px solid rgba(255,255,255,0.2)",boxShadow:"0 8px 20px rgba(0,0,0,0.1)"},alt:"Avatar"}):p.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"rgba(255,255,255,0.2)",border:"4px solid rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",fontWeight:"bold",opacity:.8},children:(h=t.display_name)==null?void 0:h[0]})}),p.jsxs("h1",{style:{fontSize:"24px",fontWeight:900,marginBottom:"8px",letterSpacing:"-0.5px"},children:["@",t.display_name]}),p.jsx("p",{style:{fontSize:"15px",opacity:.9,marginBottom:"40px",lineHeight:1.6,maxWidth:"320px",margin:"0 auto 40px auto",whiteSpace:"pre-wrap"},children:t.description}),p.jsxs("div",{style:{width:"100%",paddingBottom:"80px"},children:[t.cta_text&&t.cta_url&&p.jsxs("a",{href:t.cta_url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"18px 24px",marginBottom:"24px",textDecoration:"none",fontWeight:800,fontSize:"17px",borderRadius:"100px",background:t.accent_color||"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)",color:"white",border:"none",boxShadow:`0 4px 20px ${t.accent_color||"#f59e0b"}60, 0 0 0 4px ${t.accent_color||"#f59e0b"}20`,cursor:"pointer",animation:"fadeInUp 0.4s ease-out both",transition:"transform 0.2s, box-shadow 0.2s",gap:"10px"},onMouseEnter:m=>{m.currentTarget.style.transform="scale(1.03)",m.currentTarget.style.boxShadow=`0 6px 25px ${t.accent_color||"#f59e0b"}80`},onMouseLeave:m=>{m.currentTarget.style.transform="scale(1)",m.currentTarget.style.boxShadow=`0 4px 20px ${t.accent_color||"#f59e0b"}60, 0 0 0 4px ${t.accent_color||"#f59e0b"}20`},children:[p.jsx(dh,{size:20,fill:"currentColor"}),t.cta_text]}),(f=t.links)==null?void 0:f.filter(m=>l(m)).map((m,v)=>{const x=m.icon&&Tj[m.icon],g=x==null?void 0:x.icon,y=m.block_type||"link";if(console.log(`[PublicBioPage] Link: "${m.title}", block_type: ${m.block_type}, resolved: ${y}`),y==="header")return p.jsx("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:700,color:o?"#1f2937":"white",opacity:.9,margin:"24px 0 16px",animation:`fadeInUp 0.4s ease-out ${v*.08}s both`},children:m.title},m.id);if(y==="divider")return p.jsx("div",{style:{width:"100%",height:"1px",background:o?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.15)",margin:"16px 0",animation:`fadeInUp 0.4s ease-out ${v*.08}s both`}},m.id);const w=c(m.url),k=w?u(m.url,w):null;return k&&(w==="youtube"||w==="spotify")?p.jsxs("div",{style:{width:"100%",marginBottom:"16px",borderRadius:"12px",overflow:"hidden",animation:`fadeInUp 0.4s ease-out ${v*.08}s both`},children:[m.title&&p.jsxs("div",{style:{padding:"12px 16px",background:o?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.1)",fontWeight:600,fontSize:"14px",color:o?"#1f2937":"white"},children:[w==="youtube"?"":""," ",m.title]}),p.jsx("iframe",{src:k,style:{width:"100%",height:w==="youtube"?"215px":"152px",border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})]},m.id):y==="spotlight"?p.jsxs("a",{href:m.url,onClick:S=>d(S,m),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"20px 24px",marginBottom:"16px",textDecoration:"none",fontWeight:800,fontSize:"17px",borderRadius:"16px",background:`linear-gradient(135deg, ${t.accent_color||"#f59e0b"} 0%, ${t.accent_color?t.accent_color+"cc":"#fbbf24"} 100%)`,color:"white",border:"none",boxShadow:`0 8px 30px ${t.accent_color||"#f59e0b"}40`,cursor:"pointer",animation:`fadeInUp 0.4s ease-out ${v*.08}s both, pulse 2s ease-in-out infinite`,transition:"transform 0.2s, box-shadow 0.2s",gap:"10px"},onMouseDown:S=>S.currentTarget.style.transform="scale(0.98)",onMouseUp:S=>S.currentTarget.style.transform="scale(1)",onMouseLeave:S=>S.currentTarget.style.transform="scale(1)",children:[" ",m.title]},m.id):p.jsxs("a",{href:m.url,onClick:S=>d(S,m),style:{...a(),animation:`fadeInUp 0.4s ease-out ${v*.08}s both`},onMouseDown:S=>S.currentTarget.style.transform="scale(0.98)",onMouseUp:S=>S.currentTarget.style.transform="scale(1)",onMouseLeave:S=>S.currentTarget.style.transform="scale(1)",children:[g&&p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:x.color,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:p.jsx(g,{size:20})}),m.thumbnail_url&&!m.icon&&p.jsx("img",{src:m.thumbnail_url,style:{width:"40px",height:"40px",borderRadius:"8px",objectFit:"cover",position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"},alt:""}),p.jsx("span",{style:{flex:1,textAlign:"center",padding:m.thumbnail_url||m.icon?"0 40px":"0"},children:m.title})]},m.id)})]}),p.jsx("div",{style:{position:"fixed",bottom:"24px",left:0,right:0,textAlign:"center",pointerEvents:"none"},children:p.jsxs("a",{href:"/",style:{display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"11px",fontWeight:900,textTransform:"uppercase",letterSpacing:"1px",textDecoration:"none",opacity:.6,color:"inherit",pointerEvents:"auto",background:"rgba(0,0,0,0.05)",padding:"6px 12px",borderRadius:"100px",backdropFilter:"blur(4px)"},children:[p.jsx("div",{style:{padding:"2px",background:"currentColor",borderRadius:"4px",color:o?"white":"black"},children:p.jsx(dh,{size:10,fill:"currentColor"})}),"LinkPay"]})})]})]})}const Aj={common:{loading:"Cargando...",error:"Error",save:"Guardar Cambios",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",active:"Activo"},dashboard:{chip:"Creator Dashboard",title:"Panel",subtitle:"Mira cunto dinero generan tus links y tu pgina bio en tiempo real.",stats:{revenue:{label:"Ingresos totales",sub:"Links + Bio, combinados",links:"Enlaces",bio:"Bio Page"},clicks:{label:"Clics totales",sub:"Impacto real de tus links"},referrals:{label:"Programa de referidos",sub:"Invita creadores, cobra en automtico",text:"Comparte tu link personal y genera ingresos adicionales por cada creador que moneticemos.",copy_alert:"Link de referido copiado!"},rpm:{label:"RPM medio",sub:"Ingreso por cada 1.000 visitas",help:"Promedio de ingresos por cada 1000 visitas nicas."}},recent:{title:"Actividad reciente",subtitle:"ltimos Smart Links creados y cunto estn generando.",view_all:"Ver todos",table:{link:"ENLACE",mode:"MODO",visits:"VISITAS",revenue:"INGRESOS"}},loading_text:"Sincronizando datos financieros..."},analytics:{loading:"Cargando analticas en tiempo real...",chip:"Live Analytics",header:"Mtricas de rendimiento en tiempo real para todos tus enlaces.",timeline:{title:"Trfico e Ingresos",badge:"ltimos 30 das",subtitle:"Actividad combinada de todos tus Smart Links y Bio Page.",empty_title:"An no hay suficientes datos.",empty_desc:"Empieza a compartir tus Smart Links para activar las analticas.",clicks:"Clics",earnings:"Ganancias"},locations:{title:"Top Geografas",subtitle:"Pases que generan ms clics.",empty:"Sin datos geogrficos.",clicks:"Clics"},devices:{title:"Dispositivos",subtitle:"Divisin del trfico entre mvil, pc y otros.",empty:"Esperando trfico...",total:"Clics Totales",desktop:"Escritorio",mobile:"Mvil",tablet:"Tablet",other:"Otro",visitors:"Visitantes"}},settings:{header:{title:"Ajustes",subtitle:"Gestiona tu identidad, seguridad y mtodos de cobro.",verified:"VERIFICADO"},nav:{profile:"Perfil",security:"Seguridad",billing:"Pagos",logout:"Cerrar Sesin"},profile:{name_label:"Nombre Completo",bio_label:"Biografa",bio_placeholder:"Cuntanos sobre ti..."},security:{title:"Seguridad de la Cuenta",desc:"Protege tu cuenta con autenticacin de dos factores.","2fa_title":"Autenticacin 2FA","2fa_on":"Tu cuenta est protegida.","2fa_off":"Recomendado para proteger tus ingresos.",enable:"Activar",disable:"Desactivar",scan:"Escanea con Google Authenticator",confirm:"Confirmar Escaneo"},billing:{title:"Mtodos de Cobro",desc:"Configura dnde quieres recibir tus ganancias.",paypal_label:"Correo asociado a PayPal",paypal_help:"Usado para pagos automticos mensuales.",bank_title:"Transferencia Bancaria",bank_label:"IBAN / SWIFT / Cuenta",bank_help:"Solo para retiros mayores a $500."},common:{save:"Guardar Cambios"}},tech:{title:"LinkPay Neural Engine",desc:"Nuestra infraestructura de monetizacin impulsada por IA optimiza cada visita en tiempo real, garantizando el CPM ms alto sin comprometer la experiencia del usuario.",status:{online:"SISTEMA ONLINE",latency:"lat: 12ms | region: global-edge"},metrics:{speed:"Velocidad Subasta",ai:"Prediccin IA",nodes:"Nodos Activos"},banner:{text:"Proteccin Activa:",sub:"El algoritmo bloquea el 99.9% del trfico bot antes de que afecte tu reputacin."},features:{cpm_title:"CPM Predictivo",cpm_desc:"No vendemos a ciegas. Nuestra IA predice qu anunciante pagar ms en el futuro inmediato y reserva el espacio.",edge_title:"Edge Computing Global",edge_desc:'Tus enlaces se sirven desde 240+ puntos de presencia (PoP). La lgica ocurre en el "borde", eliminando latencia.',fraud_title:"Escudo Anti-Fraude",fraud_desc:"Huella digital avanzada para detectar bots. Solo monetizas humanos reales, protegiendo tu cuenta.",scale_title:"Escalabilidad Serverless",scale_desc:"Sin servidores. Nuestra arquitectura escala automticamente para manejar millones de clics por segundo."}}},$u={common:{loading:"Loading...",error:"Error",save:"Save Changes",cancel:"Cancel",delete:"Delete",edit:"Edit",active:"Active"},dashboard:{chip:"Creator Dashboard",title:"Dashboard",subtitle:"See how much money your links and bio page are generating in real time.",stats:{revenue:{label:"Total Revenue",sub:"Links + Bio, combined",links:"Links",bio:"Bio Page"},clicks:{label:"Total Clicks",sub:"Real impact of your links"},referrals:{label:"Referral Program",sub:"Invite creators, earn automatically",text:"Share your personal link and earn additional income for each creator we monetize.",copy_alert:"Referral link copied!"},rpm:{label:"Average RPM",sub:"Income per 1,000 visits",help:"Average revenue per 1,000 unique visits."}},recent:{title:"Recent Activity",subtitle:"Latest Smart Links created and their revenue.",view_all:"View All",table:{link:"LINK",mode:"MODE",visits:"VISITS",revenue:"REVENUE"}},loading_text:"Synchronizing financial data..."},analytics:{loading:"Loading real-time analytics...",chip:"Live Analytics",header:"Real-time performance metrics for all your links.",timeline:{title:"Traffic & Revenue",badge:"Last 30 days",subtitle:"Combined activity from all your Smart Links and Bio Page.",empty_title:"Not enough data yet.",empty_desc:"Start sharing your Smart Links to activate analytics.",clicks:"Clicks",earnings:"Earnings"},locations:{title:"Top Geographies",subtitle:"Countries generating the most clicks.",empty:"No geographic data.",clicks:"Clicks"},devices:{title:"Devices",subtitle:"Traffic split between mobile, desktop, and others.",empty:"Waiting for traffic...",total:"Total Clicks",desktop:"Desktop",mobile:"Mobile",tablet:"Tablet",other:"Other",visitors:"Visitors"}},settings:{header:{title:"Settings",subtitle:"Manage your identity, security, and payout methods.",verified:"VERIFIED"},nav:{profile:"Profile",security:"Security",billing:"Payouts",logout:"Log Out"},profile:{name_label:"Full Name",bio_label:"Bio",bio_placeholder:"Tell us about yourself..."},security:{title:"Account Security",desc:"Protect your account with two-factor authentication.","2fa_title":"2FA Authentication","2fa_on":"Your account is protected.","2fa_off":"Recommended to protect your revenue.",enable:"Enable",disable:"Disable",scan:"Scan with Google Authenticator",confirm:"Confirm Scan"},billing:{title:"Payout Methods",desc:"Configure where you want to receive your earnings.",paypal_label:"PayPal Email",paypal_help:"Used for automatic monthly payouts.",bank_title:"Bank Transfer",bank_label:"IBAN / SWIFT / Account",bank_help:"Only for withdrawals over $500."},common:{save:"Save Changes"}},tech:{title:"LinkPay Neural Engine",desc:"Our AI-driven monetization infrastructure optimizes every visit in real-time.",status:{online:"SYSTEM ONLINE",latency:"lat: 12ms | region: global-edge"},metrics:{speed:"Auction Speed",ai:"AI Prediction",nodes:"Active Nodes"},banner:{text:"Active Threat Protection:",sub:"Algorithm blocking 99.9% of bot traffic."},features:{cpm_title:"Predictive CPM",cpm_desc:"AI predicts highest paying advertisers before load.",edge_title:"Global Edge Computing",edge_desc:"served from 240+ global PoPs for zero latency.",fraud_title:"Anti-Fraud Shield",fraud_desc:"Advanced fingerprinting to block bots.",scale_title:"Serverless Scalability",scale_desc:"Scales to millions of clicks automatically."}}};function jj(e,t){return e&&t.split(".").reduce((n,r)=>n?n[r]:null,e)||t}const gb=b.createContext(void 0);function Rj({children:e}){const[t,n]=b.useState("es"),r={es:Aj,en:$u,fr:$u,it:$u},i=s=>{const o=r[t]||r.es;return jj(o,s)};return p.jsx(gb.Provider,{value:{language:t,setLanguage:n,t:i},children:e})}function Dj(){const e=b.useContext(gb);if(!e)throw new Error("useTranslation must be used within an I18nProvider");return e}const E0=[{icon:"",text:"Comparte tus Smart Links en redes sociales para maximizar ganancias"},{icon:"",text:"Personaliza tu BioPage para aumentar la confianza de tus seguidores"},{icon:"",text:"Revisa tus Analytics para saber qu contenido genera ms clics"},{icon:"",text:"Usa alias personalizados para que tus links sean ms memorables"},{icon:"",text:"Los enlaces con buenas descripciones generan 2x ms clics"},{icon:"",text:"Activa el modo Monetizacin para ganar con cada visita"},{icon:"",text:"Invita amigos y gana comisiones con el programa de referidos"},{icon:"",text:"Crea tu primer enlace en menos de 30 segundos"}];function Oj({onComplete:e,minDuration:t=2e3}){const[n,r]=b.useState(0),[i,s]=b.useState(0),[o,a]=b.useState(!1);b.useEffect(()=>{const c=setInterval(()=>{r(h=>(h+1)%E0.length)},1500),u=Date.now(),d=setInterval(()=>{const h=Date.now()-u,f=Math.min(h/t*100,100);s(f),h>=t&&(clearInterval(d),a(!0),setTimeout(e,500))},50);return()=>{clearInterval(c),clearInterval(d)}},[t,e]);const l=E0[n];return p.jsxs("div",{className:`lp-splash ${o?"fade-out":""}`,children:[p.jsx("style",{children:Ij}),p.jsxs("div",{className:"lp-splash-bg",children:[p.jsx("div",{className:"lp-splash-orb lp-splash-orb-1"}),p.jsx("div",{className:"lp-splash-orb lp-splash-orb-2"}),p.jsx("div",{className:"lp-splash-orb lp-splash-orb-3"})]}),p.jsxs("div",{className:"lp-splash-content",children:[p.jsxs("div",{className:"lp-splash-logo",children:[p.jsx("img",{src:"/icons/icon-192.png",alt:"LinkPay",className:"lp-splash-logo-img"}),p.jsx("div",{className:"lp-splash-logo-glow"})]}),p.jsx("h1",{className:"lp-splash-title",children:"LinkPay"}),p.jsx("p",{className:"lp-splash-subtitle",children:"Creator Studio"}),p.jsx("div",{className:"lp-splash-progress",children:p.jsx("div",{className:"lp-splash-progress-bar",style:{width:`${i}%`}})}),p.jsxs("div",{className:"lp-splash-tip",children:[p.jsx("span",{className:"lp-splash-tip-icon",children:l.icon}),p.jsx("span",{className:"lp-splash-tip-text",children:l.text})]},n)]}),p.jsx("div",{className:"lp-splash-footer",children:p.jsx("span",{children:"Cargando tu panel..."})})]})}const Ij=`
  .lp-splash {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: #020617;
    transition: opacity 0.5s ease, transform 0.5s ease;
  }

  .lp-splash.fade-out {
    opacity: 0;
    transform: scale(1.05);
  }

  /* === FONDO ANIMADO === */
  .lp-splash-bg {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
  }

  .lp-splash-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.6;
  }

  .lp-splash-orb-1 {
    width: 400px;
    height: 400px;
    top: -100px;
    left: -100px;
    background: radial-gradient(circle, rgba(99, 102, 241, 0.5) 0%, transparent 70%);
    animation: splash-float-1 6s ease-in-out infinite;
  }

  .lp-splash-orb-2 {
    width: 500px;
    height: 500px;
    bottom: -150px;
    right: -150px;
    background: radial-gradient(circle, rgba(168, 85, 247, 0.4) 0%, transparent 70%);
    animation: splash-float-2 8s ease-in-out infinite;
  }

  .lp-splash-orb-3 {
    width: 300px;
    height: 300px;
    bottom: 20%;
    left: 30%;
    background: radial-gradient(circle, rgba(34, 197, 94, 0.35) 0%, transparent 70%);
    animation: splash-float-3 7s ease-in-out infinite;
  }

  @keyframes splash-float-1 {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(30px, 20px); }
  }

  @keyframes splash-float-2 {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(-40px, -30px); }
  }

  @keyframes splash-float-3 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(20px, -20px) scale(1.1); }
  }

  /* === CONTENIDO === */
  .lp-splash-content {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 24px;
    text-align: center;
  }

  /* Logo */
  .lp-splash-logo {
    position: relative;
    width: 100px;
    height: 100px;
    margin-bottom: 24px;
    animation: splash-logo-pulse 2s ease-in-out infinite;
  }

  .lp-splash-logo-img {
    width: 100%;
    height: 100%;
    border-radius: 24px;
    object-fit: cover;
    box-shadow: 0 0 60px rgba(99, 102, 241, 0.5);
  }

  .lp-splash-logo-glow {
    position: absolute;
    inset: -20px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(99, 102, 241, 0.3) 0%, transparent 70%);
    animation: splash-glow 2s ease-in-out infinite alternate;
  }

  @keyframes splash-logo-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }

  @keyframes splash-glow {
    0% { opacity: 0.5; transform: scale(1); }
    100% { opacity: 1; transform: scale(1.2); }
  }

  /* Ttulo */
  .lp-splash-title {
    font-size: 36px;
    font-weight: 800;
    letter-spacing: -0.03em;
    color: #f9fafb;
    margin: 0 0 4px 0;
    background: linear-gradient(135deg, #f9fafb 0%, #a5b4fc 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .lp-splash-subtitle {
    font-size: 14px;
    font-weight: 500;
    color: #64748b;
    margin: 0 0 40px 0;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }

  /* Barra de progreso */
  .lp-splash-progress {
    width: 200px;
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 999px;
    overflow: hidden;
    margin-bottom: 32px;
  }

  .lp-splash-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #6366f1 0%, #a855f7 50%, #22c55e 100%);
    border-radius: 999px;
    transition: width 0.1s ease-out;
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
  }

  /* Tip rotativo */
  .lp-splash-tip {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 24px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    max-width: 320px;
    animation: splash-tip-fade 1.5s ease-in-out;
  }

  @keyframes splash-tip-fade {
    0% { opacity: 0; transform: translateY(10px); }
    20% { opacity: 1; transform: translateY(0); }
    80% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0.8; transform: translateY(-5px); }
  }

  .lp-splash-tip-icon {
    font-size: 24px;
    flex-shrink: 0;
  }

  .lp-splash-tip-text {
    font-size: 13px;
    color: #94a3b8;
    line-height: 1.5;
    text-align: left;
  }

  /* Footer */
  .lp-splash-footer {
    position: absolute;
    bottom: calc(env(safe-area-inset-bottom, 20px) + 40px);
    left: 0;
    right: 0;
    text-align: center;
    font-size: 12px;
    color: #475569;
    animation: splash-footer-pulse 1.5s ease-in-out infinite;
  }

  @keyframes splash-footer-pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
  }
`,tp=b.createContext({});function np(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const rp=typeof window<"u",yb=rp?b.useLayoutEffect:b.useEffect,Nc=b.createContext(null);function ip(e,t){e.indexOf(t)===-1&&e.push(t)}function sp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gn=(e,t,n)=>n>t?t:n<e?e:n;let op=()=>{};const Yn={},vb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function wb(e){return typeof e=="object"&&e!==null}const xb=e=>/^0[^.\s]+$/u.test(e);function ap(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gt=e=>e,Lj=(e,t)=>n=>t(e(n)),la=(...e)=>e.reduce(Lj),qo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class lp{constructor(){this.subscriptions=[]}add(t){return ip(this.subscriptions,t),()=>sp(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tn=e=>e*1e3,qt=e=>e/1e3;function bb(e,t){return t?e*(1e3/t):0}const _b=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Mj=1e-7,Nj=12;function $j(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=_b(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>Mj&&++a<Nj);return o}function ca(e,t,n,r){if(e===t&&n===r)return Gt;const i=s=>$j(s,0,1,e,n);return s=>s===0||s===1?s:_b(i(s),t,r)}const kb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sb=e=>t=>1-e(1-t),Eb=ca(.33,1.53,.69,.99),cp=Sb(Eb),Cb=kb(cp),Tb=e=>(e*=2)<1?.5*cp(e):.5*(2-Math.pow(2,-10*(e-1))),up=e=>1-Math.sin(Math.acos(e)),Pb=Sb(up),Ab=kb(up),Fj=ca(.42,0,1,1),zj=ca(0,0,.58,1),jb=ca(.42,0,.58,1),Bj=e=>Array.isArray(e)&&typeof e[0]!="number",Rb=e=>Array.isArray(e)&&typeof e[0]=="number",Uj={linear:Gt,easeIn:Fj,easeInOut:jb,easeOut:zj,circIn:up,circInOut:Ab,circOut:Pb,backIn:cp,backInOut:Cb,backOut:Eb,anticipate:Tb},Vj=e=>typeof e=="string",C0=e=>{if(Rb(e)){op(e.length===4);const[t,n,r,i]=e;return ca(t,n,r,i)}else if(Vj(e))return Uj[e];return e},el=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Wj(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&i?n:r;return d&&o.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const Hj=40;function Db(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=el.reduce((w,k)=>(w[k]=Wj(s),w),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:m}=o,v=()=>{const w=Yn.useManualTiming?i.timestamp:performance.now();n=!1,Yn.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,Hj),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(v))},x=()=>{n=!0,r=!0,i.isProcessing||e(v)};return{schedule:el.reduce((w,k)=>{const S=o[k];return w[k]=(C,_=!1,P=!1)=>(n||x(),S.schedule(C,_,P)),w},{}),cancel:w=>{for(let k=0;k<el.length;k++)o[el[k]].cancel(w)},state:i,steps:o}}const{schedule:Te,cancel:Ar,state:tt,steps:Fu}=Db(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0);let xl;function qj(){xl=void 0}const Et={now:()=>(xl===void 0&&Et.set(tt.isProcessing||Yn.useManualTiming?tt.timestamp:performance.now()),xl),set:e=>{xl=e,queueMicrotask(qj)}},Ob=e=>t=>typeof t=="string"&&t.startsWith(e),dp=Ob("--"),Kj=Ob("var(--"),hp=e=>Kj(e)?Gj.test(e.split("/*")[0].trim()):!1,Gj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Es={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ko={...Es,transform:e=>Gn(0,1,e)},tl={...Es,default:1},yo=e=>Math.round(e*1e5)/1e5,fp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Yj(e){return e==null}const Xj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pp=(e,t)=>n=>!!(typeof n=="string"&&Xj.test(n)&&n.startsWith(e)||t&&!Yj(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ib=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(fp);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Jj=e=>Gn(0,255,e),zu={...Es,transform:e=>Math.round(Jj(e))},ri={test:pp("rgb","red"),parse:Ib("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+zu.transform(e)+", "+zu.transform(t)+", "+zu.transform(n)+", "+yo(Ko.transform(r))+")"};function Qj(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const mh={test:pp("#"),parse:Qj,transform:ri.transform},ua=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),or=ua("deg"),Pn=ua("%"),ne=ua("px"),Zj=ua("vh"),eR=ua("vw"),T0={...Pn,parse:e=>Pn.parse(e)/100,transform:e=>Pn.transform(e*100)},Ui={test:pp("hsl","hue"),parse:Ib("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pn.transform(yo(t))+", "+Pn.transform(yo(n))+", "+yo(Ko.transform(r))+")"},Fe={test:e=>ri.test(e)||mh.test(e)||Ui.test(e),parse:e=>ri.test(e)?ri.parse(e):Ui.test(e)?Ui.parse(e):mh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ri.transform(e):Ui.transform(e),getAnimatableNone:e=>{const t=Fe.parse(e);return t.alpha=0,Fe.transform(t)}},tR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nR(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(fp))==null?void 0:t.length)||0)+(((n=e.match(tR))==null?void 0:n.length)||0)>0}const Lb="number",Mb="color",rR="var",iR="var(",P0="${}",sR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Go(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(sR,l=>(Fe.test(l)?(r.color.push(s),i.push(Mb),n.push(Fe.parse(l))):l.startsWith(iR)?(r.var.push(s),i.push(rR),n.push(l)):(r.number.push(s),i.push(Lb),n.push(parseFloat(l))),++s,P0)).split(P0);return{values:n,split:a,indexes:r,types:i}}function Nb(e){return Go(e).values}function $b(e){const{split:t,types:n}=Go(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===Lb?s+=yo(i[o]):a===Mb?s+=Fe.transform(i[o]):s+=i[o]}return s}}const oR=e=>typeof e=="number"?0:Fe.test(e)?Fe.getAnimatableNone(e):e;function aR(e){const t=Nb(e);return $b(e)(t.map(oR))}const jr={test:nR,parse:Nb,createTransformer:$b,getAnimatableNone:aR};function Bu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lR({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Bu(l,a,e+1/3),s=Bu(l,a,e),o=Bu(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ic(e,t){return n=>n>0?t:e}const je=(e,t,n)=>e+(t-e)*n,Uu=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},cR=[mh,ri,Ui],uR=e=>cR.find(t=>t.test(e));function A0(e){const t=uR(e);if(!t)return!1;let n=t.parse(e);return t===Ui&&(n=lR(n)),n}const j0=(e,t)=>{const n=A0(e),r=A0(t);if(!n||!r)return ic(e,t);const i={...n};return s=>(i.red=Uu(n.red,r.red,s),i.green=Uu(n.green,r.green,s),i.blue=Uu(n.blue,r.blue,s),i.alpha=je(n.alpha,r.alpha,s),ri.transform(i))},gh=new Set(["none","hidden"]);function dR(e,t){return gh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function hR(e,t){return n=>je(e,t,n)}function mp(e){return typeof e=="number"?hR:typeof e=="string"?hp(e)?ic:Fe.test(e)?j0:mR:Array.isArray(e)?Fb:typeof e=="object"?Fe.test(e)?j0:fR:ic}function Fb(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>mp(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function fR(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=mp(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function pR(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const mR=(e,t)=>{const n=jr.createTransformer(t),r=Go(e),i=Go(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?gh.has(e)&&!i.values.length||gh.has(t)&&!r.values.length?dR(e,t):la(Fb(pR(r,i),i.values),n):ic(e,t)};function zb(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?je(e,t,n):mp(e)(e,t)}const gR=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Te.update(t,n),stop:()=>Ar(t),now:()=>tt.isProcessing?tt.timestamp:Et.now()}},Bb=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sc=2e4;function gp(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<sc;)t+=n,r=e.next(t);return t>=sc?1/0:t}function yR(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(gp(r),sc);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:qt(i)}}const vR=5;function Ub(e,t,n){const r=Math.max(t-vR,0);return bb(n-e(r),t-r)}const Le={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vu=.001;function wR({duration:e=Le.duration,bounce:t=Le.bounce,velocity:n=Le.velocity,mass:r=Le.mass}){let i,s,o=1-t;o=Gn(Le.minDamping,Le.maxDamping,o),e=Gn(Le.minDuration,Le.maxDuration,qt(e)),o<1?(i=c=>{const u=c*o,d=u*e,h=u-n,f=yh(c,o),m=Math.exp(-d);return Vu-h/f*m},s=c=>{const d=c*o*e,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),v=yh(Math.pow(c,2),o);return(-i(c)+Vu>0?-1:1)*((h-f)*m)/v}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-Vu+u*d},s=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=bR(i,s,a);if(e=Tn(e),isNaN(l))return{stiffness:Le.stiffness,damping:Le.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const xR=12;function bR(e,t,n){let r=n;for(let i=1;i<xR;i++)r=r-e(r)/t(r);return r}function yh(e,t){return e*Math.sqrt(1-t*t)}const _R=["duration","bounce"],kR=["stiffness","damping","mass"];function R0(e,t){return t.some(n=>e[n]!==void 0)}function SR(e){let t={velocity:Le.velocity,stiffness:Le.stiffness,damping:Le.damping,mass:Le.mass,isResolvedFromDuration:!1,...e};if(!R0(e,kR)&&R0(e,_R))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Gn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Le.mass,stiffness:i,damping:s}}else{const n=wR(e);t={...t,...n,mass:Le.mass},t.isResolvedFromDuration=!0}return t}function oc(e=Le.visualDuration,t=Le.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=SR({...n,velocity:-qt(n.velocity||0)}),m=h||0,v=c/(2*Math.sqrt(l*u)),x=o-s,g=qt(Math.sqrt(l/u)),y=Math.abs(x)<5;r||(r=y?Le.restSpeed.granular:Le.restSpeed.default),i||(i=y?Le.restDelta.granular:Le.restDelta.default);let w;if(v<1){const S=yh(g,v);w=C=>{const _=Math.exp(-v*g*C);return o-_*((m+v*g*x)/S*Math.sin(S*C)+x*Math.cos(S*C))}}else if(v===1)w=S=>o-Math.exp(-g*S)*(x+(m+g*x)*S);else{const S=g*Math.sqrt(v*v-1);w=C=>{const _=Math.exp(-v*g*C),P=Math.min(S*C,300);return o-_*((m+v*g*x)*Math.sinh(P)+S*x*Math.cosh(P))/S}}const k={calculatedDuration:f&&d||null,next:S=>{const C=w(S);if(f)a.done=S>=d;else{let _=S===0?m:0;v<1&&(_=S===0?Tn(m):Ub(w,S,C));const P=Math.abs(_)<=r,D=Math.abs(o-C)<=i;a.done=P&&D}return a.value=a.done?o:C,a},toString:()=>{const S=Math.min(gp(k),sc),C=Bb(_=>k.next(S*_).value,S,30);return S+"ms "+C},toTransition:()=>{}};return k}oc.applyToOptions=e=>{const t=yR(e,100,oc);return e.ease=t.ease,e.duration=Tn(t.duration),e.type="keyframes",e};function vh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},f=P=>a!==void 0&&P<a||l!==void 0&&P>l,m=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let v=n*t;const x=d+v,g=o===void 0?x:o(x);g!==x&&(v=g-d);const y=P=>-v*Math.exp(-P/r),w=P=>g+y(P),k=P=>{const D=y(P),j=w(P);h.done=Math.abs(D)<=c,h.value=h.done?g:j};let S,C;const _=P=>{f(h.value)&&(S=P,C=oc({keyframes:[h.value,m(h.value)],velocity:Ub(w,P,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return _(0),{calculatedDuration:null,next:P=>{let D=!1;return!C&&S===void 0&&(D=!0,k(P),_(P)),S!==void 0&&P>=S?C.next(P-S):(!D&&k(P),h)}}}function ER(e,t,n){const r=[],i=n||Yn.mix||zb,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Gt:t;a=la(l,a)}r.push(a)}return r}function CR(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(op(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=ER(t,r,i),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=qo(e[d],e[d+1],u);return a[d](h)};return n?u=>c(Gn(e[0],e[s-1],u)):c}function TR(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=qo(0,t,r);e.push(je(n,1,i))}}function PR(e){const t=[0];return TR(t,e.length-1),t}function AR(e,t){return e.map(n=>n*t)}function jR(e,t){return e.map(()=>t||jb).splice(0,e.length-1)}function vo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Bj(r)?r.map(C0):C0(r),s={done:!1,value:t[0]},o=AR(n&&n.length===t.length?n:PR(t),e),a=CR(o,t,{ease:Array.isArray(i)?i:jR(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const RR=e=>e!==null;function yp(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(RR),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const DR={decay:vh,inertia:vh,tween:vo,keyframes:vo,spring:oc};function Vb(e){typeof e.type=="string"&&(e.type=DR[e.type])}class vp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const OR=e=>e/100;class wp extends vp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Et.now()&&this.tick(Et.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Vb(t);const{type:n=vo,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||vo;l!==vo&&typeof a[0]!="number"&&(this.mixKeyframes=la(OR,zb(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=gp(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:f,type:m,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,k=r;if(d){const P=Math.min(this.currentTime,i)/a;let D=Math.floor(P),j=P%1;!j&&P>=1&&(j=1),j===1&&D--,D=Math.min(D,d+1),!!(D%2)&&(h==="reverse"?(j=1-j,f&&(j-=f/a)):h==="mirror"&&(k=o)),w=Gn(0,1,j)*a}const S=y?{done:!1,value:u[0]}:k.next(w);s&&(S.value=s(S.value));let{done:C}=S;!y&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return _&&m!==vh&&(S.value=yp(u,this.options,x,this.speed)),v&&v(S.value),_&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return qt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+qt(t)}get time(){return qt(this.currentTime)}set time(t){var n;t=Tn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Et.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=qt(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=gR,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Et.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function IR(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ii=e=>e*180/Math.PI,wh=e=>{const t=ii(Math.atan2(e[1],e[0]));return xh(t)},LR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:wh,rotateZ:wh,skewX:e=>ii(Math.atan(e[1])),skewY:e=>ii(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xh=e=>(e=e%360,e<0&&(e+=360),e),D0=wh,O0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),I0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),MR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:O0,scaleY:I0,scale:e=>(O0(e)+I0(e))/2,rotateX:e=>xh(ii(Math.atan2(e[6],e[5]))),rotateY:e=>xh(ii(Math.atan2(-e[2],e[0]))),rotateZ:D0,rotate:D0,skewX:e=>ii(Math.atan(e[4])),skewY:e=>ii(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function bh(e){return e.includes("scale")?1:0}function _h(e,t){if(!e||e==="none")return bh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=MR,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=LR,i=a}if(!i)return bh(t);const s=r[t],o=i[1].split(",").map($R);return typeof s=="function"?s(o):o[s]}const NR=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return _h(n,t)};function $R(e){return parseFloat(e.trim())}const Cs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ts=new Set(Cs),L0=e=>e===Es||e===ne,FR=new Set(["x","y","z"]),zR=Cs.filter(e=>!FR.has(e));function BR(e){const t=[];return zR.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ai={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>_h(t,"x"),y:(e,{transform:t})=>_h(t,"y")};ai.translateX=ai.x;ai.translateY=ai.y;const li=new Set;let kh=!1,Sh=!1,Eh=!1;function Wb(){if(Sh){const e=Array.from(li).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=BR(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sh=!1,kh=!1,li.forEach(e=>e.complete(Eh)),li.clear()}function Hb(){li.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sh=!0)})}function UR(){Eh=!0,Hb(),Wb(),Eh=!1}class xp{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(li.add(this),kh||(kh=!0,Te.read(Hb),Te.resolveKeyframes(Wb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}IR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),li.delete(this)}cancel(){this.state==="scheduled"&&(li.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VR=e=>e.startsWith("--");function WR(e,t,n){VR(t)?e.style.setProperty(t,n):e.style[t]=n}const HR=ap(()=>window.ScrollTimeline!==void 0),qR={};function KR(e,t){const n=ap(e);return()=>qR[t]??n()}const qb=KR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),io=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,M0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:io([0,.65,.55,1]),circOut:io([.55,0,1,.45]),backIn:io([.31,.01,.66,-.59]),backOut:io([.33,1.53,.69,.99])};function Kb(e,t){if(e)return typeof e=="function"?qb()?Bb(e,t):"ease-out":Rb(e)?io(e):Array.isArray(e)?e.map(n=>Kb(n,t)||M0.easeOut):M0[e]}function GR(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const d=Kb(a,i);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Gb(e){return typeof e=="function"&&"applyToOptions"in e}function YR({type:e,...t}){return Gb(e)&&qb()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XR extends vp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,op(typeof t.type!="string");const c=YR(t);this.animation=GR(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=yp(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):WR(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return qt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+qt(t)}get time(){return qt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Tn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&HR()?(this.animation.timeline=t,Gt):n(this)}}const Yb={anticipate:Tb,backInOut:Cb,circInOut:Ab};function JR(e){return e in Yb}function QR(e){typeof e.ease=="string"&&JR(e.ease)&&(e.ease=Yb[e.ease])}const N0=10;class ZR extends XR{constructor(t){QR(t),Vb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new wp({...o,autoplay:!1}),l=Tn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-N0).value,a.sample(l).value,N0),a.stop()}}const $0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(jr.test(e)||e==="0")&&!e.startsWith("url("));function e3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function t3(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=$0(i,t),a=$0(s,t);return!o||!a?!1:e3(e)||(n==="spring"||Gb(n))&&r}function Ch(e){e.duration=0,e.type="keyframes"}const n3=new Set(["opacity","clipPath","filter","transform"]),r3=ap(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function i3(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return r3()&&n&&n3.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const s3=40;class o3 extends vp{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var m;super(),this.stop=()=>{var v,x;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Et.now();const h={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},f=(u==null?void 0:u.KeyframeResolver)||xp;this.keyframeResolver=new f(a,(v,x,g)=>this.onKeyframesResolved(v,x,h,!g),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Et.now(),t3(t,s,o,a)||((Yn.instantAnimations||!l)&&(u==null||u(yp(t,r,n))),t[0]=t[t.length-1],Ch(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>s3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},f=!c&&i3(h)?new ZR({...h,element:h.motionValue.owner.current}):new wp(h);f.finished.then(()=>this.notifyFinished()).catch(Gt),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),UR()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const a3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l3(e){const t=a3.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Xb(e,t,n=1){const[r,i]=l3(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return vb(o)?parseFloat(o):o}return hp(i)?Xb(i,t,n+1):i}function bp(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Jb=new Set(["width","height","top","left","right","bottom",...Cs]),c3={test:e=>e==="auto",parse:e=>e},Qb=e=>t=>t.test(e),Zb=[Es,ne,Pn,or,eR,Zj,c3],F0=e=>Zb.find(Qb(e));function u3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xb(e):!0}const d3=new Set(["brightness","contrast","saturate","opacity"]);function h3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(fp)||[];if(!r)return e;const i=n.replace(r,"");let s=d3.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const f3=/\b([a-z-]*)\(.*?\)/gu,Th={...jr,getAnimatableNone:e=>{const t=e.match(f3);return t?t.map(h3).join(" "):e}},z0={...Es,transform:Math.round},p3={rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:tl,scaleX:tl,scaleY:tl,scaleZ:tl,skew:or,skewX:or,skewY:or,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:Ko,originX:T0,originY:T0,originZ:ne},_p={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne,...p3,zIndex:z0,fillOpacity:Ko,strokeOpacity:Ko,numOctaves:z0},m3={..._p,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:Th,WebkitFilter:Th},e_=e=>m3[e];function t_(e,t){let n=e_(e);return n!==Th&&(n=jr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const g3=new Set(["auto","none","0"]);function y3(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!g3.has(s)&&Go(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=t_(n,i)}class v3 extends xp{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),hp(c))){const u=Xb(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Jb.has(r)||t.length!==2)return;const[i,s]=t,o=F0(i),a=F0(s);if(o!==a)if(L0(o)&&L0(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else ai[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||u3(t[i]))&&r.push(i);r.length&&y3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ai[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ai[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function w3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const n_=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function r_(e){return wb(e)&&"offsetHeight"in e}const B0=30,x3=e=>!isNaN(parseFloat(e));class b3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Et.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Et.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lp);const r=this.events[t].add(n);return t==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Et.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>B0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,B0);return bb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ms(e,t){return new b3(e,t)}const{schedule:kp}=Db(queueMicrotask,!1),nn={x:!1,y:!1};function i_(){return nn.x||nn.y}function _3(e){return e==="x"||e==="y"?nn[e]?null:(nn[e]=!0,()=>{nn[e]=!1}):nn.x||nn.y?null:(nn.x=nn.y=!0,()=>{nn.x=nn.y=!1})}function s_(e,t){const n=w3(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function U0(e){return!(e.pointerType==="touch"||i_())}function k3(e,t,n={}){const[r,i,s]=s_(e,n),o=a=>{if(!U0(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=d=>{U0(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const o_=(e,t)=>t?e===t?!0:o_(e,t.parentElement):!1,Sp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,S3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function E3(e){return S3.has(e.tagName)||e.tabIndex!==-1}const bl=new WeakSet;function V0(e){return t=>{t.key==="Enter"&&e(t)}}function Wu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C3=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=V0(()=>{if(bl.has(n))return;Wu(n,"down");const i=V0(()=>{Wu(n,"up")}),s=()=>Wu(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function W0(e){return Sp(e)&&!i_()}function T3(e,t,n={}){const[r,i,s]=s_(e,n),o=a=>{const l=a.currentTarget;if(!W0(a))return;bl.add(l);const c=t(l,a),u=(f,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),bl.has(l)&&bl.delete(l),W0(f)&&typeof c=="function"&&c(f,{success:m})},d=f=>{u(f,l===window||l===document||n.useGlobalTarget||o_(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),r_(a)&&(a.addEventListener("focus",c=>C3(c,i)),!E3(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function a_(e){return wb(e)&&"ownerSVGElement"in e}function P3(e){return a_(e)&&e.tagName==="svg"}const ht=e=>!!(e&&e.getVelocity),A3=[...Zb,Fe,jr],j3=e=>A3.find(Qb(e)),Ep=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function H0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function R3(...e){return t=>{let n=!1;const r=e.map(i=>{const s=H0(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():H0(e[i],null)}}}}function D3(...e){return b.useCallback(R3(...e),e)}class O3 extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function I3({children:e,isPresent:t,anchorX:n,root:r}){const i=b.useId(),s=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=b.useContext(Ep),l=D3(s,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:f}=o.current;if(t||!s.current||!c||!u)return;const m=n==="left"?`left: ${h}`:`right: ${f}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");a&&(v.nonce=a);const x=r??document.head;return x.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{x.contains(v)&&x.removeChild(v)}},[t]),p.jsx(O3,{isPresent:t,childRef:s,sizeRef:o,children:b.cloneElement(e,{ref:l})})}const L3=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=np(M3),u=b.useId();let d=!0,h=b.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;r&&r()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,r]);return s&&d&&(h={...h}),b.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),b.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=p.jsx(I3,{isPresent:n,anchorX:a,root:l,children:e})),p.jsx(Nc.Provider,{value:h,children:e})};function M3(){return new Map}function l_(e=!0){const t=b.useContext(Nc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=b.useId();b.useEffect(()=>{if(e)return i(s)},[e]);const o=b.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const nl=e=>e.key||"";function q0(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const K0=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=l_(o),d=b.useMemo(()=>q0(e),[e]),h=o&&!c?[]:d.map(nl),f=b.useRef(!0),m=b.useRef(d),v=np(()=>new Map),[x,g]=b.useState(d),[y,w]=b.useState(d);yb(()=>{f.current=!1,m.current=d;for(let C=0;C<y.length;C++){const _=nl(y[C]);h.includes(_)?v.delete(_):v.get(_)!==!0&&v.set(_,!1)}},[y,h.length,h.join("-")]);const k=[];if(d!==x){let C=[...d];for(let _=0;_<y.length;_++){const P=y[_],D=nl(P);h.includes(D)||(C.splice(_,0,P),k.push(P))}return s==="wait"&&k.length&&(C=k),w(q0(C)),g(d),null}const{forceRender:S}=b.useContext(tp);return p.jsx(p.Fragment,{children:y.map(C=>{const _=nl(C),P=o&&!c?!1:d===y||h.includes(_),D=()=>{if(v.has(_))v.set(_,!0);else return;let j=!0;v.forEach(M=>{M||(j=!1)}),j&&(S==null||S(),w(m.current),o&&(u==null||u()),r&&r())};return p.jsx(L3,{isPresent:P,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:P?void 0:D,anchorX:a,children:C},_)})})},c_=b.createContext({strict:!1}),G0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gs={};for(const e in G0)gs[e]={isEnabled:t=>G0[e].some(n=>!!t[n])};function N3(e){for(const t in e)gs[t]={...gs[t],...e[t]}}const $3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ac(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$3.has(e)}let u_=e=>!ac(e);function F3(e){typeof e=="function"&&(u_=t=>t.startsWith("on")?!ac(t):e(t))}try{F3(require("@emotion/is-prop-valid").default)}catch{}function z3(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(u_(i)||n===!0&&ac(i)||!t&&!ac(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const $c=b.createContext({});function Fc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Yo(e){return typeof e=="string"||Array.isArray(e)}const Cp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tp=["initial",...Cp];function zc(e){return Fc(e.animate)||Tp.some(t=>Yo(e[t]))}function d_(e){return!!(zc(e)||e.variants)}function B3(e,t){if(zc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Yo(n)?n:void 0,animate:Yo(r)?r:void 0}}return e.inherit!==!1?t:{}}function U3(e){const{initial:t,animate:n}=B3(e,b.useContext($c));return b.useMemo(()=>({initial:t,animate:n}),[Y0(t),Y0(n)])}function Y0(e){return Array.isArray(e)?e.join(" "):e}const Xo={};function V3(e){for(const t in e)Xo[t]=e[t],dp(t)&&(Xo[t].isCSSVariable=!0)}function h_(e,{layout:t,layoutId:n}){return Ts.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Xo[e]||e==="opacity")}const W3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H3=Cs.length;function q3(e,t,n){let r="",i=!0;for(let s=0;s<H3;s++){const o=Cs[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=n_(a,_p[o]);if(!l){i=!1;const u=W3[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Pp(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Ts.has(l)){o=!0;continue}else if(dp(l)){i[l]=c;continue}else{const u=n_(c,_p[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=q3(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const Ap=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function f_(e,t,n){for(const r in t)!ht(t[r])&&!h_(r,n)&&(e[r]=t[r])}function K3({transformTemplate:e},t){return b.useMemo(()=>{const n=Ap();return Pp(n,t,e),Object.assign({},n.vars,n.style)},[t])}function G3(e,t){const n=e.style||{},r={};return f_(r,n,e),Object.assign(r,K3(e,t)),r}function Y3(e,t){const n={},r=G3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const X3={offset:"stroke-dashoffset",array:"stroke-dasharray"},J3={offset:"strokeDashoffset",array:"strokeDasharray"};function Q3(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?X3:J3;e[s.offset]=ne.transform(-r);const o=ne.transform(t),a=ne.transform(n);e[s.array]=`${o} ${a}`}function p_(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(Pp(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&Q3(d,i,s,o,!1)}const m_=()=>({...Ap(),attrs:{}}),g_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Z3(e,t,n,r){const i=b.useMemo(()=>{const s=m_();return p_(s,t,g_(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};f_(s,e.style,e),i.style={...s,...i.style}}return i}const eD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jp(e){return typeof e!="string"||e.includes("-")?!1:!!(eD.indexOf(e)>-1||/[A-Z]/u.test(e))}function tD(e,t,n,{latestValues:r},i,s=!1){const a=(jp(e)?Z3:Y3)(t,r,i,e),l=z3(t,typeof e=="string",s),c=e!==b.Fragment?{...l,...a,ref:n}:{},{children:u}=t,d=b.useMemo(()=>ht(u)?u.get():u,[u]);return b.createElement(e,{...c,children:d})}function X0(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Rp(e,t,n,r){if(typeof t=="function"){const[i,s]=X0(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=X0(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function _l(e){return ht(e)?e.get():e}function nD({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:rD(n,r,i,e),renderState:t()}}function rD(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=_l(s[h]);let{initial:o,animate:a}=e;const l=zc(e),c=d_(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Fc(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const m=Rp(e,h[f]);if(m){const{transitionEnd:v,transition:x,...g}=m;for(const y in g){let w=g[y];if(Array.isArray(w)){const k=u?w.length-1:0;w=w[k]}w!==null&&(i[y]=w)}for(const y in v)i[y]=v[y]}}}return i}const y_=e=>(t,n)=>{const r=b.useContext($c),i=b.useContext(Nc),s=()=>nD(e,t,r,i);return n?s():np(s)};function Dp(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(ht(r[o])||t.style&&ht(t.style[o])||h_(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const iD=y_({scrapeMotionValuesFromProps:Dp,createRenderState:Ap});function v_(e,t,n){const r=Dp(e,t,n);for(const i in e)if(ht(e[i])||ht(t[i])){const s=Cs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const sD=y_({scrapeMotionValuesFromProps:v_,createRenderState:m_}),oD=Symbol.for("motionComponentSymbol");function Vi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aD(e,t,n){return b.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Vi(n)&&(n.current=r))},[t])}const Op=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lD="framerAppearId",w_="data-"+Op(lD),x_=b.createContext({});function cD(e,t,n,r,i){var v,x;const{visualElement:s}=b.useContext($c),o=b.useContext(c_),a=b.useContext(Nc),l=b.useContext(Ep).reducedMotion,c=b.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=b.useContext(x_);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&uD(c.current,n,i,d);const h=b.useRef(!1);b.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const f=n[w_],m=b.useRef(!!f&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,f))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,f)));return yb(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,f)}),m.current=!1),u.enteringChildren=void 0)}),u}function uD(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:b_(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Vi(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function b_(e){if(e)return e.options.allowProjection!==!1?e.projection:b_(e.parent)}function Hu(e,{forwardMotionProps:t=!1}={},n,r){n&&N3(n);const i=jp(e)?sD:iD;function s(a,l){let c;const u={...b.useContext(Ep),...a,layoutId:dD(a)},{isStatic:d}=u,h=U3(a),f=i(a,d);if(!d&&rp){hD();const m=fD(u);c=m.MeasureLayout,h.visualElement=cD(e,f,u,r,m.ProjectionNode)}return p.jsxs($c.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,tD(e,a,aD(f,h.visualElement,l),f,d,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=b.forwardRef(s);return o[oD]=e,o}function dD({layoutId:e}){const t=b.useContext(tp).id;return t&&e!==void 0?t+"-"+e:e}function hD(e,t){b.useContext(c_).strict}function fD(e){const{drag:t,layout:n}=gs;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function pD(e,t){if(typeof Proxy>"u")return Hu;const n=new Map,r=(s,o)=>Hu(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Hu(o,void 0,e,t)),n.get(o))})}function __({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function mD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gD(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qu(e){return e===void 0||e===1}function Ph({scale:e,scaleX:t,scaleY:n}){return!qu(e)||!qu(t)||!qu(n)}function Gr(e){return Ph(e)||k_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function k_(e){return J0(e.x)||J0(e.y)}function J0(e){return e&&e!=="0%"}function lc(e,t,n){const r=e-n,i=t*r;return n+i}function Q0(e,t,n,r,i){return i!==void 0&&(e=lc(e,i,r)),lc(e,n,r)+t}function Ah(e,t=0,n=1,r,i){e.min=Q0(e.min,t,n,r,i),e.max=Q0(e.max,t,n,r,i)}function S_(e,{x:t,y:n}){Ah(e.x,t.translate,t.scale,t.originPoint),Ah(e.y,n.translate,n.scale,n.originPoint)}const Z0=.999999999999,ey=1.0000000000001;function yD(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Hi(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,S_(e,o)),r&&Gr(s.latestValues)&&Hi(e,s.latestValues))}t.x<ey&&t.x>Z0&&(t.x=1),t.y<ey&&t.y>Z0&&(t.y=1)}function Wi(e,t){e.min=e.min+t,e.max=e.max+t}function ty(e,t,n,r,i=.5){const s=je(e.min,e.max,i);Ah(e,t,n,s,r)}function Hi(e,t){ty(e.x,t.x,t.scaleX,t.scale,t.originX),ty(e.y,t.y,t.scaleY,t.scale,t.originY)}function E_(e,t){return __(gD(e.getBoundingClientRect(),t))}function vD(e,t,n){const r=E_(e,n),{scroll:i}=t;return i&&(Wi(r.x,i.offset.x),Wi(r.y,i.offset.y)),r}const ny=()=>({translate:0,scale:1,origin:0,originPoint:0}),qi=()=>({x:ny(),y:ny()}),ry=()=>({min:0,max:0}),We=()=>({x:ry(),y:ry()}),jh={current:null},C_={current:!1};function wD(){if(C_.current=!0,!!rp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jh.current=e.matches;e.addEventListener("change",t),t()}else jh.current=!1}const xD=new WeakMap;function bD(e,t,n){for(const r in t){const i=t[r],s=n[r];if(ht(i))e.addValue(r,i);else if(ht(s))e.addValue(r,ms(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,ms(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const iy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _D{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Et.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Te.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=zc(n),this.isVariantNode=d_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&ht(f)&&f.set(l[h])}}mount(t){var n;this.current=t,xD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),C_.current||wD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jh.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ts.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Te.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gs){const n=gs[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iy.length;r++){const i=iy[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=bD(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ms(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(vb(r)||xb(r))?r=parseFloat(r):!j3(r)&&jr.test(n)&&(r=t_(t,n)),this.setBaseTarget(t,ht(r)?r.get():r)),ht(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Rp(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ht(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){kp.render(this.render)}}class T_ extends _D{constructor(){super(...arguments),this.KeyframeResolver=v3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ht(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function P_(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function kD(e){return window.getComputedStyle(e)}class SD extends T_{constructor(){super(...arguments),this.type="html",this.renderInstance=P_}readValueFromInstance(t,n){var r;if(Ts.has(n))return(r=this.projection)!=null&&r.isProjecting?bh(n):NR(t,n);{const i=kD(t),s=(dp(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return E_(t,n)}build(t,n,r){Pp(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Dp(t,n,r)}}const A_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ED(e,t,n,r){P_(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(A_.has(i)?i:Op(i),t.attrs[i])}class CD extends T_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=We}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ts.has(n)){const r=e_(n);return r&&r.default||0}return n=A_.has(n)?n:Op(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return v_(t,n,r)}build(t,n,r){p_(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){ED(t,n,r,i)}mount(t){this.isSVGTag=g_(t.tagName),super.mount(t)}}const TD=(e,t)=>jp(e)?new CD(t):new SD(t,{allowProjection:e!==b.Fragment});function ts(e,t,n){const r=e.getProps();return Rp(r,t,n!==void 0?n:r.custom,e)}const Rh=e=>Array.isArray(e);function PD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ms(n))}function AD(e){return Rh(e)?e[e.length-1]||0:e}function jD(e,t){const n=ts(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=AD(s[o]);PD(e,o,a)}}function RD(e){return!!(ht(e)&&e.add)}function Dh(e,t){const n=e.getValue("willChange");if(RD(n))return n.add(t);if(!n&&Yn.WillChange){const r=new Yn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function j_(e){return e.props[w_]}const DD=e=>e!==null;function OD(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(DD),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const ID={type:"spring",stiffness:500,damping:25,restSpeed:10},LD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),MD={type:"keyframes",duration:.8},ND={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$D=(e,{keyframes:t})=>t.length>2?MD:Ts.has(e)?e.startsWith("scale")?LD(t[1]):ID:ND;function FD({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Ip=(e,t,n,r={},i,s)=>o=>{const a=bp(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Tn(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};FD(a)||Object.assign(u,$D(e,u)),u.duration&&(u.duration=Tn(u.duration)),u.repeatDelay&&(u.repeatDelay=Tn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Ch(u),u.delay===0&&(d=!0)),(Yn.instantAnimations||Yn.skipAnimations)&&(d=!0,Ch(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&t.get()!==void 0){const h=OD(u.keyframes,a);if(h!==void 0){Te.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new wp(u):new o3(u)};function zD({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function R_(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const d=e.getValue(u,e.latestValues[u]??null),h=a[u];if(h===void 0||c&&zD(c,u))continue;const f={delay:n,...bp(s||{},u)},m=d.get();if(m!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===m&&!f.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=j_(e);if(g){const y=window.MotionHandoffAnimation(g,u,Te);y!==null&&(f.startTime=y,v=!0)}}Dh(e,u),d.start(Ip(u,d,h,e.shouldReduceMotion&&Jb.has(u)?{type:!1}:f,e,v));const x=d.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{Te.update(()=>{o&&jD(e,o)})}),l}function D_(e,t,n,r=0,i=1){const s=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Oh(e,t,n={}){var l;const r=ts(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(R_(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return BD(e,t,c,u,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function BD(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Oh(l,t,{...o,delay:n+(typeof r=="function"?0:r)+D_(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function UD(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Oh(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Oh(e,t,n);else{const i=typeof t=="function"?ts(e,t,n.custom):t;r=Promise.all(R_(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function O_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const VD=Tp.length;function I_(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?I_(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<VD;n++){const r=Tp[n],i=e.props[r];(Yo(i)||i===!1)&&(t[r]=i)}return t}const WD=[...Cp].reverse(),HD=Cp.length;function qD(e){return t=>Promise.all(t.map(({animation:n,options:r})=>UD(e,n,r)))}function KD(e){let t=qD(e),n=sy(),r=!0;const i=l=>(c,u)=>{var h;const d=ts(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:m,...v}=d;c={...c,...v,...m}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,u=I_(e.parent)||{},d=[],h=new Set;let f={},m=1/0;for(let x=0;x<HD;x++){const g=WD[x],y=n[g],w=c[g]!==void 0?c[g]:u[g],k=Yo(w),S=g===l?y.isActive:null;S===!1&&(m=x);let C=w===u[g]&&w!==c[g]&&k;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...f},!y.isActive&&S===null||!w&&!y.prevProp||Fc(w)||typeof w=="boolean")continue;const _=GD(y.prevProp,w);let P=_||g===l&&y.isActive&&!C&&k||x>m&&k,D=!1;const j=Array.isArray(w)?w:[w];let M=j.reduce(i(g),{});S===!1&&(M={});const{prevResolvedValues:B={}}=y,Y={...B,...M},ce=Z=>{P=!0,h.has(Z)&&(D=!0,h.delete(Z)),y.needsAnimating[Z]=!0;const O=e.getValue(Z);O&&(O.liveStyle=!1)};for(const Z in Y){const O=M[Z],$=B[Z];if(f.hasOwnProperty(Z))continue;let F=!1;Rh(O)&&Rh($)?F=!O_(O,$):F=O!==$,F?O!=null?ce(Z):h.add(Z):O!==void 0&&h.has(Z)?ce(Z):y.protectedKeys[Z]=!0}y.prevProp=w,y.prevResolvedValues=M,y.isActive&&(f={...f,...M}),r&&e.blockInitialAnimation&&(P=!1);const re=C&&_;P&&(!re||D)&&d.push(...j.map(Z=>{const O={type:g};if(typeof Z=="string"&&r&&!re&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,F=ts($,Z);if($.enteringChildren&&F){const{delayChildren:ie}=F.transition||{};O.delay=D_($.enteringChildren,e,ie)}}return{animation:Z,options:O}}))}if(h.size){const x={};if(typeof c.initial!="boolean"){const g=ts(e,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(x.transition=g.transition)}h.forEach(g=>{const y=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),x[g]=y??null}),d.push({animation:x})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=sy()}}}function GD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!O_(t,e):!1}function Wr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sy(){return{animate:Wr(!0),whileInView:Wr(),whileHover:Wr(),whileTap:Wr(),whileDrag:Wr(),whileFocus:Wr(),exit:Wr()}}class Nr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class YD extends Nr{constructor(t){super(t),t.animationState||(t.animationState=KD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let XD=0;class JD extends Nr{constructor(){super(...arguments),this.id=XD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const QD={animation:{Feature:YD},exit:{Feature:JD}};function Jo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function da(e){return{point:{x:e.pageX,y:e.pageY}}}const ZD=e=>t=>Sp(t)&&e(t,da(t));function wo(e,t,n,r){return Jo(e,t,ZD(n),r)}const L_=1e-4,eO=1-L_,tO=1+L_,M_=.01,nO=0-M_,rO=0+M_;function yt(e){return e.max-e.min}function iO(e,t,n){return Math.abs(e-t)<=n}function oy(e,t,n,r=.5){e.origin=r,e.originPoint=je(t.min,t.max,e.origin),e.scale=yt(n)/yt(t),e.translate=je(n.min,n.max,e.origin)-e.originPoint,(e.scale>=eO&&e.scale<=tO||isNaN(e.scale))&&(e.scale=1),(e.translate>=nO&&e.translate<=rO||isNaN(e.translate))&&(e.translate=0)}function xo(e,t,n,r){oy(e.x,t.x,n.x,r?r.originX:void 0),oy(e.y,t.y,n.y,r?r.originY:void 0)}function ay(e,t,n){e.min=n.min+t.min,e.max=e.min+yt(t)}function sO(e,t,n){ay(e.x,t.x,n.x),ay(e.y,t.y,n.y)}function ly(e,t,n){e.min=t.min-n.min,e.max=e.min+yt(t)}function cc(e,t,n){ly(e.x,t.x,n.x),ly(e.y,t.y,n.y)}function zt(e){return[e("x"),e("y")]}const N_=({current:e})=>e?e.ownerDocument.defaultView:null,cy=(e,t)=>Math.abs(e-t);function oO(e,t){const n=cy(e.x,t.x),r=cy(e.y,t.y);return Math.sqrt(n**2+r**2)}class $_{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Gu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=oO(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!m)return;const{point:v}=h,{timestamp:x}=tt;this.history.push({...v,timestamp:x});const{onStart:g,onMove:y}=this.handlers;f||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ku(f,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Gu(h.type==="pointercancel"?this.lastMoveEventInfo:Ku(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,g),v&&v(h,g)},!Sp(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=da(t),l=Ku(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=tt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Gu(l,this.history)),this.removeListeners=la(wo(this.contextWindow,"pointermove",this.handlePointerMove),wo(this.contextWindow,"pointerup",this.handlePointerUp),wo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ar(this.updatePoint)}}function Ku(e,t){return t?{point:t(e.point)}:e}function uy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gu({point:e},t){return{point:e,delta:uy(e,F_(t)),offset:uy(e,aO(t)),velocity:lO(t,.1)}}function aO(e){return e[0]}function F_(e){return e[e.length-1]}function lO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=F_(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Tn(t)));)n--;if(!r)return{x:0,y:0};const s=qt(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?je(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?je(n,e,r.max):Math.min(e,n)),e}function dy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function uO(e,{top:t,left:n,bottom:r,right:i}){return{x:dy(e.x,n,i),y:dy(e.y,t,r)}}function hy(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function dO(e,t){return{x:hy(e.x,t.x),y:hy(e.y,t.y)}}function hO(e,t){let n=.5;const r=yt(e),i=yt(t);return i>r?n=qo(t.min,t.max-r,e.min):r>i&&(n=qo(e.min,e.max-i,t.min)),Gn(0,1,n)}function fO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ih=.35;function pO(e=Ih){return e===!1?e=0:e===!0&&(e=Ih),{x:fy(e,"left","right"),y:fy(e,"top","bottom")}}function fy(e,t,n){return{min:py(e,t),max:py(e,n)}}function py(e,t){return typeof e=="number"?e:e[t]||0}const mO=new WeakMap;class gO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(da(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_3(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(g=>{let y=this.getAxisMotionValue(g).get()||0;if(Pn.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const k=w.layout.layoutBox[g];k&&(y=yt(k)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&Te.postRender(()=>v(d,h)),Dh(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=h;if(m&&this.currentDirection===null){this.currentDirection=yO(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>zt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $_(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:N_(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Te.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!rl(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=cO(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Vi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=uO(r.layoutBox,t):this.constraints=!1,this.elastic=pO(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fO(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Vi(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=vD(r,i.root,this.visualElement.getTransformPagePoint());let o=dO(i.layout.layoutBox,s);if(n){const a=n(mD(o));this.hasMutatedConstraints=!!a,a&&(o=__(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=zt(u=>{if(!rl(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,m={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Dh(this.visualElement,t),r.start(Ip(t,r,0,n,this.visualElement,!1))}stopAnimation(){zt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){zt(n=>{const{drag:r}=this.getProps();if(!rl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=hO({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zt(o=>{if(!rl(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(je(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;mO.set(this.visualElement,this);const t=this.visualElement.current,n=wo(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Vi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Te.read(r);const o=Jo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(zt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ih,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function rl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vO extends Nr{constructor(t){super(t),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new gO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const my=e=>(t,n)=>{e&&Te.postRender(()=>e(t,n))};class wO extends Nr{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(t){this.session=new $_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:N_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:my(t),onStart:my(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Te.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=wo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gy(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ne.test(e))e=parseFloat(e);else return e;const n=gy(e,t.target.x),r=gy(e,t.target.y);return`${n}% ${r}%`}},xO={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=jr.parse(e);if(i.length>5)return r;const s=jr.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let Yu=!1;class bO extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;V3(_O),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Yu&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),kl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Yu=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;Yu=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function z_(e){const[t,n]=l_(),r=b.useContext(tp);return p.jsx(bO,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(x_),isPresent:t,safeToRemove:n})}const _O={borderRadius:{...Gs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gs,borderTopRightRadius:Gs,borderBottomLeftRadius:Gs,borderBottomRightRadius:Gs,boxShadow:xO};function kO(e,t,n){const r=ht(e)?e:ms(e);return r.start(Ip("",r,t,n)),r.animation}const SO=(e,t)=>e.depth-t.depth;class EO{constructor(){this.children=[],this.isDirty=!1}add(t){ip(this.children,t),this.isDirty=!0}remove(t){sp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SO),this.isDirty=!1,this.children.forEach(t)}}function CO(e,t){const n=Et.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Ar(r),e(s-t))};return Te.setup(r,!0),()=>Ar(r)}const B_=["TopLeft","TopRight","BottomLeft","BottomRight"],TO=B_.length,yy=e=>typeof e=="string"?parseFloat(e):e,vy=e=>typeof e=="number"||ne.test(e);function PO(e,t,n,r,i,s){i?(e.opacity=je(0,n.opacity??1,AO(r)),e.opacityExit=je(t.opacity??1,0,jO(r))):s&&(e.opacity=je(t.opacity??1,n.opacity??1,r));for(let o=0;o<TO;o++){const a=`border${B_[o]}Radius`;let l=wy(t,a),c=wy(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||vy(l)===vy(c)?(e[a]=Math.max(je(yy(l),yy(c),r),0),(Pn.test(c)||Pn.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=je(t.rotate||0,n.rotate||0,r))}function wy(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const AO=U_(0,.5,Pb),jO=U_(.5,.95,Gt);function U_(e,t,n){return r=>r<e?0:r>t?1:n(qo(e,t,r))}function xy(e,t){e.min=t.min,e.max=t.max}function en(e,t){xy(e.x,t.x),xy(e.y,t.y)}function by(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _y(e,t,n,r,i){return e-=t,e=lc(e,1/n,r),i!==void 0&&(e=lc(e,1/i,r)),e}function RO(e,t=0,n=1,r=.5,i,s=e,o=e){if(Pn.test(t)&&(t=parseFloat(t),t=je(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=je(s.min,s.max,r);e===s&&(a-=t),e.min=_y(e.min,t,n,a,i),e.max=_y(e.max,t,n,a,i)}function ky(e,t,[n,r,i],s,o){RO(e,t[n],t[r],t[i],t.scale,s,o)}const DO=["x","scaleX","originX"],OO=["y","scaleY","originY"];function Sy(e,t,n,r){ky(e.x,t,DO,n?n.x:void 0,r?r.x:void 0),ky(e.y,t,OO,n?n.y:void 0,r?r.y:void 0)}function Ey(e){return e.translate===0&&e.scale===1}function V_(e){return Ey(e.x)&&Ey(e.y)}function Cy(e,t){return e.min===t.min&&e.max===t.max}function IO(e,t){return Cy(e.x,t.x)&&Cy(e.y,t.y)}function Ty(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function W_(e,t){return Ty(e.x,t.x)&&Ty(e.y,t.y)}function Py(e){return yt(e.x)/yt(e.y)}function Ay(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class LO{constructor(){this.members=[]}add(t){ip(this.members,t),t.scheduleRender()}remove(t){if(sp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MO(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),f&&(r+=`skewX(${f}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Xu=["","X","Y","Z"],NO=1e3;let $O=0;function Ju(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function H_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=j_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Te,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&H_(r)}function q_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=$O++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BO),this.nodes.forEach(HO),this.nodes.forEach(qO),this.nodes.forEach(UO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new EO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lp),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=a_(o)&&!P3(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,d=0;const h=()=>this.root.updateBlockedByResize=!1;Te.read(()=>{d=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,u&&u(),u=CO(h,250),kl.hasAnimatedSinceResize&&(kl.hasAnimatedSinceResize=!1,this.nodes.forEach(Dy)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||JO,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!W_(this.targetLayout,f),y=!d&&h;if(this.options.layoutRoot||this.resumeFrom||y||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...bp(m,"layout"),onPlay:v,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,y)}else d||Dy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KO),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ry);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WO),this.nodes.forEach(FO),this.nodes.forEach(zO)):this.nodes.forEach(Ry),this.clearAllSnapshots();const a=Et.now();tt.delta=Gn(0,1e3/60,a-tt.timestamp),tt.timestamp=a,tt.isProcessing=!0,Fu.update.process(tt),Fu.preRender.process(tt),Fu.render.process(tt),tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VO),this.sharedNodes.forEach(GO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yt(this.snapshot.measuredBox.x)&&!yt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!V_(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Gr(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),QO(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return We();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(ZO))){const{scroll:u}=this.root;u&&(Wi(a.x,u.offset.x),Wi(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=We();if(en(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&en(a,o),Wi(a.x,d.offset.x),Wi(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=We();en(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Hi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Gr(u.latestValues)&&Hi(l,u.latestValues)}return Gr(this.latestValues)&&Hi(l,this.latestValues),l}removeTransform(o){const a=We();en(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Gr(c.latestValues))continue;Ph(c.latestValues)&&c.updateSnapshot();const u=We(),d=c.measurePageBox();en(u,d),Sy(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Gr(this.latestValues)&&Sy(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=tt.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),S_(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ph(this.parent.latestValues)||k_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),cc(this.relativeTargetOrigin,a,l),en(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===tt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;en(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;yD(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=We());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(by(this.prevProjectionDelta.x,this.projectionDelta.x),by(this.prevProjectionDelta.y,this.projectionDelta.y)),xo(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!Ay(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ay(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qi(),this.projectionDelta=qi(),this.projectionDeltaWithTransform=qi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=qi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=We(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=f!==m,x=this.getStack(),g=!x||x.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(XO));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const S=k/1e3;Oy(d.x,o.x,S),Oy(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YO(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&IO(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=We()),en(w,this.relativeTarget)),v&&(this.animationValues=u,PO(u,c,this.latestValues,S,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{kl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ms(0)),this.currentAnimation=kO(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&K_(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||We();const d=yt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=yt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}en(a,l),Hi(a,u),xo(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new LO),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Ju("z",o,c,this.animationValues);for(let u=0;u<Xu.length;u++)Ju(`rotate${Xu[u]}`,o,c,this.animationValues),Ju(`skew${Xu[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=_l(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=_l(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Gr(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=MO(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in Xo){if(u[m]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:g}=Xo[m],y=d==="none"?u[m]:v(u[m],c);if(x){const w=x.length;for(let k=0;k<w;k++)o[x[k]]=y}else g?this.options.visualElement.renderState.vars[m]=y:o[m]=y}this.options.layoutId&&(o.pointerEvents=c===this?_l(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(jy),this.root.sharedNodes.clear()}}}function FO(e){e.updateLayout()}function zO(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?zt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],f=yt(h);h.min=r[d].min,h.max=h.min+f}):K_(s,t.layoutBox,r)&&zt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],f=yt(r[d]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+f)});const a=qi();xo(a,r,t.layoutBox);const l=qi();o?xo(l,e.applyTransform(i,!0),t.measuredBox):xo(l,r,t.layoutBox);const c=!V_(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=We();cc(m,t.layoutBox,h.layoutBox);const v=We();cc(v,r,f.layoutBox),W_(m,v)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function BO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function VO(e){e.clearSnapshot()}function jy(e){e.clearMeasurements()}function Ry(e){e.isLayoutDirty=!1}function WO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Dy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function HO(e){e.resolveTargetDelta()}function qO(e){e.calcProjection()}function KO(e){e.resetSkewAndRotation()}function GO(e){e.removeLeadSnapshot()}function Oy(e,t,n){e.translate=je(t.translate,0,n),e.scale=je(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Iy(e,t,n,r){e.min=je(t.min,n.min,r),e.max=je(t.max,n.max,r)}function YO(e,t,n,r){Iy(e.x,t.x,n.x,r),Iy(e.y,t.y,n.y,r)}function XO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const JO={duration:.45,ease:[.4,0,.1,1]},Ly=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),My=Ly("applewebkit/")&&!Ly("chrome/")?Math.round:Gt;function Ny(e){e.min=My(e.min),e.max=My(e.max)}function QO(e){Ny(e.x),Ny(e.y)}function K_(e,t,n){return e==="position"||e==="preserve-aspect"&&!iO(Py(t),Py(n),.2)}function ZO(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const eI=q_({attachResizeListener:(e,t)=>Jo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qu={current:void 0},G_=q_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qu.current){const e=new eI({});e.mount(window),e.setOptions({layoutScroll:!0}),Qu.current=e}return Qu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tI={pan:{Feature:wO},drag:{Feature:vO,ProjectionNode:G_,MeasureLayout:z_}};function $y(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Te.postRender(()=>s(t,da(t)))}class nI extends Nr{mount(){const{current:t}=this.node;t&&(this.unmount=k3(t,(n,r)=>($y(this.node,r,"Start"),i=>$y(this.node,i,"End"))))}unmount(){}}class rI extends Nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=la(Jo(this.node.current,"focus",()=>this.onFocus()),Jo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fy(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Te.postRender(()=>s(t,da(t)))}class iI extends Nr{mount(){const{current:t}=this.node;t&&(this.unmount=T3(t,(n,r)=>(Fy(this.node,r,"Start"),(i,{success:s})=>Fy(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lh=new WeakMap,Zu=new WeakMap,sI=e=>{const t=Lh.get(e.target);t&&t(e)},oI=e=>{e.forEach(sI)};function aI({root:e,...t}){const n=e||document;Zu.has(n)||Zu.set(n,{});const r=Zu.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(oI,{root:e,...t})),r[i]}function lI(e,t,n){const r=aI(t);return Lh.set(e,n),r.observe(e),()=>{Lh.delete(e),r.unobserve(e)}}const cI={some:0,all:1};class uI extends Nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:cI[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return lI(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(dI(t,n))&&this.startObserver()}unmount(){}}function dI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const hI={inView:{Feature:uI},tap:{Feature:iI},focus:{Feature:rI},hover:{Feature:nI}},fI={layout:{ProjectionNode:G_,MeasureLayout:z_}},pI={...QD,...hI,...tI,...fI},ut=pD(pI,TD);function nt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function mI(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const il=43200,zy=1440;let gI={};function yI(){return gI}function By(e){const t=nt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Sl(e,t){const n=nt(e),r=nt(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function vI(e){return mI(e,Date.now())}function wI(e,t){const n=nt(e),r=nt(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function xI(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function bI(e,t){return+nt(e)-+nt(t)}function _I(e){const t=nt(e);return t.setHours(23,59,59,999),t}function kI(e){const t=nt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function SI(e){const t=nt(e);return+_I(t)==+kI(t)}function EI(e,t){const n=nt(e),r=nt(t),i=Sl(n,r),s=Math.abs(wI(n,r));let o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let a=Sl(n,r)===-i;SI(nt(e))&&s===1&&Sl(e,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function CI(e,t,n){const r=bI(e,t)/1e3;return xI(n==null?void 0:n.roundingMethod)(r)}const TI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PI=(e,t,n)=>{let r;const i=TI[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ns(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const AI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DI={date:ns({formats:AI,defaultWidth:"full"}),time:ns({formats:jI,defaultWidth:"full"}),dateTime:ns({formats:RI,defaultWidth:"full"})},OI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},II=(e,t,n,r)=>OI[e];function bn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const LI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$I={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BI=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},UI={ordinalNumber:BI,era:bn({values:LI,defaultWidth:"wide"}),quarter:bn({values:MI,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bn({values:NI,defaultWidth:"wide"}),day:bn({values:$I,defaultWidth:"wide"}),dayPeriod:bn({values:FI,defaultWidth:"wide",formattingValues:zI,defaultFormattingWidth:"wide"})};function _n(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?WI(a,d=>d.test(o)):VI(a,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function VI(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function WI(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Y_(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const HI=/^(\d+)(th|st|nd|rd)?/i,qI=/\d+/i,KI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GI={any:[/^b/i,/^(a|c)/i]},YI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XI={any:[/1/i,/2/i,/3/i,/4/i]},JI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r6={ordinalNumber:Y_({matchPattern:HI,parsePattern:qI,valueCallback:e=>parseInt(e,10)}),era:_n({matchPatterns:KI,defaultMatchWidth:"wide",parsePatterns:GI,defaultParseWidth:"any"}),quarter:_n({matchPatterns:YI,defaultMatchWidth:"wide",parsePatterns:XI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_n({matchPatterns:JI,defaultMatchWidth:"wide",parsePatterns:QI,defaultParseWidth:"any"}),day:_n({matchPatterns:ZI,defaultMatchWidth:"wide",parsePatterns:e6,defaultParseWidth:"any"}),dayPeriod:_n({matchPatterns:t6,defaultMatchWidth:"any",parsePatterns:n6,defaultParseWidth:"any"})},i6={code:"en-US",formatDistance:PI,formatLong:DI,formatRelative:II,localize:UI,match:r6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function s6(e,t,n){const r=yI(),i=(n==null?void 0:n.locale)??r.locale??i6,s=2520,o=Sl(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=nt(t),c=nt(e)):(l=nt(e),c=nt(t));const u=CI(c,l),d=(By(c)-By(l))/1e3,h=Math.round((u-d)/60);let f;if(h<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,a):u<10?i.formatDistance("lessThanXSeconds",10,a):u<20?i.formatDistance("lessThanXSeconds",20,a):u<40?i.formatDistance("halfAMinute",0,a):u<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):h===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",h,a);if(h<45)return i.formatDistance("xMinutes",h,a);if(h<90)return i.formatDistance("aboutXHours",1,a);if(h<zy){const m=Math.round(h/60);return i.formatDistance("aboutXHours",m,a)}else{if(h<s)return i.formatDistance("xDays",1,a);if(h<il){const m=Math.round(h/zy);return i.formatDistance("xDays",m,a)}else if(h<il*2)return f=Math.round(h/il),i.formatDistance("aboutXMonths",f,a)}if(f=EI(c,l),f<12){const m=Math.round(h/il);return i.formatDistance("xMonths",m,a)}else{const m=f%12,v=Math.trunc(f/12);return m<3?i.formatDistance("aboutXYears",v,a):m<9?i.formatDistance("overXYears",v,a):i.formatDistance("almostXYears",v+1,a)}}function o6(e,t){return s6(e,vI(e),t)}const a6={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},l6=(e,t,n)=>{let r;const i=a6[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},c6={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},u6={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},d6={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},h6={date:ns({formats:c6,defaultWidth:"full"}),time:ns({formats:u6,defaultWidth:"full"}),dateTime:ns({formats:d6,defaultWidth:"full"})},f6={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},p6={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},m6=(e,t,n,r)=>t.getHours()!==1?p6[e]:f6[e],g6={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},y6={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},v6={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},w6={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},x6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},b6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},_6=(e,t)=>Number(e)+"",k6={ordinalNumber:_6,era:bn({values:g6,defaultWidth:"wide"}),quarter:bn({values:y6,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:bn({values:v6,defaultWidth:"wide"}),day:bn({values:w6,defaultWidth:"wide"}),dayPeriod:bn({values:x6,defaultWidth:"wide",formattingValues:b6,defaultFormattingWidth:"wide"})},S6=/^(\d+)()?/i,E6=/\d+/i,C6={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},T6={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},P6={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},A6={any:[/1/i,/2/i,/3/i,/4/i]},j6={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},R6={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},D6={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},O6={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},I6={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},L6={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},M6={ordinalNumber:Y_({matchPattern:S6,parsePattern:E6,valueCallback:function(e){return parseInt(e,10)}}),era:_n({matchPatterns:C6,defaultMatchWidth:"wide",parsePatterns:T6,defaultParseWidth:"any"}),quarter:_n({matchPatterns:P6,defaultMatchWidth:"wide",parsePatterns:A6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_n({matchPatterns:j6,defaultMatchWidth:"wide",parsePatterns:R6,defaultParseWidth:"any"}),day:_n({matchPatterns:D6,defaultMatchWidth:"wide",parsePatterns:O6,defaultParseWidth:"any"}),dayPeriod:_n({matchPatterns:I6,defaultMatchWidth:"any",parsePatterns:L6,defaultParseWidth:"any"})},N6={code:"es",formatDistance:l6,formatLong:h6,formatRelative:m6,localize:k6,match:M6,options:{weekStartsOn:1,firstWeekContainsDate:1}},$6=e=>({activity:"Actividad",financial:"Finanzas",social:"Social",security:"Seguridad",system:"Sistema",analytics:"Analytics"})[e||"system"]||"Sistema",F6=(e,t)=>{const n="w-5 h-5";return e.startsWith("link_")||e.startsWith("bio_page_")?p.jsx(pr,{className:n}):e.startsWith("revenue_")||e.startsWith("payout_")||e.startsWith("first_earning")?p.jsx(pr,{className:n}):e.startsWith("referral_")||e.startsWith("achievement_")?p.jsx(pr,{className:n}):e.startsWith("security_")?p.jsx(pr,{className:n}):p.jsx(pr,{className:n})},z6=(e,t,n)=>n?{background:"rgba(255, 255, 255, 0.02)",borderColor:"rgba(148, 163, 184, 0.1)",iconBg:"rgba(148, 163, 184, 0.05)",iconColor:"#64748b",glow:"none",opacity:.4,borderWidth:"1px"}:t==="urgent"?{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.25) 0%, rgba(220, 38, 38, 0.15) 100%)",borderColor:"rgba(239, 68, 68, 0.6)",iconBg:"rgba(239, 68, 68, 0.3)",iconColor:"#f87171",glow:"0 0 25px rgba(239, 68, 68, 0.5)",opacity:1,borderWidth:"2px"}:t==="high"?{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(37, 99, 235, 0.15) 100%)",borderColor:"rgba(59, 130, 246, 0.6)",iconBg:"rgba(59, 130, 246, 0.3)",iconColor:"#60a5fa",glow:"0 0 25px rgba(59, 130, 246, 0.5)",opacity:1,borderWidth:"2px"}:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.2) 0%, rgba(79, 70, 229, 0.12) 100%)",borderColor:"rgba(99, 102, 241, 0.5)",iconBg:"rgba(99, 102, 241, 0.25)",iconColor:"#a5b4fc",glow:"0 0 20px rgba(99, 102, 241, 0.3)",opacity:1,borderWidth:"2px"};function B6({isOpen:e,onClose:t}){const{notifications:n,unreadCount:r,markAsRead:i,markAllAsRead:s,deleteNotification:o,deleteAllRead:a}=zx(),[l,c]=b.useState(!0),u=b.useRef(null),[d,h]=b.useState(new Set);b.useEffect(()=>{if(!e)return;const v=x=>{u.current&&!u.current.contains(x.target)&&t()};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[e,t]),b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]);const f=[...n].sort((v,x)=>v.read!==x.read?v.read?1:-1:new Date(x.created_at).getTime()-new Date(v.created_at).getTime()),m=async v=>{v.read||await i(v.id),h(x=>{const g=new Set(x);return g.has(v.id)?g.delete(v.id):g.add(v.id),g})};return p.jsxs(p.Fragment,{children:[p.jsx(K0,{children:e&&p.jsx(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:t,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.75)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",zIndex:9998}})}),p.jsxs(ut.div,{ref:u,initial:{x:"100%"},animate:{x:e?0:"100%"},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},style:{position:"fixed",top:0,right:0,width:"100%",maxWidth:"420px",height:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)",borderLeft:"1px solid rgba(148, 163, 184, 0.1)",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"-20px 0 60px rgba(0, 0, 0, 0.7)",overflow:"hidden"},children:[p.jsxs("div",{style:{padding:"20px",paddingTop:"calc(env(safe-area-inset-top, 0px) + 20px)",borderBottom:"1px solid rgba(148, 163, 184, 0.1)",background:"linear-gradient(180deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx(ut.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:p.jsx(pr,{size:22,color:"#a5b4fc"})}),p.jsx("h2",{style:{fontSize:"22px",fontWeight:700,color:"#f9fafb",margin:0},children:"Notificaciones"}),r>0&&p.jsx(ut.span,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"#fff",fontSize:"11px",fontWeight:700,padding:"3px 8px",borderRadius:"999px",minWidth:"22px",textAlign:"center",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.4)"},children:r>99?"99+":r})]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{onClick:()=>c(!l),style:{width:"36px",height:"36px",borderRadius:"10px",border:"none",background:l?"rgba(34, 197, 94, 0.15)":"rgba(255, 255, 255, 0.05)",color:l?"#4ade80":"#94a3b8",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},title:l?"Sonidos activados":"Sonidos desactivados",children:l?p.jsx(Q4,{size:16}):p.jsx(eA,{size:16})}),p.jsx("button",{onClick:t,style:{width:"36px",height:"36px",borderRadius:"10px",border:"none",background:"rgba(255, 255, 255, 0.05)",color:"#94a3b8",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:v=>{v.currentTarget.style.background="rgba(255, 255, 255, 0.1)",v.currentTarget.style.color="#f9fafb"},onMouseLeave:v=>{v.currentTarget.style.background="rgba(255, 255, 255, 0.05)",v.currentTarget.style.color="#94a3b8"},children:p.jsx(Ic,{size:18})})]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r>0&&p.jsxs(ut.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,style:{flex:1,padding:"8px 12px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(22, 163, 74, 0.1) 100%)",color:"#4ade80",fontSize:"12px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s ease"},children:[p.jsx(Ux,{size:14}),"Marcar todas como ledas"]}),n.filter(v=>v.read).length>0&&p.jsxs(ut.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,style:{padding:"8px 12px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(220, 38, 38, 0.1) 100%)",color:"#f87171",fontSize:"12px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s ease"},children:[p.jsx(Xx,{size:14}),"Limpiar"]})]})]}),p.jsx("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"12px",paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 12px)",WebkitOverflowScrolling:"touch"},children:p.jsx(K0,{mode:"popLayout",children:f.length===0?p.jsxs(ut.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"80px 20px",textAlign:"center",color:"#64748b"},children:[p.jsx(ut.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:p.jsx(pr,{size:64,style:{marginBottom:"20px",opacity:.3}})}),p.jsx("p",{style:{fontSize:"18px",fontWeight:600,marginBottom:"8px",color:"#94a3b8"},children:"No hay notificaciones"}),p.jsx("p",{style:{fontSize:"13px",color:"#64748b"},children:"Te notificaremos cuando haya actividad importante"})]}):f.map((v,x)=>p.jsx(U6,{notification:v,index:x,onClick:()=>m(v),onMarkRead:()=>i(v.id),onDelete:()=>o(v.id),isExpanded:d.has(v.id)},v.id))})})]})]})}function U6({notification:e,index:t,onClick:n,onMarkRead:r,onDelete:i,isExpanded:s}){const[o,a]=b.useState(!1),[l,c]=b.useState(!1),u=o6(new Date(e.created_at),{addSuffix:!0,locale:N6}),d=z6(e.type,e.priority,e.read),h=F6(e.type,e.priority),f=$6(e.category),m=async()=>{c(!0),setTimeout(()=>{i()},300)};return p.jsxs(ut.div,{layout:!0,initial:{opacity:0,x:50,scale:.9},animate:{opacity:l?0:e.read?.4:1,x:l?100:0,scale:l?.8:1},exit:{opacity:0,x:-50,scale:.9},transition:{type:"spring",damping:25,stiffness:300,delay:t*.03},onHoverStart:()=>a(!0),onHoverEnd:()=>a(!1),onClick:n,whileHover:{x:-4,scale:e.read?1:1.02},whileTap:{scale:.98},style:{padding:"16px",borderRadius:"16px",background:d.background,border:`${d.borderWidth} solid ${d.borderColor}`,cursor:"pointer",marginBottom:"8px",position:"relative",overflow:"hidden",opacity:d.opacity,boxShadow:!e.read&&o?`0 8px 24px rgba(0, 0, 0, 0.5), ${d.glow}`:e.read?"0 1px 3px rgba(0, 0, 0, 0.1)":`0 4px 12px rgba(0, 0, 0, 0.3), ${d.glow}`,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[!e.read&&p.jsx(ut.div,{initial:{scale:0},animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:1/0},style:{position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",width:"5px",height:"70%",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",borderRadius:"0 4px 4px 0",boxShadow:"0 0 12px rgba(99, 102, 241, 0.8)",zIndex:1}}),!e.read&&o&&p.jsx(ut.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:.6,ease:"easeInOut"},style:{position:"absolute",inset:0,background:"linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.15) 50%, transparent 100%)",pointerEvents:"none"}}),p.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start",position:"relative",zIndex:1},children:[p.jsx(ut.div,{animate:e.read?{}:{scale:[1,1.15,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},style:{width:"44px",height:"44px",borderRadius:"12px",background:d.iconBg,display:"flex",alignItems:"center",justifyContent:"center",color:d.iconColor,flexShrink:0,boxShadow:e.read?"none":`0 4px 16px ${d.iconBg}`},children:h}),p.jsx("div",{style:{flex:1,minWidth:0},children:p.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"8px"},children:[p.jsxs("div",{style:{flex:1},children:[p.jsx("div",{style:{display:"inline-block",marginBottom:"6px",padding:"2px 8px",borderRadius:"6px",background:e.read?"rgba(148, 163, 184, 0.1)":"rgba(99, 102, 241, 0.2)",color:e.read?"#64748b":"#a5b4fc",fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"},children:f}),p.jsx("h3",{style:{fontSize:"15px",fontWeight:e.read?500:700,color:e.read?"#94a3b8":"#f9fafb",margin:"0 0 6px 0",lineHeight:"1.4"},children:e.title}),p.jsx("p",{style:{fontSize:"13px",color:e.read?"#64748b":"#cbd5e1",margin:"0 0 8px 0",lineHeight:"1.5"},children:e.message}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px"},children:[p.jsx("span",{style:{fontSize:"11px",color:e.read?"#475569":"#64748b",fontWeight:500},children:u}),e.priority==="urgent"&&p.jsx("span",{style:{fontSize:"10px",fontWeight:700,color:"#f87171",background:"rgba(239, 68, 68, 0.2)",padding:"2px 6px",borderRadius:"4px"},children:"URGENTE"})]})]}),o&&p.jsxs(ut.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},style:{display:"flex",gap:"4px",flexShrink:0},onClick:v=>v.stopPropagation(),children:[!e.read&&p.jsx(ut.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",background:"rgba(34, 197, 94, 0.15)",color:"#4ade80",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},title:"Marcar como leda",children:p.jsx(Ux,{size:14})}),p.jsx(ut.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m,style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",background:"rgba(239, 68, 68, 0.15)",color:"#f87171",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},title:"Eliminar",children:p.jsx(Xx,{size:14})})]})]})})]})]})}function V6(){const e=Lr(),{user:t}=oa(),{unreadCount:n}=zx(),[r,i]=b.useState(null),[s,o]=b.useState(!1);return b.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{const{data:c}=await R.from("profiles").select("avatar_url").eq("id",t.id).single();c!=null&&c.avatar_url&&i(c.avatar_url)})();const l=R.channel("profile-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${t.id}`},c=>{var u;(u=c.new)!=null&&u.avatar_url&&i(c.new.avatar_url)}).subscribe();return()=>{R.removeChannel(l)}},[t==null?void 0:t.id]),p.jsxs("header",{className:"lp-mobile-header",children:[p.jsx("style",{children:W6}),p.jsxs("div",{className:"lp-header-left",children:[p.jsx("button",{className:"lp-header-avatar-btn",onClick:()=>e("/app/settings"),children:r?p.jsx("img",{src:r,alt:"Avatar",className:"lp-header-avatar-img"}):p.jsxs("div",{className:"lp-header-avatar-placeholder",children:[p.jsx(z5,{size:16,className:"lp-header-camera-icon"}),p.jsx("span",{className:"lp-header-avatar-pulse"})]})}),p.jsx("button",{className:"lp-header-icon-btn",onClick:()=>e("/app/referrals"),children:p.jsx(Xf,{size:20})})]}),p.jsx("div",{className:"lp-header-brand",children:p.jsx("span",{className:"lp-header-title",children:"LinkPay"})}),p.jsxs("div",{className:"lp-header-right",children:[p.jsxs("button",{className:"lp-header-icon-btn lp-header-notifications-btn",onClick:()=>o(!0),style:{position:"relative"},children:[p.jsx(pr,{size:20}),n>0&&p.jsx(ut.span,{className:"lp-notification-badge",initial:{scale:0},animate:{scale:1},whileHover:{scale:1.15},transition:{type:"spring",stiffness:500,damping:15},children:n>99?"99+":n})]}),p.jsx("button",{className:"lp-header-icon-btn",onClick:()=>e("/app/settings"),children:p.jsx(Kx,{size:20})})]}),p.jsx(B6,{isOpen:s,onClose:()=>o(!1)})]})}const W6=`
  .lp-mobile-header {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    height: calc(48px + env(safe-area-inset-top, 0px));
    padding-top: env(safe-area-inset-top, 0px);
    padding-left: 12px;
    padding-right: 12px;
    background: transparent;
    align-items: center;
    justify-content: space-between;
  }

  @media (max-width: 768px) {
    .lp-mobile-header {
      display: flex;
    }
  }

  .lp-header-left {
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 50px;
    flex-shrink: 0;
  }

  .lp-header-avatar-btn {
    width: 34px;
    height: 34px;
    border-radius: 50%;
    border: none;
    padding: 0;
    cursor: pointer;
    background: transparent;
    position: relative;
  }

  .lp-header-avatar-img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid rgba(99, 102, 241, 0.5);
  }

  .lp-header-avatar-placeholder {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 2px solid rgba(99, 102, 241, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .lp-header-camera-icon {
    color: #94a3b8;
    animation: lp-camera-bounce 2s ease-in-out infinite;
  }

  @keyframes lp-camera-bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.15); }
  }

  .lp-header-avatar-pulse {
    position: absolute;
    inset: -3px;
    border-radius: 50%;
    border: 2px solid rgba(99, 102, 241, 0.6);
    animation: lp-pulse-ring 2s ease-out infinite;
  }

  @keyframes lp-pulse-ring {
    0% { transform: scale(1); opacity: 1; }
    100% { transform: scale(1.4); opacity: 0; }
  }

  .lp-header-brand {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }

  .lp-header-title {
    font-size: 17px;
    font-weight: 700;
    background: linear-gradient(135deg, #f9fafb 0%, #a5b4fc 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .lp-header-right {
    display: flex;
    align-items: center;
    gap: 6px;
    min-width: 50px;
    flex-shrink: 0;
  }

  .lp-header-icon-btn {
    width: 38px;
    height: 38px;
    border-radius: 10px;
    border: none;
    background: rgba(255, 255, 255, 0.05);
    color: #94a3b8;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
  }

  .lp-header-icon-btn:hover {
    background: rgba(255, 255, 255, 0.12);
    color: #f9fafb;
  }

  .lp-header-icon-btn:active {
    transform: scale(0.95);
  }

  .lp-header-notifications-btn {
    position: relative;
  }

  .lp-notification-badge {
    position: absolute;
    top: -6px;
    right: -6px;
    min-width: 20px;
    height: 20px;
    padding: 0 5px;
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: #fff;
    font-size: 10px;
    font-weight: 700;
    border-radius: 999px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #0f172a;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.5);
    animation: lp-badge-pulse 2s ease-in-out infinite;
    z-index: 10;
  }

  @keyframes lp-badge-pulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 2px 8px rgba(239, 68, 68, 0.5);
    }
    50% {
      transform: scale(1.1);
      box-shadow: 0 2px 12px rgba(239, 68, 68, 0.7);
    }
  }
`,Uy="lp_splash_shown";function H6(){const e=Lr();fn();const{t,setLanguage:n,language:r}=Dj(),{signOut:i}=oa(),[s,o]=b.useState(!1),[a,l]=b.useState(()=>!sessionStorage.getItem(Uy)),c=()=>{sessionStorage.setItem(Uy,"true"),l(!1)},u=async()=>{o(!1),await i(),e("/login",{replace:!0})},d=[{icon:m4,label:"Resumen",path:"/app"},{icon:Yx,label:"Crear Link",path:"/app/create"},{icon:Ho,label:"Bio Page",path:"/app/bio-editor"},{icon:l0,label:"Analytics",path:"/app/analytics"},{icon:d0,label:"Mis Enlaces",path:"/app/links"},{icon:p0,label:"Finanzas",path:"/app/payouts"},{icon:Xf,label:"Red de Referidos",path:"/app/referrals"},{icon:Kx,label:"Ajustes",path:"/app/settings"}],h=[{icon:Ho,label:"Bio",path:"/app/bio-editor"},{icon:d0,label:"Links",path:"/app/links"}],f=[{icon:p0,label:"Wallet",path:"/app/payouts"},{icon:l0,label:"Analytics",path:"/app/analytics"}];return p.jsxs(p.Fragment,{children:[a&&p.jsx(Oj,{onComplete:c,minDuration:2500}),p.jsxs("div",{className:`lp-app-shell ${a?"lp-hidden":""}`,children:[p.jsx("style",{children:q6}),p.jsx(V6,{}),p.jsxs("aside",{className:"lp-sidebar-desktop",children:[p.jsxs("div",{className:"lp-sidebar-header",children:[p.jsx("div",{className:"lp-sidebar-logo-orb",children:p.jsx("img",{src:"/icons/icon-192.png",alt:"LinkPay",className:"lp-sidebar-logo-img",style:{width:"100%",height:"100%",borderRadius:"10px",objectFit:"cover"}})}),p.jsxs("div",{className:"lp-sidebar-brand",children:[p.jsx("div",{className:"lp-sidebar-title-row",children:p.jsx("span",{className:"lp-sidebar-title",children:"LinkPay"})}),p.jsx("span",{className:"lp-sidebar-sub",children:"Creator Studio"})]})]}),p.jsxs("nav",{className:"lp-sidebar-nav",children:[p.jsx("div",{className:"lp-nav-section-label",children:"Panel principal"}),d.map(m=>p.jsxs(no,{to:m.path,end:m.path==="/app",className:({isActive:v})=>"lp-nav-item"+(v?" active":""),children:[p.jsx("span",{className:"lp-nav-icon-wrap",children:p.jsx(m.icon,{className:"lp-nav-icon",size:18,strokeWidth:2.1})}),p.jsx("span",{className:"lp-nav-label",children:m.label==="Red de Referidos"?"Red de referidos":m.label})]},m.path))]}),p.jsxs("div",{className:"lp-sidebar-footer",children:[p.jsxs("div",{className:"lp-lang-switcher",children:[p.jsx("button",{className:`lp-lang-btn ${r==="es"?"active":""}`,onClick:()=>n("es"),children:"ES"}),p.jsx("button",{className:`lp-lang-btn ${r==="en"?"active":""}`,onClick:()=>n("en"),children:"EN"}),p.jsx("button",{className:`lp-lang-btn ${r==="fr"?"active":""}`,onClick:()=>n("fr"),children:"FR"}),p.jsx("button",{className:`lp-lang-btn ${r==="it"?"active":""}`,onClick:()=>n("it"),children:"IT"})]}),p.jsxs("button",{type:"button",onClick:u,className:"lp-logout-btn",children:[p.jsx("span",{className:"lp-logout-icon-wrap",children:p.jsx(S4,{size:16})}),p.jsx("span",{children:"Cerrar sesin"})]})]})]}),p.jsx("nav",{className:"lp-mobile-nav",children:p.jsxs("div",{className:"lp-mobile-nav-inner",children:[h.map(m=>p.jsxs(no,{to:m.path,className:({isActive:v})=>"lp-mobile-item"+(v?" active":""),children:[p.jsx("div",{className:"lp-mobile-icon-pill",children:p.jsx(m.icon,{className:"lp-mobile-icon",size:22,strokeWidth:2})}),p.jsx("span",{className:"lp-mobile-label",children:m.label})]},m.path)),p.jsxs(no,{to:"/app",end:!0,className:({isActive:m})=>"lp-mobile-item lp-mobile-center"+(m?" active":""),children:[p.jsx("div",{className:"lp-mobile-center-orb",children:p.jsx(a4,{className:"lp-mobile-center-icon",size:26,strokeWidth:2.2})}),p.jsx("span",{className:"lp-mobile-label",children:"Home"})]}),f.map(m=>p.jsxs(no,{to:m.path,className:({isActive:v})=>"lp-mobile-item"+(v?" active":""),children:[p.jsx("div",{className:"lp-mobile-icon-pill",children:p.jsx(m.icon,{className:"lp-mobile-icon",size:22,strokeWidth:2})}),p.jsx("span",{className:"lp-mobile-label",children:m.label})]},m.path))]})}),p.jsx("main",{className:"lp-main-shell",children:p.jsx(dC,{})}),p.jsx(tb,{})]})]})}const q6=`
      .lp-app-shell {
        display: flex;
      min-height: 100dvh;
      background: #020617;
      position: relative;
      color: #e5e7eb;
      font-family: -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  }

  /* Hide app shell during splash - completely invisible */
  .lp-app-shell.lp-hidden {
    visibility: hidden;
    opacity: 0;
    pointer-events: none;
  }

  .lp-app-shell.lp-hidden .lp-mobile-nav,
  .lp-app-shell.lp-hidden .lp-sidebar-desktop {
    display: none !important;
  }


      /* ===== SIDEBAR DESKTOP ===== */
      .lp-sidebar-desktop {
        width: 258px;
      padding: 20px 18px 20px 18px;
      border-right: 1px solid rgba(30, 64, 175, 0.7);
      background:
      radial-gradient(circle at 0% 0%, rgba(15,23,42,0.98), rgba(15,23,42,0.96)),
      radial-gradient(circle at 100% 100%, rgba(15,23,42,0.96), rgba(2,6,23,0.98));
      backdrop-filter: blur(24px);
      -webkit-backdrop-filter: blur(24px);
      box-shadow:
      0 0 0 1px rgba(15, 23, 42, 0.9),
      0 18px 60px rgba(0, 0, 0, 0.9);
      position: sticky;
      top: 0;
      height: 100dvh;
      display: flex;
      flex-direction: column;
      z-index: 40;
  }

      .lp-sidebar-header {
        display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 26px;
      padding-left: 4px;
  }

      .lp-sidebar-logo-orb {
        width: 34px;
      height: 34px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0%, #4f46e5, #22c55e);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow:
      0 0 0 1px rgba(191, 219, 254, 0.35),
      0 16px 30px rgba(15, 23, 42, 1);
  }

      .lp-sidebar-logo-inner {
        width: 24px;
      height: 24px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0%, #1d4ed8, #0f172a);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow:
      inset 0 0 0 1px rgba(148, 163, 184, 0.6),
      0 10px 22px rgba(15, 23, 42, 0.9);
  }

      .lp-sidebar-brand {
        display: flex;
      flex-direction: column;
      gap: 2px;
  }

      .lp-sidebar-title-row {
        display: flex;
      align-items: center;
      gap: 6px;
  }

      .lp-sidebar-title {
        font - size: 18px;
      font-weight: 800;
      letter-spacing: -0.04em;
      color: #f9fafb;
  }

      .lp-sidebar-sub {
        font - size: 11px;
      color: #9ca3af;
  }

      .lp-sidebar-nav {
        margin - top: 4px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      flex: 1;
      overflow-y: auto;
      padding-right: 4px;
  }

      .lp-nav-section-label {
        font - size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #6b7280;
      margin: 0 0 6px 6px;
  }

      .lp-nav-item {
        position: relative;
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 10px;
      border-radius: 999px;
      text-decoration: none;
      color: #9ca3af;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition:
      background 0.18s ease,
      color 0.18s ease,
      transform 0.18s ease,
      box-shadow 0.18s ease;
  }

      .lp-nav-item::before {
        content: "";
      position: absolute;
      inset: -2px;
      border-radius: inherit;
      background: radial-gradient(circle at 0 0, rgba(59, 130, 246, 0.4), transparent 60%);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.18s ease;
  }

      .lp-nav-item:hover {
        background: rgba(15, 23, 42, 0.9);
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.9);
  }

      .lp-nav-item:hover::before {
        opacity: 0.7;
  }

      .lp-nav-item.active {
        background: radial-gradient(circle at 0% 0%, rgba(59, 130, 246, 0.35), rgba(15,23,42,0.96));
      color: #f9fafb;
      box-shadow:
      0 0 0 1px rgba(191, 219, 254, 0.55),
      0 14px 32px rgba(15, 23, 42, 0.96);
  }

      .lp-nav-item.active::before {
        opacity: 0.9;
  }

      .lp-nav-icon-wrap {
        width: 26px;
      height: 26px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.92);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: inset 0 0 0 1px rgba(30, 64, 175, 0.7);
  }

      .lp-nav-icon {
        color: #9ca3af;
  }

      .lp-nav-item.active .lp-nav-icon-wrap {
        background: radial-gradient(circle at 30% 0, #4f46e5, #1e293b);
      box-shadow:
      0 0 0 1px rgba(191, 219, 254, 0.65),
      0 10px 24px rgba(59, 130, 246, 0.7);
  }

      .lp-nav-item.active .lp-nav-icon {
        color: #e5f2ff;
  }

      .lp-nav-label {
        white - space: nowrap;
  }

      .lp-sidebar-footer {
        border - top: 1px solid rgba(30, 64, 175, 0.7);
      padding-top: 12px;
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
  }

      .lp-lang-switcher {
        display: flex;
      gap: 4px;
      justify-content: center;
      margin-bottom: 4px;
  }

      .lp-lang-btn {
        background: transparent;
      border: 1px solid rgba(148, 163, 184, 0.4);
      color: #9ca3af;
      font-size: 10px;
      font-weight: 700;
      padding: 2px 6px;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
  }

      .lp-lang-btn:hover {
        border - color: rgba(148, 163, 184, 0.8);
      color: #e5e7eb;
  }

      .lp-lang-btn.active {
        background: rgba(59, 130, 246, 0.2);
      border-color: #3b82f6;
      color: #60a5fa;
  }


      .lp-logout-btn {
        width: 100%;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: none;
      background: rgba(15, 23, 42, 0.9);
      color: #9ca3af;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.95);
      transition:
      background 0.18s ease,
      color 0.18s ease,
      transform 0.18s ease,
      box-shadow 0.18s ease;
  }

      .lp-logout-btn:hover {
        background: rgba(30, 64, 175, 0.95);
      color: #e5e7eb;
      transform: translateY(-1px);
      box-shadow: 0 12px 28px rgba(15, 23, 42, 1);
  }

      .lp-logout-icon-wrap {
        width: 22px;
      height: 22px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.96);
      display: flex;
      align-items: center;
      justify-content: center;
  }

      .lp-logout-icon-wrap svg {
        color: #9ca3af;
  }

      .lp-logout-btn:hover .lp-logout-icon-wrap svg {
        color: #e5e7eb;
  }

      /* ===== MAIN ===== */
      .lp-main-shell {
        flex: 1;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
      padding: 24px 24px 110px 24px;
      position: relative;
      z-index: 1;
  }

      /* ===== MOBILE NAV - SOLID INTEGRATED DOCK ===== */
      .lp-mobile-nav {
        position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      display: none;
      z-index: 60;
      /* Solid background */
      background: #020617;
  }

      /* BULLETPROOF: Extend background beyond screen bottom to cover home indicator */
      .lp-mobile-nav::after {
        content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: -200px;
      height: 200px;
      background: #020617;
      z-index: -1;
  }

      .lp-mobile-nav-inner {
        display: flex;
      align-items: flex-end;
      justify-content: space-evenly;
      /* Content padding includes safe area for proper spacing */
      padding: 10px 8px calc(env(safe-area-inset-bottom, 34px) + 10px) 8px;
      background: linear-gradient(180deg, #0f172a 0%, #020617 100%);
      border-top: 1px solid rgba(99, 102, 241, 0.25);
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
  }

      .lp-mobile-item {
        display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      text-decoration: none;
      color: #64748b;
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.02em;
      flex: 1;
      min-height: 56px;
      padding: 6px 2px;
      border: none;
      background: transparent;
      cursor: pointer;
      position: relative;
      transition: all 0.2s ease;
      -webkit-tap-highlight-color: transparent;
  }

      .lp-mobile-item:active {
        transform: scale(0.95);
  }

      .lp-mobile-item.active {
        color: #f1f5f9;
  }

      .lp-mobile-icon-pill {
        width: 44px;
      height: 44px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

      .lp-mobile-item.active .lp-mobile-icon-pill {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      box-shadow:
      0 6px 20px rgba(99, 102, 241, 0.45),
      0 0 0 1px rgba(255, 255, 255, 0.1) inset;
      transform: translateY(-3px) scale(1.02);
  }

      .lp-mobile-icon {
        color: #64748b;
      transition: all 0.25s ease;
  }

      .lp-mobile-item.active .lp-mobile-icon {
        color: #ffffff;
  }

      .lp-mobile-label {
        white - space: nowrap;
      transition: all 0.2s ease;
  }

      .lp-mobile-item.active .lp-mobile-label {
        font - weight: 700;
  }

      /* ===== CENTER DASHBOARD ORB - HERO BUTTON ===== */
      .lp-mobile-center {
        position: relative;
      z-index: 10;
      flex: 1.2;
  }

      .lp-mobile-center-orb {
        width: 52px;
      height: 52px;
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%);
      box-shadow:
      0 4px 20px rgba(99, 102, 241, 0.4),
      0 0 0 2px rgba(255, 255, 255, 0.1) inset;
      transform: translateY(-4px);
      transition: all 0.2s ease;
  }

      .lp-mobile-center:active .lp-mobile-center-orb {
        transform: translateY(-2px) scale(0.95);
  }

      .lp-mobile-center.active .lp-mobile-center-orb {
        background: linear-gradient(135deg, #22c55e 0%, #10b981 50%, #059669 100%);
      box-shadow:
      0 6px 24px rgba(34, 197, 94, 0.5),
      0 0 0 2px rgba(255, 255, 255, 0.15) inset;
      transform: translateY(-6px);
  }

      .lp-mobile-center-icon {
        color: #ffffff;
  }

      .lp-mobile-center .lp-mobile-label {
        font - weight: 700;
      color: #e5e7eb;
  }

      .lp-mobile-center.active .lp-mobile-label {
        color: #4ade80;
  }

      /* More Button specific */
      .lp-more-btn {
        border: none;
      background: transparent;
  }

      /* ===== MORE MENU OVERLAY - PREMIUM SHEET ===== */
      .lp-more-backdrop {
        position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      z-index: 100;
      animation: fadeIn 0.2s ease-out;
  }

      @keyframes fadeIn {
        from {opacity: 0; }
      to {opacity: 1; }
  }

      .lp-more-sheet {
        position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(180deg, rgba(30, 41, 59, 0.98) 0%, rgba(15, 23, 42, 0.99) 100%);
      border-top-left-radius: 28px;
      border-top-right-radius: 28px;
      padding: 0 0 calc(env(safe-area-inset-bottom, 20px) + 20px) 0;
      z-index: 101;
      animation: slideUp 0.35s cubic-bezier(0.32, 0.72, 0, 1);
      box-shadow:
      0 -12px 50px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(99, 102, 241, 0.1) inset;
      border-top: 1px solid rgba(99, 102, 241, 0.2);
  }

      @keyframes slideUp {
        from {transform: translateY(100%); }
      to {transform: translateY(0); }
  }

      .lp-more-header {
        display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 20px 16px 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  }

      .lp-more-title {
        font - size: 18px;
      font-weight: 700;
      color: #f1f5f9;
      letter-spacing: -0.02em;
  }

      .lp-more-close {
        width: 44px;
      height: 44px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      color: #94a3b8;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
  }

      .lp-more-close:active {
        transform: scale(0.95);
      background: rgba(255, 255, 255, 0.1);
      color: #f1f5f9;
  }

      .lp-more-list {
        padding: 12px 16px;
  }

      .lp-more-item {
        width: 100%;
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 16px 14px;
      border-radius: 18px;
      border: none;
      background: transparent;
      color: #94a3b8;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      text-align: left;
      transition: all 0.2s ease;
      -webkit-tap-highlight-color: transparent;
  }

      .lp-more-item:active {
        transform: scale(0.99);
      background: rgba(99, 102, 241, 0.12);
      color: #f1f5f9;
  }

      .lp-more-item.active {
        background: rgba(99, 102, 241, 0.12);
      color: #a5b4fc;
  }

      .lp-more-icon {
        width: 48px;
      height: 48px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.06);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
  }

      .lp-more-item:active .lp-more-icon {
        background: rgba(99, 102, 241, 0.15);
      border-color: rgba(99, 102, 241, 0.2);
  }

      .lp-more-item.active .lp-more-icon {
        background: rgba(99, 102, 241, 0.15);
      border-color: rgba(99, 102, 241, 0.25);
  }

      .lp-more-label {
        flex: 1;
  }

      .lp-more-chevron {
        color: #475569;
      transition: all 0.2s ease;
  }

      .lp-more-item:active .lp-more-chevron {
        transform: translateX(4px);
      color: #94a3b8;
  }

      .lp-more-footer {
        padding: 16px 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.06);
      margin-top: 8px;
  }

      .lp-more-logout {
        width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 16px;
      border-radius: 16px;
      border: 1px solid rgba(239, 68, 68, 0.25);
      background: rgba(239, 68, 68, 0.08);
      color: #f87171;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      -webkit-tap-highlight-color: transparent;
  }

      .lp-more-logout:active {
        transform: scale(0.98);
      background: rgba(239, 68, 68, 0.15);
      border-color: rgba(239, 68, 68, 0.35);
  }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 768px) {
    .lp-sidebar-desktop {
      display: none;
    }
    .lp-main-shell {
      /* Padding-top for header + safe-area, padding-bottom for nav */
      padding-top: calc(56px + env(safe-area-inset-top, 0px));
      padding-bottom: 100px;
      padding-left: 0;
      padding-right: 0;
      max-width: 100%;
    }
    .lp-mobile-nav {
      display: block;
    }
  }

  @media (min-width: 769px) {
    .lp-mobile-nav {
      display: none;
    }
  }
`;function K6({children:e}){const{user:t,loading:n}=oa(),r=fn(),{prefetchAll:i}=aa();return b.useEffect(()=>{t&&!n&&i()},[t,n,i]),n?p.jsxs("div",{style:{minHeight:"100dvh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#020617",flexDirection:"column",gap:"16px"},children:[p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #4F46E5 0%, #22C55E 100%)",animation:"pulse 1.5s ease-in-out infinite"}}),p.jsx("span",{style:{color:"#64748B",fontSize:"14px",fontWeight:500,letterSpacing:"0.5px"},children:"Cargando LinkPay..."}),p.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
          }
        `})]}):t?p.jsx(p.Fragment,{children:e}):p.jsx(to,{to:"/login",replace:!0,state:{from:r}})}const G6=b.lazy(()=>Rn(()=>import("./DashboardPage-BBeqXBvH.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.DashboardPage})));b.lazy(()=>Rn(()=>import("./CreateLinkPage-KCWtVDXj.js"),__vite__mapDeps([6,7,8,9,10])).then(e=>({default:e.CreateLinkPage})));const Y6=b.lazy(()=>Rn(()=>import("./LinksPage-PS9FbQkr.js"),__vite__mapDeps([11,10,7,12,13])).then(e=>({default:e.LinksPage}))),X6=b.lazy(()=>Rn(()=>import("./LinksHub-DvThVo-1.js"),__vite__mapDeps([14,6,7,8,9,10,11,12,13])).then(e=>({default:e.LinksHub}))),J6=b.lazy(()=>Rn(()=>import("./AnalyticsPage-BGcf1rPy.js"),__vite__mapDeps([15,3,4,2,9,16])).then(e=>({default:e.AnalyticsPage}))),Vy=b.lazy(()=>Rn(()=>import("./PayoutsPage-hC2FOqTQ.js"),__vite__mapDeps([17,1,13])).then(e=>({default:e.PayoutsPage}))),Q6=b.lazy(()=>Rn(()=>import("./SettingsPage-BjGp4dqZ.js"),__vite__mapDeps([18,19,1,12,7,2,20,13])).then(e=>({default:e.SettingsPage}))),Z6=b.lazy(()=>Rn(()=>import("./BioEditorPage-CdzbfEjh.js"),__vite__mapDeps([21,19,2,1,8,9,22,13])).then(e=>({default:e.BioEditorPage}))),eL=b.lazy(()=>Rn(()=>import("./ReferralsPage-B5gO7AJj.js"),__vite__mapDeps([23,1,3,8,7,13])).then(e=>({default:e.ReferralsPage}))),tL=b.lazy(()=>Rn(()=>import("./AdminPage-B1hQlA63.js"),__vite__mapDeps([24,2])).then(e=>({default:e.AdminPage})));function nL(){return p.jsxs("div",{style:{width:"100%",minHeight:"60vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px"},children:[p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",border:"3px solid rgba(99, 102, 241, 0.2)",borderTopColor:"#6366F1",animation:"spin 0.8s linear infinite"}}),p.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}function vn(e){return p.jsx(b.Suspense,{fallback:p.jsx(nL,{}),children:p.jsx(e,{})})}const rL=MC([{path:"/",element:p.jsx(yA,{})},{path:"/login",element:p.jsx(vj,{})},{path:"/register",element:p.jsx(xj,{})},{path:"/forgot-password",element:p.jsx(bj,{})},{path:"/l/:slug",element:p.jsx(Cj,{})},{path:"/b/:username",element:p.jsx(Pj,{})},{path:"/admin",element:vn(tL)},{path:"/app",element:p.jsx(K6,{children:p.jsx(H6,{})}),children:[{index:!0,element:vn(G6)},{path:"create",element:p.jsx(to,{to:"/app/links",replace:!0})},{path:"links",element:vn(X6)},{path:"my-links",element:vn(Y6)},{path:"payouts",element:vn(Vy)},{path:"finance",element:vn(Vy)},{path:"analytics",element:vn(J6)},{path:"technology",element:p.jsx(to,{to:"/app",replace:!0})},{path:"developers",element:p.jsx(to,{to:"/app/settings",replace:!0})},{path:"settings",element:vn(Q6)},{path:"bio-editor",element:vn(Z6)},{path:"referrals",element:vn(eL)}]},{path:"*",element:p.jsx(to,{to:"/",replace:!0})}]);ed.createRoot(document.getElementById("root")).render(p.jsx(tv.StrictMode,{children:p.jsx(dA,{children:p.jsx(Rj,{children:p.jsx(y5,{children:p.jsx(m5,{children:p.jsx(T5,{children:p.jsx(E5,{children:p.jsxs(oA,{children:[p.jsx(uA,{}),p.jsx(KC,{router:rL})]})})})})})})})}));export{fL as $,Yf as A,xL as B,Ux as C,c0 as D,Q5 as E,Y5 as F,R as G,bL as H,gL as I,pr as J,S4 as K,v4 as L,T4 as M,z5 as N,s4 as O,s0 as P,mL as Q,tv as R,Yx as S,Xx as T,Y4 as U,Oc as V,p0 as W,Ic as X,hL as Y,dh as Z,Rn as _,Lr as a,pL as a0,Hx as a1,Xf as a2,_L as a3,ph as a4,F4 as a5,A4 as a6,e4 as a7,x4 as a8,r4 as a9,H4 as aa,iA as ab,K4 as ac,d4 as ad,wj as ae,Gx as af,dL as ag,vL as b,d0 as c,Q as d,aa as e,h0 as f,Kx as g,K0 as h,qx as i,p as j,Vx as k,Cr as l,ut as m,Wo as n,yL as o,l0 as p,K5 as q,b as r,ik as s,i1 as t,Dj as u,iL as v,wL as w,Jx as x,O4 as y,Ho as z};
